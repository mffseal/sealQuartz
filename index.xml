<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>ğŸ¦­æµ·è±¹æ¹¾ on</title><link>https://harbor.mffseal.top/</link><description>Recent content in ğŸ¦­æµ·è±¹æ¹¾ on</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><atom:link href="https://harbor.mffseal.top/index.xml" rel="self" type="application/rss+xml"/><item><title>_dl_runtime_resolve</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux/_dl_runtime_resolve/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux/_dl_runtime_resolve/</guid><description>_dl_runtime_resolve é¦–å…ˆç”¨link_mapè®¿é—®.dynamicï¼Œåˆ†åˆ«å–å‡º.dynstrã€.dynsymã€.rel.pltçš„åœ°å€ .rel.plt+å‚æ•°relic_indexï¼Œæ±‚å‡ºå½“å‰å‡½æ•°çš„é‡å®šä½è¡¨é¡¹Elf32_Relçš„æŒ‡é’ˆï¼Œè®°ä½œrel rel-&amp;gt;r_info &amp;raquo; 8 ä½œä¸º.dynsymçš„ä¸‹æ ‡ï¼Œæ±‚å‡ºå½“å‰å‡½æ•°çš„ç¬¦å·è¡¨é¡¹Elf32_Symçš„æŒ‡é’ˆï¼Œè®°ä½œsym .dynstr + sym-&amp;gt;st_nameå¾—å‡ºç¬¦å·å å­—ç¬¦ä¸²æŒ‡é’ˆ åœ¨åŠ¨æ€é“¾æ¥åº“æŸ¥æ‰¾è¿™ä¸ªå‡½æ•°çš„åœ°å€ï¼Œå¹¶ä¸”æŠŠåœ°å€èµ‹å€¼ç»™*rel-&amp;gt;r_offsetï¼Œå³GOTè¡¨ æœ€åè°ƒç”¨è¿™ä¸ªå‡½æ•° ![[z-oblib/z2-attachments/Pasted image 20220911014856.png]]
æ–¹æ³•è¿‡ç¨‹ 6.1.3 pwn XDCTF2015 pwn200 Â· CTF All In One (gitbooks.io)
1 2 3 4 5 6 7 8 9 10 11 12 13 14 gdb-peda$ disassemble 0xf7fec370 Dump of assembler code for function _dl_runtime_resolve: 0xf7fec370 &amp;lt;+0&amp;gt;: push eax 0xf7fec371 &amp;lt;+1&amp;gt;: push ecx 0xf7fec372 &amp;lt;+2&amp;gt;: push edx 0xf7fec373 &amp;lt;+3&amp;gt;: mov edx,DWORD PTR [esp+0x10] 0xf7fec377 &amp;lt;+7&amp;gt;: mov eax,DWORD PTR [esp+0xc] 0xf7fec37b &amp;lt;+11&amp;gt;: call 0xf7fe6080 &amp;lt;_dl_fixup&amp;gt; 0xf7fec380 &amp;lt;+16&amp;gt;: pop edx 0xf7fec381 &amp;lt;+17&amp;gt;: mov ecx,DWORD PTR [esp] 0xf7fec384 &amp;lt;+20&amp;gt;: mov DWORD PTR [esp],eax 0xf7fec387 &amp;lt;+23&amp;gt;: mov eax,DWORD PTR [esp+0x4] 0xf7fec38b &amp;lt;+27&amp;gt;: ret 0xc End of assembler dump.</description></item><item><title>AbstractDispatcherServletInitializerçš„å®ç°ç±»ä¸ºä»€ä¹ˆå¯ä»¥åœ¨åˆå§‹åŒ–Webå®¹å™¨çš„æ—¶å€™è¢«è°ƒç”¨</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_2_1_0-web%E5%90%8E%E7%AB%AF/Spring/AbstractDispatcherServletInitializer%E7%9A%84%E5%AE%9E%E7%8E%B0%E7%B1%BB%E4%B8%BA%E4%BB%80%E4%B9%88%E5%8F%AF%E4%BB%A5%E5%9C%A8%E5%88%9D%E5%A7%8B%E5%8C%96Web%E5%AE%B9%E5%99%A8%E7%9A%84%E6%97%B6%E5%80%99%E8%A2%AB%E8%B0%83%E7%94%A8/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_2_1_0-web%E5%90%8E%E7%AB%AF/Spring/AbstractDispatcherServletInitializer%E7%9A%84%E5%AE%9E%E7%8E%B0%E7%B1%BB%E4%B8%BA%E4%BB%80%E4%B9%88%E5%8F%AF%E4%BB%A5%E5%9C%A8%E5%88%9D%E5%A7%8B%E5%8C%96Web%E5%AE%B9%E5%99%A8%E7%9A%84%E6%97%B6%E5%80%99%E8%A2%AB%E8%B0%83%E7%94%A8/</guid><description>AbstractDispatcherServletInitializerçš„å®ç°ç±»ä¸ºä»€ä¹ˆå¯ä»¥åœ¨åˆå§‹åŒ–Webå®¹å™¨çš„æ—¶å€™è¢«è°ƒç”¨ (33æ¡æ¶ˆæ¯) AbstractDispatcherServletInitializer çš„å®ç°ç±»ä¸ºä»€ä¹ˆå¯ä»¥åœ¨åˆå§‹åŒ–Webå®¹å™¨çš„æ—¶å€™è¢«è°ƒç”¨_Nishkataçš„åšå®¢-CSDNåšå®¢
Spring MVC ä¹‹ AbstractAnnotationConfigDispatcherServletInitializerå‰–æ_Spring MVC ä¹‹ AbstractAnnotationConfigDispatcherServletInitializerå‰–æ|Samuelä¸ªäººåšå®¢ (yangshuaibin.com)
Servletåšçš„äº‹ Servlet3.0ç¯å¢ƒä¸­ï¼Œå®¹å™¨ä¼šåœ¨ç±»è·¯å¾„ä¸­æŸ¥æ‰¾å®ç°ServletContainerInitializer æ¥å£çš„ç±»ï¼Œå¦‚æœå‘ç°çš„è¯ï¼Œå°±ç”¨å®ƒæ¥é…ç½®Servletå®¹å™¨ã€‚
SpringMvcåšçš„äº‹ Springæä¾›äº†è¿™ä¸ªæ¥å£çš„å®ç°ç±»Â SpringServletContainerInitializer , é€šè¿‡@HandlesTypes(WebApplicationInitializer.class) è®¾ç½®ï¼Œè¿™ä¸ªç±»åè¿‡æ¥ä¼šæŸ¥æ‰¾å®ç°WebApplicationInitializer çš„ç±»ï¼Œå¹¶å°†é…ç½®çš„ä»»åŠ¡äº¤ç»™ä»–ä»¬æ¥å®Œæˆã€‚
AbstractAnnotationConfigDispatcherServletInitializer ç±»æ‰©å±•äº†WebApplicationInitializer ã€‚è¿™æ ·å°±å¯ä»¥é€šè¿‡å®ç°AbstractAnnotationConfigDispatcherServletInitializer æ¥è¿›è¡Œé…ç½®Servletçš„ä¸Šä¸‹æ–‡äº†ã€‚
DispatcherServletInitializer é…ç½®ç±»èƒ½å¤Ÿè¢«åŠ è½½çš„æ ¸å¿ƒæ˜¯ Java çš„ [[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/1-é«˜çº§ç‰¹æ€§/SPI|SPI]] æœåŠ¡å‘ç°æœºåˆ¶ã€‚
æœåŠ¡æ¥å£çš„å®šä¹‰ï¼šServlet è§„èŒƒå®šä¹‰äº†æœåŠ¡æ¥å£ javax-servlet-api-xxx.jar/javax.servlet.ServletContainerInitializer æ³¨å†ŒæœåŠ¡æ¥å£çš„å®ç°ï¼š Spring MVC æ³¨å†ŒæœåŠ¡ã€‚åœ¨ spring-web-xxx.jar åŒ…ä¸‹ æœ‰ META-INF/services/javax.servlet.ServletContainerInitializer æ–‡ä»¶ï¼Œå†…å®¹ä¸º org.springframework.web.SpringServletContainerInitializer æœåŠ¡åŠ è½½ï¼š SpringServletContainerInitializer ä¸­çš„ onStartup æ–¹æ³•ä¼šåœ¨ Servlet å®¹å™¨åˆå§‹åŒ–çš„æ—¶å€™é€šè¿‡ SPI æœºåˆ¶å‘ç°å¹¶è°ƒç”¨ï¼ŒonStartup æ–¹æ³•é‡Œé¢åˆä¼š å°†æ‰€æœ‰ WebApplicationInitializer çš„å®ç°ç±»çš„å¯¹è±¡çš„ onStartup æ–¹æ³•å…¨éƒ¨è°ƒç”¨ä¸€éã€‚ AbstractDispatcherServletInitializer ä¹Ÿæ˜¯ WebApplicationInitializer æ¥å£çš„å®ç°ï¼Œæ‰€ä»¥å…¶ onStartup æ–¹æ³•ä¹Ÿä¼šåœ¨ Servlet å®¹å™¨åˆå§‹åŒ–çš„æ—¶å€™è¢«è°ƒç”¨ã€‚ !</description></item><item><title>AQS</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/AQS/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/AQS/</guid><description>AQS å…¨ç§°æ˜¯ AbstractQueuedSynchronizerï¼Œæ˜¯é˜»å¡å¼é”ï¼ˆç±»ä¼¼[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/synchronized|synchronized]]ï¼‰å’Œç›¸å…³çš„åŒæ­¥å™¨å·¥å…·çš„æ¡†æ¶ã€‚
ç‰¹ç‚¹ ç”¨ state å±æ€§æ¥è¡¨ç¤ºèµ„æºçš„çŠ¶æ€ï¼ˆåˆ†ç‹¬å æ¨¡å¼å’Œå…±äº«æ¨¡å¼ï¼‰ï¼Œå­ç±»éœ€è¦å®šä¹‰å¦‚ä½•ç»´æŠ¤è¿™ä¸ªçŠ¶æ€ï¼Œæ§åˆ¶å¦‚ä½•è·å–é”å’Œé‡Šæ”¾é” getState - è·å– state çŠ¶æ€ setState - è®¾ç½® state çŠ¶æ€ compareAndSetState - cas æœºåˆ¶è®¾ç½® state çŠ¶æ€ ç‹¬å æ¨¡å¼æ˜¯åªæœ‰ä¸€ä¸ªçº¿ç¨‹èƒ½å¤Ÿè®¿é—®èµ„æºï¼Œè€Œå…±äº«æ¨¡å¼å¯ä»¥å…è®¸å¤šä¸ªçº¿ç¨‹è®¿é—®èµ„æº æä¾›äº†åŸºäº FIFO çš„ç­‰å¾…é˜Ÿåˆ—ï¼Œç±»ä¼¼äº Monitor çš„ EntryList æ¡ä»¶å˜é‡æ¥å®ç°ç­‰å¾…ã€å”¤é†’æœºåˆ¶ï¼Œæ”¯æŒå¤šä¸ªæ¡ä»¶å˜é‡ï¼Œç±»ä¼¼äº Monitor çš„ WaitSet å­ç±»ä¸»è¦å®ç°è¿™æ ·ä¸€äº›æ–¹æ³•ï¼ˆé»˜è®¤æŠ›å‡º UnsupportedOperationExceptionï¼‰
tryAcquire tryRelease tryAcquireShared tryReleaseShared isHeldExclusively è¿™é‡Œä¸ä½¿ç”¨æŠ½è±¡æ–¹æ³•çš„ç›®çš„æ˜¯ï¼šé¿å…å¼ºè¿«å­ç±»ä¸­æŠŠæ‰€æœ‰çš„æŠ½è±¡æ–¹æ³•éƒ½å®ç°ä¸€éï¼Œå‡å°‘æ— ç”¨åŠŸï¼Œè¿™æ ·å­ç±»åªéœ€è¦å®ç°è‡ªå·±å…³å¿ƒçš„æŠ½è±¡æ–¹æ³•å³å¯ï¼Œæ¯”å¦‚ Semaphore åªéœ€è¦å®ç° tryAcquire æ–¹æ³•è€Œä¸ç”¨å®ç°å…¶ä½™ä¸éœ€è¦ç”¨åˆ°çš„æ¨¡ç‰ˆæ–¹æ³•ã€‚
è·å–é” 1 2 3 4 // å¦‚æœè·å–é”å¤±è´¥ if (!tryAcquire(arg)) { // å…¥é˜Ÿ, å¯ä»¥é€‰æ‹©é˜»å¡å½“å‰çº¿ç¨‹ park unpark } AQSä½¿ç”¨park&amp;amp;unparkæ¥é˜»å¡å’Œæ¢å¤çº¿ç¨‹</description></item><item><title>B+æ ‘</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_0_2_1-%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/B+%E6%A0%91/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_0_2_1-%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/B+%E6%A0%91/</guid><description>B+æ ‘</description></item><item><title>Balking</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_1-%E8%BD%AF%E4%BB%B6%E6%96%B9%E6%B3%95%E5%AD%A6/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/Balking/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_1-%E8%BD%AF%E4%BB%B6%E6%96%B9%E6%B3%95%E5%AD%A6/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/Balking/</guid><description>Balking Balking ï¼ˆçŠ¹è±«ï¼‰æ¨¡å¼ç”¨åœ¨ä¸€ä¸ªçº¿ç¨‹å‘ç°å¦ä¸€ä¸ªçº¿ç¨‹æˆ–æœ¬çº¿ç¨‹å·²ç»åšäº†æŸä¸€ä»¶ç›¸åŒçš„äº‹ï¼Œé‚£ä¹ˆæœ¬çº¿ç¨‹å°±æ— éœ€å†åšäº†ï¼Œç›´æ¥ç»“æŸè¿”å›ã€‚
å®ç° å•çº¿ç¨‹æƒ…å†µ é€šè¿‡å˜é‡è®°å½•æŸä¸ªæ–¹æ³•æ˜¯å¦å·²ç»æ‰§è¡Œè¿‡ï¼Œä¿è¯æ–¹æ³•åªèƒ½æ‰§è¡Œä¸€æ¬¡ã€‚ ä¾‹å¦‚ç›‘æ§å™¨å‰ç¨‹åªéœ€è¦ä¸€ä¸ªï¼Œä¸éœ€è¦é‡å¤start()æ–°çš„çº¿ç¨‹ã€‚
1 2 3 4 5 6 7 8 9 10 11 12 class SystemMonitor { private boolean starting = false; public void start() { // é˜²æ­¢é‡å¤å¯åŠ¨ if(starting) { return; } starting = true; monitorThread = new Thread(()-&amp;gt;{...;}); monitorThread.start(); } } å¤šçº¿ç¨‹æƒ…å†µ startingçš„åˆ¤æ–­å’Œèµ‹å€¼åˆ†æˆäº†ä¸¤æ­¥ï¼Œæ‰€ä»¥æ²¡æœ‰ä¿è¯åŸå­æ€§ï¼Œå¤šçº¿ç¨‹è®¿é—®ä¼šå‡ºé—®é¢˜ï¼Œéœ€è¦åŠ é”ï¼š
1 2 3 4 5 6 7 8 9 10 11 12 13 14 class SystemMonitor { private boolean starting = false; public void start() { // åŠ é”é˜²æ­¢å¤šçº¿ç¨‹ç ´ååŸå­æ€§ synchronized(this) { if(starting) { return; } starting = true; } monitorThread = new Thread(()-&amp;gt;{.</description></item><item><title>call</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux/call/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux/call/</guid><description>call push eip+4 mov eip, func</description></item><item><title>Callable</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/Callable/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/Callable/</guid><description>Callable å¸¦è¿”å›å€¼çš„callï¼Œå¹¶ä¸”å¯ä»¥æŠ›å‡ºå¼‚å¸¸ã€‚
1 2 public interface Callable&amp;lt;V&amp;gt; { V call() throws Exception;</description></item><item><title>CAS</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/CAS/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/CAS/</guid><description>CAS åŸç† CAS çš„åº•å±‚æ˜¯ lock cmpxchg æŒ‡ä»¤ï¼ˆX86 æ¶æ„ï¼‰ï¼Œåœ¨å•æ ¸ CPU å’Œå¤šæ ¸ CPU ä¸‹éƒ½èƒ½å¤Ÿä¿è¯ã€æ¯”è¾ƒ-äº¤æ¢ã€‘çš„åŸå­æ€§ã€‚
åœ¨å¤šæ ¸çŠ¶æ€ä¸‹ï¼ŒæŸä¸ªæ ¸æ‰§è¡Œåˆ°å¸¦ lock çš„æŒ‡ä»¤æ—¶ï¼ŒCPU ä¼šè®©æ€»çº¿é”ä½ï¼Œå½“è¿™ä¸ªæ ¸æŠŠæ­¤æŒ‡ä»¤æ‰§è¡Œå®Œæ¯•ï¼Œå†å¼€å¯æ€»çº¿ã€‚è¿™ä¸ªè¿‡ç¨‹ä¸­ä¸ä¼šè¢«çº¿ç¨‹çš„è°ƒåº¦æœºåˆ¶æ‰€æ‰“æ–­ï¼Œä¿è¯äº†å¤šä¸ªçº¿ç¨‹å¯¹å†…å­˜æ“ä½œçš„å‡†ç¡®æ€§ï¼Œæ˜¯åŸå­çš„ã€‚
CASåº”ç”¨ javaä¸­ï¼šä¸volatileé…åˆå®ç°ä¹è§‚é”ã€‚
CASä¸ºä»€ä¹ˆèƒ½ä¿è¯åŸå­æ“ä½œå‘ï¼Ÿ è¿™ä¸ªå°±å…³ç³»åˆ°äº†CASåº•å±‚æ‰€ç”¨åˆ°çš„Unsafeç±»ï¼ŒUnsafeæ˜¯CASçš„æ ¸å¿ƒç±»ï¼Œç”±äºJavaæ–¹æ³•æ— æ³•ç›´æ¥è®¿é—®åº•å±‚ç³»ç»Ÿï¼Œéœ€è¦é€šè¿‡æœ¬åœ°(native)æ–¹æ³•æ¥è®¿é—®ï¼ŒUnsafeç›¸å½“äºä¸€ä¸ªåé—¨ï¼ŒåŸºäºè¯¥ç±»å¯ä»¥ç›´æ¥æ“ä½œç‰¹å®šå†…å­˜çš„æ•°æ®ã€‚Unsafeç±»å­˜åœ¨äºsun.miscåŒ…ä¸­ï¼Œå…¶å†…éƒ¨æ–¹æ³•æ“ä½œå¯ä»¥åƒCçš„æŒ‡é’ˆä¸€æ ·ç›´æ¥æ“ä½œå†…å­˜ï¼Œå› ä¸ºJavaä¸­CASæ“ä½œçš„æ‰§è¡Œä¾èµ–äºUnsafeç±»çš„æ–¹æ³•ã€‚
ç‰¹ç‚¹ ç»“åˆ CAS å’Œ volatile å¯ä»¥å®ç°æ— é”å¹¶å‘ï¼Œé€‚ç”¨äºçº¿ç¨‹æ•°å°‘ã€å¤šæ ¸ CPU çš„åœºæ™¯ä¸‹ã€‚ CAS æ˜¯åŸºäºä¹è§‚é”çš„æ€æƒ³ï¼šæœ€ä¹è§‚çš„ä¼°è®¡ï¼Œä¸æ€•åˆ«çš„çº¿ç¨‹æ¥ä¿®æ”¹å…±äº«å˜é‡ï¼Œå°±ç®—æ”¹äº†ä¹Ÿæ²¡å…³ç³»ï¼Œæˆ‘åƒäºç‚¹å†é‡è¯•å‘—ã€‚ synchronized æ˜¯åŸºäºæ‚²è§‚é”çš„æ€æƒ³ï¼šæœ€æ‚²è§‚çš„ä¼°è®¡ï¼Œå¾—é˜²ç€å…¶å®ƒçº¿ç¨‹æ¥ä¿®æ”¹å…±äº«å˜é‡ï¼Œæˆ‘ä¸Šäº†é”ä½ ä»¬éƒ½åˆ«æƒ³æ”¹ï¼Œæˆ‘æ”¹å®Œäº†è§£å¼€é”ï¼Œä½ ä»¬æ‰æœ‰æœºä¼šã€‚ CAS ä½“ç°çš„æ˜¯æ— é”å¹¶å‘ã€æ— é˜»å¡å¹¶å‘ï¼Œè¯·ä»”ç»†ä½“ä¼šè¿™ä¸¤å¥è¯çš„æ„æ€ å› ä¸ºæ²¡æœ‰ä½¿ç”¨ synchronizedï¼Œæ‰€ä»¥çº¿ç¨‹ä¸ä¼šé™·å…¥é˜»å¡ï¼Œè¿™æ˜¯æ•ˆç‡æå‡çš„å› ç´ ä¹‹ä¸€ ä½†å¦‚æœç«äº‰æ¿€çƒˆï¼Œå¯ä»¥æƒ³åˆ°é‡è¯•å¿…ç„¶é¢‘ç¹å‘ç”Ÿï¼Œåè€Œæ•ˆç‡ä¼šå—å½±å“</description></item><item><title>CASä¸volatile</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/CAS%E4%B8%8Evolatile/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/CAS%E4%B8%8Evolatile/</guid><description>CASä¸volatile ç”¨ä¾‹ AtomicInteger çš„è§£å†³æ–¹æ³•ï¼Œå†…éƒ¨å¹¶æ²¡æœ‰ç”¨é”æ¥ä¿æŠ¤å…±äº«[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/å˜é‡çš„çº¿ç¨‹å®‰å…¨|å˜é‡çš„çº¿ç¨‹å®‰å…¨]]ã€‚é‚£ä¹ˆå®ƒæ˜¯å¦‚ä½•å®ç°çš„å‘¢ï¼Ÿ
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 public void withdraw(Integer amount) { while(true) { // éœ€è¦ä¸æ–­å°è¯•ï¼Œç›´åˆ°æˆåŠŸä¸ºæ­¢ while (true) { // æ¯”å¦‚æ‹¿åˆ°äº†æ—§å€¼ 1000 int prev = balance.get(); // åœ¨è¿™ä¸ªåŸºç¡€ä¸Š 1000-10 = 990 int next = prev - amount; /* compareAndSet æ­£æ˜¯åšè¿™ä¸ªæ£€æŸ¥ï¼Œåœ¨ set å‰ï¼Œå…ˆæ¯”è¾ƒ prev ä¸å½“å‰å€¼ - ä¸ä¸€è‡´äº†ï¼Œnext ä½œåºŸï¼Œè¿”å› false è¡¨ç¤ºå¤±è´¥ æ¯”å¦‚ï¼Œåˆ«çš„çº¿ç¨‹å·²ç»åšäº†å‡æ³•ï¼Œå½“å‰å€¼å·²ç»è¢«å‡æˆäº† 990 é‚£ä¹ˆæœ¬[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_3-è½¯ä»¶ç³»ç»Ÿ/2_0_2_1_2_3_1-æ“ä½œç³»ç»Ÿ/çº¿ç¨‹|çº¿ç¨‹]]çš„è¿™æ¬¡ 990 å°±ä½œåºŸäº†ï¼Œè¿›å…¥ while ä¸‹æ¬¡å¾ªç¯é‡è¯• - ä¸€è‡´ï¼Œä»¥ next è®¾ç½®ä¸ºæ–°å€¼ï¼Œè¿”å› true è¡¨ç¤ºæˆåŠŸ */ if (balance.</description></item><item><title>CASå®ç°åŸå­æ“ä½œçš„ä¸‰å¤§é—®é¢˜</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/CAS%E5%AE%9E%E7%8E%B0%E5%8E%9F%E5%AD%90%E6%93%8D%E4%BD%9C%E7%9A%84%E4%B8%89%E5%A4%A7%E9%97%AE%E9%A2%98/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/CAS%E5%AE%9E%E7%8E%B0%E5%8E%9F%E5%AD%90%E6%93%8D%E4%BD%9C%E7%9A%84%E4%B8%89%E5%A4%A7%E9%97%AE%E9%A2%98/</guid><description>CASå®ç°åŸå­æ“ä½œçš„ä¸‰å¤§é—®é¢˜ ABAé—®é¢˜ æ‰€è°“ABAé—®é¢˜ï¼Œå°±æ˜¯ä¸€ä¸ªå€¼åŸæ¥æ˜¯Aï¼Œå˜æˆäº†Bï¼Œåˆå˜å›äº†Aã€‚è¿™ä¸ªæ—¶å€™ä½¿ç”¨CASæ˜¯æ£€æŸ¥ä¸å‡ºå˜åŒ–çš„ï¼Œä½†å®é™…ä¸Šå´è¢«æ›´æ–°äº†ä¸¤æ¬¡ã€‚
ABAé—®é¢˜çš„è§£å†³æ€è·¯æ˜¯åœ¨å˜é‡å‰é¢è¿½åŠ ä¸Šç‰ˆæœ¬å·æˆ–è€…æ—¶é—´æˆ³ã€‚ä»JDK 1.5å¼€å§‹ï¼ŒJDKçš„atomicåŒ…é‡Œæä¾›äº†ä¸€ä¸ªç±»AtomicStampedReferenceç±»æ¥è§£å†³ABAé—®é¢˜ã€‚
è¿™ä¸ªç±»çš„compareAndSetæ–¹æ³•çš„ä½œç”¨æ˜¯é¦–å…ˆæ£€æŸ¥å½“å‰å¼•ç”¨æ˜¯å¦ç­‰äºé¢„æœŸå¼•ç”¨ï¼Œå¹¶ä¸”æ£€æŸ¥å½“å‰æ ‡å¿—æ˜¯å¦ç­‰äºé¢„æœŸæ ‡å¿—ï¼Œå¦‚æœäºŒè€…éƒ½ç›¸ç­‰ï¼Œæ‰ä½¿ç”¨CASè®¾ç½®ä¸ºæ–°çš„å€¼å’Œæ ‡å¿—ã€‚
1 2 3 4 5 6 7 8 9 10 11 12 public boolean compareAndSet(V expectedReference, V newReference, int expectedStamp, int newStamp) { Pair&amp;lt;V&amp;gt; current = pair; return expectedReference == current.reference &amp;amp;&amp;amp; expectedStamp == current.stamp &amp;amp;&amp;amp; ((newReference == current.reference &amp;amp;&amp;amp; newStamp == current.stamp) || casPair(current, Pair.of(newReference, newStamp))); } å¾ªç¯æ—¶é—´é•¿å¼€é”€å¤§ CASå¤šä¸è‡ªæ—‹ç»“åˆã€‚å¦‚æœè‡ªæ—‹CASé•¿æ—¶é—´ä¸æˆåŠŸï¼Œä¼šå ç”¨å¤§é‡çš„CPUèµ„æºã€‚
è§£å†³æ€è·¯æ˜¯è®©JVMæ”¯æŒå¤„ç†å™¨æä¾›çš„pauseæŒ‡ä»¤ã€‚
pauseæŒ‡ä»¤èƒ½è®©è‡ªæ—‹å¤±è´¥æ—¶cpuç¡çœ ä¸€å°æ®µæ—¶é—´å†ç»§ç»­è‡ªæ—‹ï¼Œä»è€Œä½¿å¾—è¯»æ“ä½œçš„é¢‘ç‡ä½å¾ˆå¤š,ä¸ºè§£å†³å†…å­˜é¡ºåºå†²çªè€Œå¯¼è‡´çš„CPUæµæ°´çº¿é‡æ’çš„ä»£ä»·ä¹Ÿä¼šå°å¾ˆå¤šã€‚
åªèƒ½ä¿è¯ä¸€ä¸ªå…±äº«å˜é‡çš„åŸå­æ“ä½œ æœ‰ä¸¤ç§è§£å†³æ–¹æ¡ˆï¼š
ä½¿ç”¨JDK 1.5å¼€å§‹å°±æä¾›çš„AtomicReferenceç±»ä¿è¯å¯¹è±¡ä¹‹é—´çš„åŸå­æ€§ï¼ŒæŠŠå¤šä¸ªå˜é‡æ”¾åˆ°ä¸€ä¸ªå¯¹è±¡é‡Œé¢è¿›è¡ŒCASæ“ä½œï¼› ä½¿ç”¨é”ã€‚é”å†…çš„ä¸´ç•ŒåŒºä»£ç å¯ä»¥ä¿è¯åªæœ‰å½“å‰çº¿ç¨‹èƒ½æ“ä½œã€‚</description></item><item><title>CASé”</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/CAS%E9%94%81/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/CAS%E9%94%81/</guid><description>CASé” åˆ©ç”¨åŸå­ç±»é…åˆcasæ“ä½œç»„æˆæ ‡å¿—ä½ï¼Œæ¥æ¨¡æ‹Ÿé”ï¼š
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 // ä¸è¦ç”¨äºå®è·µï¼ï¼ï¼ public class LockCas { private AtomicInteger state = new AtomicInteger(0); public void lock() { while (true) { if (state.compareAndSet(0, 1)) { break; } } } public void unlock() { log.debug(&amp;#34;unlock...&amp;#34;); state.set(0); } }</description></item><item><title>CMOS</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_1-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A1%AC%E4%BB%B6/0-%E5%9F%BA%E7%A1%80%E5%85%83%E5%99%A8%E4%BB%B6/CMOS/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_1-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A1%AC%E4%BB%B6/0-%E5%9F%BA%E7%A1%80%E5%85%83%E5%99%A8%E4%BB%B6/CMOS/</guid><description>CMOS CMOSæ˜¯Complementary Metal Oxide Semiconductorï¼ˆäº’è¡¥é‡‘å±æ°§åŒ–ç‰©åŠå¯¼ä½“ï¼‰çš„ç¼©å†™ã€‚</description></item><item><title>cmpxchg</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/cmpxchg/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/cmpxchg/</guid><description>cmpxchg https://zhuanlan.zhihu.com/p/34556594
åº•å±‚å®ç° linux_x86çš„å®ç°ï¼š
![[z-oblib/z2-attachments/v2-918101df747ba9d03815cefff3955d74_1440w.jpg]]
windows_x86çš„å®ç°ï¼š
![[z-oblib/z2-attachments/v2-cd24129a2b8f106ec3179083d3e8cfd1_1440w.jpg]]
mpæ˜¯â€œos::is_MP()â€çš„è¿”å›ç»“æœï¼Œâ€œos::is_MP()â€æ˜¯ä¸€ä¸ªå†…è”å‡½æ•°ï¼Œç”¨æ¥åˆ¤æ–­å½“å‰ç³»ç»Ÿæ˜¯å¦ä¸ºå¤šå¤„ç†å™¨ã€‚
å¦‚æœå½“å‰ç³»ç»Ÿæ˜¯å¤šå¤„ç†å™¨ï¼Œè¯¥å‡½æ•°è¿”å›1ã€‚ å¦åˆ™ï¼Œè¿”å›0ã€‚ LOCK_IF_MP(mp)ä¼šæ ¹æ®mpçš„å€¼æ¥å†³å®šæ˜¯å¦ä¸ºcmpxchgæŒ‡ä»¤æ·»åŠ lockå‰ç¼€ã€‚
å¦‚æœé€šè¿‡mpåˆ¤æ–­å½“å‰ç³»ç»Ÿæ˜¯å¤šå¤„ç†å™¨ï¼ˆå³mpå€¼ä¸º1ï¼‰ï¼Œåˆ™ä¸ºcmpxchgæŒ‡ä»¤æ·»åŠ lockå‰ç¼€ã€‚ å¦åˆ™ï¼Œä¸åŠ lockå‰ç¼€ã€‚ è¿™æ˜¯ä¸€ç§ä¼˜åŒ–æ‰‹æ®µï¼Œè®¤ä¸ºå•å¤„ç†å™¨çš„ç¯å¢ƒæ²¡æœ‰å¿…è¦æ·»åŠ lockå‰ç¼€ï¼Œåªæœ‰åœ¨å¤šæ ¸æƒ…å†µä¸‹æ‰ä¼šæ·»åŠ lockå‰ç¼€ï¼Œå› ä¸ºlockä¼šå¯¼è‡´æ€§èƒ½ä¸‹é™ã€‚cmpxchgæ˜¯æ±‡ç¼–æŒ‡ä»¤ï¼Œä½œç”¨æ˜¯æ¯”è¾ƒå¹¶äº¤æ¢æ“ä½œæ•°ã€‚
intelæ‰‹å†Œå¯¹lockå‰ç¼€çš„è¯´æ˜å¦‚ä¸‹ï¼š
ç¡®ä¿å¯¹å†…å­˜çš„è¯»-æ”¹-å†™æ“ä½œåŸå­æ‰§è¡Œã€‚åœ¨PentiumåŠPentiumä¹‹å‰çš„å¤„ç†å™¨ä¸­ï¼Œå¸¦æœ‰lockå‰ç¼€çš„æŒ‡ä»¤åœ¨æ‰§è¡ŒæœŸé—´ä¼šé”ä½æ€»çº¿ï¼Œä½¿å¾—å…¶ä»–å¤„ç†å™¨æš‚æ—¶æ— æ³•é€šè¿‡æ€»çº¿è®¿é—®å†…å­˜ã€‚å¾ˆæ˜¾ç„¶ï¼Œè¿™ä¼šå¸¦æ¥æ˜‚è´µçš„å¼€é”€ã€‚ä»Pentium 4ï¼ŒIntel XeonåŠP6å¤„ç†å™¨å¼€å§‹ï¼Œintelåœ¨åŸæœ‰æ€»çº¿é”çš„åŸºç¡€ä¸Šåšäº†ä¸€ä¸ªå¾ˆæœ‰æ„ä¹‰çš„ä¼˜åŒ–ï¼šå¦‚æœè¦è®¿é—®çš„å†…å­˜åŒºåŸŸï¼ˆarea of memoryï¼‰åœ¨lockå‰ç¼€æŒ‡ä»¤æ‰§è¡ŒæœŸé—´å·²ç»åœ¨å¤„ç†å™¨å†…éƒ¨çš„ç¼“å­˜ä¸­è¢«é”å®šï¼ˆå³åŒ…å«è¯¥å†…å­˜åŒºåŸŸçš„ç¼“å­˜è¡Œå½“å‰å¤„äºç‹¬å æˆ–ä»¥ä¿®æ”¹çŠ¶æ€ï¼‰ï¼Œå¹¶ä¸”è¯¥å†…å­˜åŒºåŸŸè¢«å®Œå…¨åŒ…å«åœ¨å•ä¸ªç¼“å­˜è¡Œï¼ˆcache lineï¼‰ä¸­ï¼Œé‚£ä¹ˆå¤„ç†å™¨å°†ç›´æ¥æ‰§è¡Œè¯¥æŒ‡ä»¤ã€‚ç”±äºåœ¨æŒ‡ä»¤æ‰§è¡ŒæœŸé—´è¯¥ç¼“å­˜è¡Œä¼šä¸€ç›´è¢«é”å®šï¼Œå…¶å®ƒå¤„ç†å™¨æ— æ³•è¯»/å†™è¯¥æŒ‡ä»¤è¦è®¿é—®çš„å†…å­˜åŒºåŸŸï¼Œå› æ­¤èƒ½ä¿è¯æŒ‡ä»¤æ‰§è¡Œçš„åŸå­æ€§ã€‚è¿™ä¸ªæ“ä½œè¿‡ç¨‹å«åšç¼“å­˜é”å®šï¼ˆcache lockingï¼‰ï¼Œç¼“å­˜é”å®šå°†å¤§å¤§é™ä½lockå‰ç¼€æŒ‡ä»¤çš„æ‰§è¡Œå¼€é”€ï¼Œä½†æ˜¯å½“å¤šå¤„ç†å™¨ä¹‹é—´çš„ç«äº‰ç¨‹åº¦å¾ˆé«˜æˆ–è€…æŒ‡ä»¤è®¿é—®çš„å†…å­˜åœ°å€æœªå¯¹é½æ—¶ï¼Œä»ç„¶ä¼šé”ä½æ€»çº¿ã€‚ ç¦æ­¢è¯¥æŒ‡ä»¤ä¸ä¹‹å‰å’Œä¹‹åçš„è¯»å’Œå†™æŒ‡ä»¤[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_0_1-è®¡ç®—æœºç»„æˆåŸç†/æŒ‡ä»¤é‡æ’åº|é‡æ’åº]]ã€‚ æŠŠå†™ç¼“å†²åŒºä¸­çš„æ‰€æœ‰æ•°æ®åˆ·æ–°åˆ°å†…å­˜ä¸­ã€‚ åœ¨Javaä¸­ ä¸Šé¢çš„ç¬¬1ç‚¹ä¿è¯äº†[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/CAS|CAS]]æ“ä½œæ˜¯ä¸€ä¸ªåŸå­æ“ä½œï¼Œç¬¬2ç‚¹å’Œç¬¬3ç‚¹æ‰€å…·æœ‰çš„å†…å­˜å±éšœæ•ˆæœï¼Œä¿è¯äº†CASåŒæ—¶å…·æœ‰[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/1-é«˜çº§ç‰¹æ€§/volatile|volatile]]è¯»å’Œvolatileå†™çš„å†…å­˜è¯­ä¹‰ã€‚</description></item><item><title>ConcurrentHashMap</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/ConcurrentHashMap/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/ConcurrentHashMap/</guid><description>ConcurrentHashMap ç”¨ä¾‹ åˆ†å¸ƒå¼è®¡ç®—å­—ç¬¦ä¸²æ•°é‡ï¼š
ç”Ÿæˆæµ‹è¯•æ•°æ® 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 static final String ALPHA = &amp;#34;abcedfghijklmnopqrstuvwxyz&amp;#34;; public static void main(String[] args) { int length = ALPHA.length(); int count = 200; List&amp;lt;String&amp;gt; list = new ArrayList&amp;lt;&amp;gt;(length * count); for (int i = 0; i &amp;lt; length; i++) { char ch = ALPHA.charAt(i); for (int j = 0; j &amp;lt; count; j++) { list.</description></item><item><title>ConcurrentLinkedQueue</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/ConcurrentLinkedQueue/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/ConcurrentLinkedQueue/</guid><description>ConcurrentLinkedQueue</description></item><item><title>CountdownLatch</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/CountdownLatch/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/CountdownLatch/</guid><description>CountdownLatch ç”¨æ¥è¿›è¡Œ[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_3-è½¯ä»¶ç³»ç»Ÿ/2_0_2_1_2_3_1-æ“ä½œç³»ç»Ÿ/çº¿ç¨‹|çº¿ç¨‹]][[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_3-è½¯ä»¶ç³»ç»Ÿ/2_0_2_1_2_3_1-æ“ä½œç³»ç»Ÿ/åŒæ­¥|åŒæ­¥]]åä½œï¼Œç­‰å¾…æ‰€æœ‰çº¿ç¨‹å®Œæˆå€’è®¡æ—¶ã€‚ å…¶ä¸­æ„é€ å‚æ•°ç”¨æ¥åˆå§‹åŒ–ç­‰å¾…è®¡æ•°å€¼ï¼Œawait() ç”¨æ¥ç­‰å¾…è®¡æ•°å½’é›¶ï¼ŒcountDown() ç”¨æ¥è®©è®¡æ•°å‡ä¸€
ä½¿ç”¨ åŸºæœ¬æµç¨‹ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 public static void main(String[] args) throws InterruptedException { CountDownLatch latch = new CountDownLatch(3); new Thread(() -&amp;gt; { log.debug(&amp;#34;begin...&amp;#34;); sleep(1); latch.countDown(); log.debug(&amp;#34;end...{}&amp;#34;, latch.getCount()); }).start(); new Thread(() -&amp;gt; { log.debug(&amp;#34;begin...&amp;#34;); sleep(2); latch.countDown(); log.debug(&amp;#34;end...{}&amp;#34;, latch.getCount()); }).start(); new Thread(() -&amp;gt; { log.</description></item><item><title>CPUç¼“å­˜</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_0_1-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/CPU%E7%BC%93%E5%AD%98/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_0_1-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/CPU%E7%BC%93%E5%AD%98/</guid><description>CPUç¼“å­˜ ![[z-oblib/z2-attachments/Pasted image 20220602143516.png]]
ä» cpu åˆ° å¤§çº¦éœ€è¦çš„æ—¶é’Ÿå‘¨æœŸ å¯„å­˜å™¨ 1 cycle (4GHz çš„ CPU çº¦ä¸º0.25ns) L1 3~4 cycle L2 10~20 cycle L3 40~45 cycle å†…å­˜ 120~240 cycle</description></item><item><title>CyclicBarrier</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/CyclicBarrier/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/CyclicBarrier/</guid><description>CyclicBarrier [ËˆsaÉªklÉªk ËˆbÃ¦riÉš] å¾ªç¯æ …æ ï¼Œç”¨æ¥è¿›è¡Œçº¿ç¨‹åä½œï¼Œç­‰å¾…çº¿ç¨‹æ»¡è¶³æŸä¸ªè®¡æ•°ã€‚æ„é€ æ—¶è®¾ç½®ã€è®¡æ•°ä¸ªæ•°ã€ï¼Œæ¯ä¸ªçº¿ç¨‹æ‰§ è¡Œåˆ°æŸä¸ªéœ€è¦â€œåŒæ­¥â€çš„æ—¶åˆ»è°ƒç”¨ await() æ–¹æ³•è¿›è¡Œç­‰å¾…ï¼Œå½“ç­‰å¾…çš„çº¿ç¨‹æ•°æ»¡è¶³ã€è®¡æ•°ä¸ªæ•°ã€æ—¶ï¼Œç»§ç»­æ‰§è¡Œã€‚
ä¸CountdownLatchä¸åŒï¼ŒCyclicBarrierå¯ä»¥é‡å¤ä½¿ç”¨ã€‚
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 CyclicBarrier cb = new CyclicBarrier(2); // ä¸ªæ•°ä¸º2æ—¶æ‰ä¼šç»§ç»­æ‰§è¡Œ new Thread(()-&amp;gt;{ System.out.println(&amp;#34;çº¿ç¨‹1å¼€å§‹..&amp;#34;+new Date()); try { cb.await(); // å½“ä¸ªæ•°ä¸è¶³æ—¶ï¼Œç­‰å¾… } catch (InterruptedException | BrokenBarrierException e) { e.printStackTrace(); } System.out.println(&amp;#34;çº¿ç¨‹1ç»§ç»­å‘ä¸‹è¿è¡Œ...&amp;#34;+new Date()); }).start(); new Thread(()-&amp;gt;{ System.out.println(&amp;#34;çº¿ç¨‹2å¼€å§‹..&amp;#34;+new Date()); try { Thread.sleep(2000); } catch (InterruptedException e) { } try { cb.</description></item><item><title>dao</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_2_1_0-web%E5%90%8E%E7%AB%AF/dao/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_2_1_0-web%E5%90%8E%E7%AB%AF/dao/</guid><description>dao DAOï¼ˆData Access Objectï¼‰æ˜¯ç”¨äºè®¿é—®æ•°æ®çš„å¯¹è±¡ï¼Œå®é™…ä¸Šæ˜¯ä¸€ä¸ªæ˜ å°„å…³ç³»ï¼Œå°†javaä¸­è®¿é—®å¯¹è±¡çš„æ“ä½œæ˜ å°„çš„å…·ä½“æ•°æ®åº“çš„æ“ä½œï¼Œä¾‹å¦‚Mybatisçš„è®¾è®¡ä¸­ï¼ŒMapperScannerConfigurerä¼šæ‰«ææ‰€æœ‰daoï¼Œå¾—åˆ°domainæ•°æ®å¯¹è±¡æ“ä½œå’Œæ•°æ®åº“è¯­å¥çš„æ˜ å°„å…³ç³»ï¼Œé€šè¿‡[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/1-é«˜çº§ç‰¹æ€§/åŠ¨æ€ä»£ç†|åŠ¨æ€ä»£ç†]]çš„æ–¹å¼æ‹¦æˆªæ‰€æœ‰å¯¹domainçš„æ“ä½œï¼Œè½¬åˆ°å¯¹æ•°æ®åº“çš„æ“ä½œã€‚</description></item><item><title>DES</title><link>https://harbor.mffseal.top/2_0_0-%E6%95%B0%E5%AD%A6/2_0_0_2-%E5%AF%86%E7%A0%81%E5%AD%A6/DES/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_0-%E6%95%B0%E5%AD%A6/2_0_0_2-%E5%AF%86%E7%A0%81%E5%AD%A6/DES/</guid><description>DES</description></item><item><title>ELF</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux/ELF/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux/ELF/</guid><description>ELF æ–‡ä»¶æ ¼å¼ ç›®æ ‡æ–‡ä»¶æ—¢ä¼šå‚ä¸ç¨‹åºé“¾æ¥åˆä¼šå‚ä¸ç¨‹åºæ‰§è¡Œã€‚å‡ºäºæ–¹ä¾¿æ€§å’Œæ•ˆç‡è€ƒè™‘ï¼Œæ ¹æ®è¿‡ç¨‹çš„ä¸åŒï¼Œç›®æ ‡æ–‡ä»¶æ ¼å¼æä¾›äº†å…¶å†…å®¹çš„ä¸¤ç§å¹¶è¡Œè§†å›¾ï¼Œå¦‚ä¸‹ï¼š ![[z-oblib/z2-attachments/Pasted image 20220912001910.png]]</description></item><item><title>epoll</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/epoll/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/epoll/</guid><description>epoll ç‰¹æ€§ è§¦å‘æ¨¡å¼ æ°´å¹³è§¦å‘ æ°´å¹³è§¦å‘ä¸ºLevel Triggeredï¼Œç®€ç§°LTã€‚
æ°´å¹³è§¦å‘å…³å¿ƒçš„æ˜¯ç¼“å†²åŒºçš„çŠ¶æ€ï¼Œå½“ç¼“å†²åŒºå¯è¯»çš„æ—¶å€™ï¼Œå°±ä¼šå‘å‡ºé€šçŸ¥ï¼Œä¹Ÿå°±æ˜¯å½“ç¼“å†²åŒºä¸­åªè¦æœ‰æ•°æ®å°±ä¼šå‘å‡ºé€šçŸ¥ã€‚
è¾¹ç¼˜è§¦å‘ è¾¹ç¼˜è§¦å‘ä¸ºEdge Triggeredï¼Œç®€ç§°ETã€‚
è¾¹ç¼˜è§¦å‘å…³å¿ƒçš„æ˜¯ç¼“å†²åŒºçŠ¶æ€çš„å˜åŒ–ï¼Œå½“ç¼“å†²åŒºçŠ¶æ€å‘ç”Ÿå˜åŒ–çš„æ—¶å€™æ‰ä¼šå‘å‡ºé€šçŸ¥ï¼Œæ¯”å¦‚ç¼“å†²åŒºä¸­æ¥äº†æ–°çš„æ•°æ®ã€‚
åŒºåˆ« è®¾æƒ³è¿™æ ·ä¸€ä¸ªåœºæ™¯ï¼Œå½“ä¸€æ¬¡read()è¯»å–æ²¡æœ‰è¯»å–å®Œç¼“å†²åŒºä¸­çš„æ•°æ®æ—¶ï¼ŒLTå’ŒETçš„åŒºåˆ«ï¼š
1ã€LTï¼Œæ­¤æ—¶ç¼“å†²åŒºä¸­è¿˜æœ‰æ•°æ®ï¼Œä¼šç»§ç»­å‘é€šçŸ¥
2ã€ETï¼Œæ­¤æ—¶ç¼“å†²åŒºçŠ¶æ€å¹¶æ²¡æœ‰å‘ç”Ÿå˜åŒ–ï¼Œå¹¶æ²¡æœ‰æ¥æ–°çš„æ•°æ®ï¼Œå°±ä¸ä¼šå‘é€šçŸ¥ï¼Œåœ¨æ–°æ•°æ®åˆ°æ¥ä¹‹å‰ï¼Œä¹‹å‰å‰©ä½™çš„æ•°æ®å°±æ— æ³•å–å‡ºã€‚
æ‰€ä»¥åœ¨ETæ¨¡å¼ä¸‹ï¼Œå½“è¯»å–æ•°æ®çš„æ—¶å€™ï¼Œä¸€å®šè¦å¾ªç¯è¯»å–æ•°æ®ï¼Œç›´åˆ°ç¼“å†²åŒºä¸­çš„æ•°æ®å…¨éƒ¨è¯»å–å®Œæˆï¼Œä¸€æ¬¡æ€§å°†æ•°æ®å–å‡ºã€‚
åŸç†æµç¨‹ ç±»ä¼¼java [[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/ReentrantLock|ReentrantLock]] çš„å®ç°ï¼Œæˆ–è€…åƒ[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/monitor|Monitor]]ç®¡ç¨‹çš„è®¾è®¡ã€‚çº¿ç¨‹è®¿é—®èµ„æºå°±åˆ°ç­‰å¾…å®¤ä¸­ç­‰å¾…ï¼›å‡†å¤‡å¥½äº†çš„èµ„æºä¼šæ”¾å…¥çº¢é»‘æ ‘ä¾¿äºæ£€ç´¢ï¼›æœ‰èµ„æºå¥½äº†æ“ä½œç³»ç»Ÿå°±ä¼šå”¤é†’ç­‰å¾…å®¤ä¸­çš„çº¿ç¨‹ã€‚
1ã€åˆ›å»ºepollå¯¹è±¡ å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå½“æŸä¸ªè¿›ç¨‹è°ƒç”¨epoll_createæ–¹æ³•æ—¶ï¼Œå†…æ ¸ä¼šåˆ›å»ºä¸€ä¸ªeventpollå¯¹è±¡ï¼ˆä¹Ÿå°±æ˜¯ç¨‹åºä¸­epfdæ‰€ä»£è¡¨çš„å¯¹è±¡ï¼‰ã€‚eventpollå¯¹è±¡ä¹Ÿæ˜¯æ–‡ä»¶ç³»ç»Ÿä¸­çš„ä¸€å‘˜ï¼Œå’Œsocketä¸€æ ·ï¼Œå®ƒä¹Ÿä¼šæœ‰ç­‰å¾…é˜Ÿåˆ—ã€‚
å†…æ ¸åˆ›å»ºeventpollå¯¹è±¡ï¼š ![[z-oblib/z2-attachments/v2-e3467895734a9d97f0af3c7bf875aaeb_720w.jpg]]
åˆ›å»ºä¸€ä¸ªä»£è¡¨è¯¥epollçš„eventpollå¯¹è±¡æ˜¯å¿…é¡»çš„ï¼Œå› ä¸ºå†…æ ¸è¦ç»´æŠ¤â€œå°±ç»ªåˆ—è¡¨â€ç­‰æ•°æ®ï¼Œâ€œå°±ç»ªåˆ—è¡¨â€å¯ä»¥ä½œä¸ºeventpollçš„æˆå‘˜ã€‚
2ã€ç»´æŠ¤ç›‘è§†åˆ—è¡¨ åˆ›å»ºepollå¯¹è±¡åï¼Œå¯ä»¥ç”¨epoll_ctlæ·»åŠ æˆ–åˆ é™¤æ‰€è¦ç›‘å¬çš„socketã€‚ä»¥æ·»åŠ socketä¸ºä¾‹ï¼Œå¦‚ä¸‹å›¾ï¼Œå¦‚æœé€šè¿‡epoll_ctlæ·»åŠ sock1ã€sock2å’Œsock3çš„ç›‘è§†ï¼Œå†…æ ¸ä¼šå°†eventpollæ·»åŠ åˆ°è¿™ä¸‰ä¸ªsocketçš„ç­‰å¾…é˜Ÿåˆ—ä¸­ã€‚
æ·»åŠ æ‰€è¦ç›‘å¬çš„socketï¼š
![[z-oblib/z2-attachments/v2-b49bb08a6a1b7159073b71c4d6591185_720w 1.jpg]]
å½“socketæ”¶åˆ°æ•°æ®åï¼Œä¸­æ–­ç¨‹åºä¼šæ“ä½œeventpollå¯¹è±¡ï¼Œè€Œä¸æ˜¯ç›´æ¥æ“ä½œè¿›ç¨‹ã€‚
3ã€æ¥æ”¶æ•°æ® å½“socketæ”¶åˆ°æ•°æ®åï¼Œä¸­æ–­ç¨‹åºä¼šç»™eventpollçš„â€œå°±ç»ªåˆ—è¡¨â€æ·»åŠ socketå¼•ç”¨ã€‚å¦‚ä¸‹å›¾å±•ç¤ºçš„æ˜¯sock2å’Œsock3æ”¶åˆ°æ•°æ®åï¼Œä¸­æ–­ç¨‹åºè®©rdlistå¼•ç”¨è¿™ä¸¤ä¸ªsocketã€‚
ç»™å°±ç»ªåˆ—è¡¨æ·»åŠ å¼•ç”¨ï¼š ![[z-oblib/z2-attachments/v2-18b89b221d5db3b5456ab6a0f6dc5784_720w.jpg]]
eventpollå¯¹è±¡ç›¸å½“äºæ˜¯socketå’Œè¿›ç¨‹ä¹‹é—´çš„ä¸­ä»‹ï¼Œsocketçš„æ•°æ®æ¥æ”¶å¹¶ä¸ç›´æ¥å½±å“è¿›ç¨‹ï¼Œè€Œæ˜¯é€šè¿‡æ”¹å˜eventpollçš„å°±ç»ªåˆ—è¡¨æ¥æ”¹å˜è¿›ç¨‹çŠ¶æ€ã€‚
å½“ç¨‹åºæ‰§è¡Œåˆ°epoll_waitæ—¶ï¼Œå¦‚æœrdlistå·²ç»å¼•ç”¨äº†socketï¼Œé‚£ä¹ˆepoll_waitç›´æ¥è¿”å›ï¼Œå¦‚æœrdlistä¸ºç©ºï¼Œé˜»å¡è¿›ç¨‹ã€‚
4ã€é˜»å¡å’Œå”¤é†’è¿›ç¨‹ å‡è®¾è®¡ç®—æœºä¸­æ­£åœ¨è¿è¡Œè¿›ç¨‹Aå’Œè¿›ç¨‹Bï¼Œåœ¨æŸæ—¶åˆ»è¿›ç¨‹Aè¿è¡Œåˆ°äº†epoll_waitè¯­å¥ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå†…æ ¸ä¼šå°†è¿›ç¨‹Aæ”¾å…¥eventpollçš„ç­‰å¾…é˜Ÿåˆ—ä¸­ï¼Œé˜»å¡è¿›ç¨‹ã€‚
epoll_waité˜»å¡è¿›ç¨‹ï¼š ![[z-oblib/z2-attachments/v2-90632d0dc3ded7f91379b848ab53974c_720w.jpg]]
å½“socketæ¥æ”¶åˆ°æ•°æ®ï¼Œä¸­æ–­ç¨‹åºä¸€æ–¹é¢ä¿®æ”¹rdlistï¼Œå¦ä¸€æ–¹é¢å”¤é†’eventpollç­‰å¾…é˜Ÿåˆ—ä¸­çš„è¿›ç¨‹ï¼Œè¿›ç¨‹Aå†æ¬¡è¿›å…¥è¿è¡ŒçŠ¶æ€ï¼ˆå¦‚ä¸‹å›¾ï¼‰ã€‚ä¹Ÿå› ä¸ºrdlistçš„å­˜åœ¨ï¼Œè¿›ç¨‹Aå¯ä»¥çŸ¥é“å“ªäº›socketå‘ç”Ÿäº†å˜åŒ–ã€‚
epollå”¤é†’è¿›ç¨‹ï¼š ![[z-oblib/z2-attachments/v2-40bd5825e27cf49b7fd9a59dfcbe4d6f_720w.jpg]]
å®ç°ç»†èŠ‚ eventpollçš„æ•°æ®ç»“æ„æ˜¯ä»€ä¹ˆæ ·å­ï¼Ÿ å°±ç»ªé˜Ÿåˆ—åº”è¯¥åº”ä½¿ç”¨ä»€ä¹ˆæ•°æ®ç»“æ„ï¼Ÿ eventpollåº”ä½¿ç”¨ä»€ä¹ˆæ•°æ®ç»“æ„æ¥ç®¡ç†é€šè¿‡epoll_ctlæ·»åŠ æˆ–åˆ é™¤çš„socketï¼Ÿ
å¦‚ä¸‹å›¾æ‰€ç¤ºï¼ŒeventpollåŒ…å«äº†lockã€mtxã€wqï¼ˆç­‰å¾…é˜Ÿåˆ—ï¼‰ã€rdlistç­‰æˆå‘˜ã€‚rdlistå’Œrbræ˜¯æˆ‘ä»¬æ‰€å…³å¿ƒçš„ã€‚
epollåŸç†ç¤ºæ„å›¾ï¼š ![[z-oblib/z2-attachments/v2-e63254878f67751dcc07a25b93f974bb_720w.jpg]] å›¾ç‰‡æ¥æºï¼šã€Šæ·±å…¥ç†è§£Nginxï¼šæ¨¡å—å¼€å‘ä¸æ¶æ„è§£æ(ç¬¬äºŒç‰ˆ)ã€‹ï¼Œé™¶è¾‰
å°±ç»ªåˆ—è¡¨çš„æ•°æ®ç»“æ„ å°±ç»ªé˜Ÿåˆ— &amp;ndash;&amp;gt; åŒå‘é“¾è¡¨
å°±ç»ªåˆ—è¡¨å¼•ç”¨ç€å°±ç»ªçš„socketï¼Œæ‰€ä»¥å®ƒåº”èƒ½å¤Ÿå¿«é€Ÿçš„æ’å…¥æ•°æ®ã€‚
ç¨‹åºå¯èƒ½éšæ—¶è°ƒç”¨epoll_ctlæ·»åŠ ç›‘è§†socketï¼Œä¹Ÿå¯èƒ½éšæ—¶åˆ é™¤ã€‚å½“åˆ é™¤æ—¶ï¼Œè‹¥è¯¥socketå·²ç»å­˜æ”¾åœ¨å°±ç»ªåˆ—è¡¨ä¸­ï¼Œå®ƒä¹Ÿåº”è¯¥è¢«ç§»é™¤ã€‚
æ‰€ä»¥å°±ç»ªåˆ—è¡¨åº”æ˜¯ä¸€ç§èƒ½å¤Ÿå¿«é€Ÿæ’å…¥å’Œåˆ é™¤çš„æ•°æ®ç»“æ„ã€‚åŒå‘é“¾è¡¨å°±æ˜¯è¿™æ ·ä¸€ç§æ•°æ®ç»“æ„ï¼Œepollä½¿ç”¨åŒå‘é“¾è¡¨æ¥å®ç°å°±ç»ªé˜Ÿåˆ—ï¼ˆå¯¹åº”ä¸Šå›¾çš„rdllistï¼‰ã€‚
ç´¢å¼•ç»“æ„ ç´¢å¼•ç»“æ„ &amp;ndash;&amp;gt; çº¢é»‘æ ‘
æ—¢ç„¶epollå°†â€œç»´æŠ¤ç›‘è§†é˜Ÿåˆ—â€å’Œâ€œè¿›ç¨‹é˜»å¡â€åˆ†ç¦»ï¼Œä¹Ÿæ„å‘³ç€éœ€è¦æœ‰ä¸ªæ•°æ®ç»“æ„æ¥ä¿å­˜ç›‘è§†çš„socketã€‚è‡³å°‘è¦æ–¹ä¾¿çš„æ·»åŠ å’Œç§»é™¤ï¼Œè¿˜è¦ä¾¿äºæœç´¢ï¼Œä»¥é¿å…é‡å¤æ·»åŠ ã€‚çº¢é»‘æ ‘æ˜¯ä¸€ç§è‡ªå¹³è¡¡äºŒå‰æŸ¥æ‰¾æ ‘ï¼Œæœç´¢ã€æ’å…¥å’Œåˆ é™¤æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯O(log(N))ï¼Œæ•ˆç‡è¾ƒå¥½ã€‚epollä½¿ç”¨äº†çº¢é»‘æ ‘ä½œä¸ºç´¢å¼•ç»“æ„ï¼ˆå¯¹åº”ä¸Šå›¾çš„rbrï¼‰ã€‚</description></item><item><title>final</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/0-%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/final/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/0-%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/final/</guid><description>final finalæ˜¯å¯è¢«ç»§æ‰¿çš„ï¼Œè¿™ç‚¹å’Œstaticä¸åŒã€‚
ä¿®é¥°ç±» ä¸å¯ç»§æ‰¿
å½“ç”¨finalä¿®é¥°ä¸€ä¸ªç±»æ—¶ï¼Œè¡¨æ˜è¿™ä¸ªç±»ä¸èƒ½è¢«ç»§æ‰¿ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœä¸€ä¸ªç±»ä½ æ°¸è¿œä¸ä¼šè®©ä»–è¢«ç»§æ‰¿ï¼Œå°±å¯ä»¥ç”¨finalè¿›è¡Œä¿®é¥°ã€‚finalç±»ä¸­çš„æˆå‘˜å˜é‡å¯ä»¥æ ¹æ®éœ€è¦è®¾ä¸ºfinalï¼Œä½†æ˜¯è¦æ³¨æ„finalç±»ä¸­çš„æ‰€æœ‰æˆå‘˜æ–¹æ³•éƒ½ä¼šè¢«éšå¼åœ°æŒ‡å®šä¸ºfinalæ–¹æ³•ã€‚
ä¿®é¥°æ–¹æ³• ä¸å¯é‡å†™
ä½¿ç”¨finalæ–¹æ³•çš„åŸå› æœ‰ä¸¤ä¸ªã€‚ç¬¬ä¸€ä¸ªåŸå› æ˜¯æŠŠæ–¹æ³•é”å®šï¼Œä»¥é˜²ä»»ä½•ç»§æ‰¿ç±»ä¿®æ”¹å®ƒçš„å«ä¹‰ï¼›ç¬¬äºŒä¸ªåŸå› æ˜¯æ•ˆç‡ã€‚åœ¨æ—©æœŸçš„Javaå®ç°ç‰ˆæœ¬ä¸­ï¼Œä¼šå°†finalæ–¹æ³•è½¬ä¸ºå†…åµŒè°ƒç”¨ã€‚ä½†æ˜¯å¦‚æœæ–¹æ³•è¿‡äºåºå¤§ï¼Œå¯èƒ½çœ‹ä¸åˆ°å†…åµŒè°ƒç”¨å¸¦æ¥çš„ä»»ä½•æ€§èƒ½æå‡ã€‚åœ¨æœ€è¿‘çš„Javaç‰ˆæœ¬ä¸­ï¼Œä¸éœ€è¦ä½¿ç”¨finalæ–¹æ³•è¿›è¡Œè¿™äº›ä¼˜åŒ–äº†ã€‚ &amp;ndash;æ‘˜è‡ªã€ŠJavaç¼–ç¨‹æ€æƒ³ã€‹ç¬¬å››ç‰ˆç¬¬143é¡µ
å¦‚æœåªæœ‰åœ¨æƒ³æ˜ç¡®ç¦æ­¢ è¯¥æ–¹æ³•åœ¨å­ç±»ä¸­è¢«è¦†ç›–çš„æƒ…å†µä¸‹æ‰å°†æ–¹æ³•è®¾ç½®ä¸ºfinalçš„ã€‚ ç±»çš„privateæ–¹æ³•ä¼šéšå¼åœ°è¢«æŒ‡å®šä¸ºfinalæ–¹æ³•ã€‚ ä¿®é¥°å˜é‡ ä¸å¯å˜
å¦‚æœæ˜¯åŸºæœ¬æ•°æ®ç±»å‹çš„å˜é‡ï¼Œåˆ™å…¶æ•°å€¼ä¸€æ—¦åœ¨åˆå§‹åŒ–ä¹‹åä¾¿ä¸èƒ½æ›´æ”¹ å¦‚æœæ˜¯å¼•ç”¨ç±»å‹çš„å˜é‡ï¼Œåˆ™åœ¨å¯¹å…¶åˆå§‹åŒ–ä¹‹åä¾¿ä¸èƒ½å†è®©å…¶æŒ‡å‘å¦ä¸€ä¸ªå¯¹è±¡ã€‚ ä½†æ˜¯å’Œstaticä¸åŒï¼Œfinalåœ¨å£°æ˜æ—¶ä¸è¿›è¡Œåˆå§‹åŒ–ï¼Œä½†æ˜¯åç»­åªèƒ½ç»™ç»™æœªåˆå§‹åŒ–çš„finalå˜é‡èµ‹å€¼ä¸€æ¬¡ã€‚å†æ¬¡èµ‹å€¼ä¼šæŠ¥é”™ã€‚
åŸç† 1 2 3 public class TestFinal { final int a = 20; } å­—èŠ‚ç ï¼š
1 2 3 4 5 6 7 0: aload_0 1: invokespecial #1 // Method java/lang/Object.&amp;#34;&amp;lt;init&amp;gt;&amp;#34;:()V 4: aload_0 5: bipush 20 7: putfield #2 // Field a:I &amp;lt;-- å†™å±éšœ 10: return å‘ç° ï¬nal å˜é‡çš„èµ‹å€¼ä¹Ÿä¼šé€šè¿‡ putï¬eld æŒ‡ä»¤æ¥å®Œæˆï¼ŒåŒæ ·åœ¨è¿™æ¡æŒ‡ä»¤ä¹‹åä¹Ÿä¼šåŠ å…¥å†™å±éšœï¼Œä¿è¯åœ¨å…¶å®ƒçº¿ç¨‹è¯»åˆ° å®ƒçš„å€¼æ—¶ä¸ä¼šå‡ºç°ä¸º 0 çš„æƒ…å†µ</description></item><item><title>fork&amp;join</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/forkjoin/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/forkjoin/</guid><description>fork&amp;amp;join æ¦‚å¿µ Fork/Join æ˜¯ JDK 1.7 åŠ å…¥çš„æ–°çš„çº¿ç¨‹æ± å®ç°ï¼Œå®ƒä½“ç°çš„æ˜¯ä¸€ç§åˆ†æ²»æ€æƒ³ï¼Œé€‚ç”¨äºèƒ½å¤Ÿè¿›è¡Œä»»åŠ¡æ‹†åˆ†çš„ cpu å¯†é›†å‹è¿ç®— æ‰€è°“çš„ä»»åŠ¡æ‹†åˆ†ï¼Œæ˜¯å°†ä¸€ä¸ªå¤§ä»»åŠ¡æ‹†åˆ†ä¸ºç®—æ³•ä¸Šç›¸åŒçš„å°ä»»åŠ¡ï¼Œç›´è‡³ä¸èƒ½æ‹†åˆ†å¯ä»¥ç›´æ¥æ±‚è§£ã€‚è·Ÿé€’å½’ç›¸å…³çš„ä¸€äº›è®¡ç®—ï¼Œå¦‚å½’å¹¶æ’åºã€æ–æ³¢é‚£å¥‘æ•°åˆ—ã€éƒ½å¯ä»¥ç”¨åˆ†æ²»æ€æƒ³è¿›è¡Œæ±‚è§£ Fork/Join åœ¨åˆ†æ²»çš„åŸºç¡€ä¸ŠåŠ å…¥äº†å¤šçº¿ç¨‹ï¼Œå¯ä»¥æŠŠæ¯ä¸ªä»»åŠ¡çš„åˆ†è§£å’Œåˆå¹¶äº¤ç»™ä¸åŒçš„çº¿ç¨‹æ¥å®Œæˆï¼Œè¿›ä¸€æ­¥æå‡äº†è¿ç®—æ•ˆç‡ Fork/Join é»˜è®¤ä¼šåˆ›å»ºä¸ cpu æ ¸å¿ƒæ•°å¤§å°ç›¸åŒçš„çº¿ç¨‹æ±  ä½¿ç”¨ æäº¤ç»™ Fork/Join çº¿ç¨‹æ± çš„ä»»åŠ¡éœ€è¦ç»§æ‰¿ RecursiveTaskï¼ˆæœ‰è¿”å›å€¼ï¼‰æˆ– RecursiveActionï¼ˆæ²¡æœ‰è¿”å›å€¼ï¼‰ï¼Œä¾‹å¦‚ä¸‹é¢å®šä¹‰äº†ä¸€ä¸ªå¯¹ 1~n ä¹‹é—´çš„æ•´æ•°æ±‚å’Œçš„ä»»åŠ¡ï¼š
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 class AddTask1 extends RecursiveTask&amp;lt;Integer&amp;gt; { int n; public AddTask1(int n) { this.</description></item><item><title>FutureTask</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/FutureTask/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/FutureTask/</guid><description>FutureTask FutureTask èƒ½å¤Ÿæ¥æ”¶ [[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/Callable|Callable]] ç±»å‹çš„å‚æ•°ï¼Œç”¨æ¥å¤„ç†æœ‰è¿”å›ç»“æœçš„æƒ…å†µã€‚
1 2 FutureTask&amp;lt;V&amp;gt; implements RunnableFuture&amp;lt;V&amp;gt; interface RunnableFuture&amp;lt;V&amp;gt; extends Runnable, Future&amp;lt;V&amp;gt; // Future.get()ç”¨æ¥è¿”å›ä»»åŠ¡çš„è¿”å›å€¼</description></item><item><title>GOTè¡¨</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux/GOT%E8%A1%A8/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux/GOT%E8%A1%A8/</guid><description>GOTè¡¨ æ·±å…¥ç†è§£GOTè¡¨å’ŒPLTè¡¨ - çŸ¥ä¹ (zhihu.com)
GOT(Global Offset Table)å…¨å±€åç§»è¡¨ï¼Œé“¾æ¥å™¨ä¸ºå¤–éƒ¨ç¬¦å·å¡«å……çš„å®é™…åç§»åœ°å€è¡¨ã€‚
ä½äºæ•°æ®æ®µï¼Œå†…å®¹å¯ä¿®æ”¹ã€‚
ç»“æ„ GOT[1]ï¼šä¸€ä¸ªæŒ‡å‘å†…éƒ¨æ•°æ®ç»“æ„çš„æŒ‡é’ˆï¼Œç±»å‹æ˜¯ link_mapï¼Œåœ¨åŠ¨æ€è£…è½½å™¨å†…éƒ¨ä½¿ç”¨ï¼ŒåŒ…å«äº†è¿›è¡Œ[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_3-è½¯ä»¶ç³»ç»Ÿ/2_0_2_1_2_3_1-æ“ä½œç³»ç»Ÿ/linux/ç¬¦å·è§£æ|ç¬¦å·è§£æ]]éœ€è¦çš„å½“å‰ ELF å¯¹è±¡çš„ä¿¡æ¯ã€‚åœ¨å®ƒçš„Â l_infoÂ åŸŸä¸­ä¿å­˜äº†Â .dynamicÂ æ®µä¸­å¤§å¤šæ•°æ¡ç›®çš„æŒ‡é’ˆæ„æˆçš„ä¸€ä¸ªæ•°ç»„ï¼Œæˆ‘ä»¬åé¢ä¼šåˆ©ç”¨å®ƒã€‚ GOT[2]ï¼šä¸€ä¸ªæŒ‡å‘åŠ¨æ€è£…è½½å™¨ä¸­Â [[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_3-è½¯ä»¶ç³»ç»Ÿ/2_0_2_1_2_3_1-æ“ä½œç³»ç»Ÿ/linux/_dl_runtime_resolve|_dl_runtime_resolve]]Â å‡½æ•°çš„æŒ‡é’ˆã€‚</description></item><item><title>happens-before</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/happens-before/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/happens-before/</guid><description>happens-before ä»€ä¹ˆæ˜¯happens-before å¦‚æœæ“ä½œA happens-beforeæ“ä½œBï¼Œé‚£ä¹ˆæ“ä½œAåœ¨å†…å­˜ä¸Šæ‰€åšçš„æ“ä½œå¯¹æ“ä½œBéƒ½æ˜¯å¯è§çš„ï¼Œä¸ç®¡å®ƒä»¬åœ¨ä¸åœ¨ä¸€ä¸ªçº¿ç¨‹ã€‚
ä¸€æ–¹é¢ï¼Œç¨‹åºå‘˜éœ€è¦JMMæä¾›ä¸€ä¸ªå¼ºçš„å†…å­˜æ¨¡å‹æ¥ç¼–å†™ä»£ç ï¼›å¦ä¸€æ–¹é¢ï¼Œç¼–è¯‘å™¨å’Œå¤„ç†å™¨å¸Œæœ›JMMå¯¹å®ƒä»¬çš„æŸç¼šè¶Šå°‘è¶Šå¥½ï¼Œè¿™æ ·å®ƒä»¬å°±å¯ä»¥æœ€å¯èƒ½å¤šçš„åšä¼˜åŒ–æ¥æé«˜æ€§èƒ½ï¼Œå¸Œæœ›çš„æ˜¯ä¸€ä¸ªå¼±çš„å†…å­˜æ¨¡å‹ã€‚
JMMè€ƒè™‘äº†è¿™ä¸¤ç§éœ€æ±‚ï¼Œå¹¶ä¸”æ‰¾åˆ°äº†å¹³è¡¡ç‚¹ï¼Œå¯¹ç¼–è¯‘å™¨å’Œå¤„ç†å™¨æ¥è¯´ï¼Œåªè¦ä¸æ”¹å˜ç¨‹åºçš„æ‰§è¡Œç»“æœï¼ˆå•çº¿ç¨‹ç¨‹åºå’Œæ­£ç¡®åŒæ­¥äº†çš„å¤šçº¿ç¨‹ç¨‹åºï¼‰ï¼Œç¼–è¯‘å™¨å’Œå¤„ç†å™¨æ€ä¹ˆä¼˜åŒ–éƒ½è¡Œã€‚
è€Œå¯¹äºç¨‹åºå‘˜ï¼ŒJMMæä¾›äº†happens-beforeè§„åˆ™ï¼ˆJSR-133è§„èŒƒï¼‰ï¼Œæ»¡è¶³äº†ç¨‹åºå‘˜çš„éœ€æ±‚â€”â€”ç®€å•æ˜“æ‡‚ï¼Œå¹¶ä¸”æä¾›äº†è¶³å¤Ÿå¼ºçš„å†…å­˜å¯è§æ€§ä¿è¯ã€‚æ¢è¨€ä¹‹ï¼Œç¨‹åºå‘˜åªè¦éµå¾ªhappens-beforeè§„åˆ™ï¼Œé‚£ä»–å†™çš„ç¨‹åºå°±èƒ½ä¿è¯åœ¨JMMä¸­å…·æœ‰å¼ºçš„å†…å­˜å¯è§æ€§ã€‚
JMMä½¿ç”¨happens-beforeçš„æ¦‚å¿µæ¥å®šåˆ¶ä¸¤ä¸ªæ“ä½œä¹‹é—´çš„æ‰§è¡Œé¡ºåºã€‚è¿™ä¸¤ä¸ªæ“ä½œå¯ä»¥åœ¨ä¸€ä¸ªçº¿ç¨‹ä»¥å†…ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸åŒçš„çº¿ç¨‹ä¹‹é—´ã€‚å› æ­¤ï¼ŒJMMå¯ä»¥é€šè¿‡happens-beforeå…³ç³»å‘ç¨‹åºå‘˜æä¾›è·¨çº¿ç¨‹çš„å†…å­˜å¯è§æ€§ä¿è¯ã€‚
happens-beforeå…³ç³»çš„å®šä¹‰å¦‚ä¸‹ï¼š
æ¦‚å¿µï¼šå¦‚æœä¸€ä¸ªæ“ä½œhappens-beforeå¦ä¸€ä¸ªæ“ä½œï¼Œé‚£ä¹ˆç¬¬ä¸€ä¸ªæ“ä½œçš„æ‰§è¡Œç»“æœå°†å¯¹ç¬¬äºŒä¸ªæ“ä½œå¯è§ï¼Œè€Œä¸”ç¬¬ä¸€ä¸ªæ“ä½œçš„æ‰§è¡Œé¡ºåºæ’åœ¨ç¬¬äºŒä¸ªæ“ä½œä¹‹å‰ã€‚ å®é™…æ˜¯ç»“æœä¸ºå¯¼å‘ï¼šä¸¤ä¸ªæ“ä½œä¹‹é—´å­˜åœ¨happens-beforeå…³ç³»ï¼Œå¹¶ä¸æ„å‘³ç€Javaå¹³å°çš„å…·ä½“å®ç°å¿…é¡»è¦æŒ‰ç…§happens-beforeå…³ç³»æŒ‡å®šçš„é¡ºåºæ¥æ‰§è¡Œã€‚å¦‚æœé‡æ’åºä¹‹åçš„æ‰§è¡Œç»“æœï¼Œä¸æŒ‰happens-beforeå…³ç³»æ¥æ‰§è¡Œçš„ç»“æœä¸€è‡´ï¼Œé‚£ä¹ˆJMMä¹Ÿå…è®¸è¿™æ ·çš„é‡æ’åºã€‚ happens-beforeå…³ç³»æœ¬è´¨ä¸Šå’Œas-if-serialè¯­ä¹‰æ˜¯ä¸€å›äº‹ã€‚ as-if-serialè¯­ä¹‰ä¿è¯å•çº¿ç¨‹å†…é‡æ’åºåçš„æ‰§è¡Œç»“æœå’Œç¨‹åºä»£ç æœ¬èº«åº”æœ‰çš„ç»“æœæ˜¯ä¸€è‡´çš„ï¼Œhappens-beforeå…³ç³»ä¿è¯æ­£ç¡®åŒæ­¥çš„å¤šçº¿ç¨‹ç¨‹åºçš„æ‰§è¡Œç»“æœä¸è¢«é‡æ’åºæ”¹å˜ã€‚
æ»¡è¶³çš„å‡ ç§æƒ…å†µ synchronized çº¿ç¨‹è§£é” m ä¹‹å‰å¯¹å˜é‡çš„å†™ï¼Œå¯¹äºæ¥ä¸‹æ¥å¯¹ m åŠ é”çš„å…¶å®ƒçº¿ç¨‹å¯¹è¯¥å˜é‡çš„è¯»å¯è§ï¼š
1 2 3 4 5 6 7 8 9 10 11 12 13 14 static int x; static Object m = new Object(); new Thread(()-&amp;gt;{ synchronized(m) { x = 10; } },&amp;#34;t1&amp;#34;).start(); new Thread(()-&amp;gt;{ synchronized(m) { System.out.println(x); } },&amp;#34;t2&amp;#34;).start(); volatile çº¿ç¨‹å¯¹ volatile å˜é‡çš„å†™ï¼Œå¯¹æ¥ä¸‹æ¥å…¶å®ƒçº¿ç¨‹å¯¹è¯¥å˜é‡çš„è¯»å¯è§</description></item><item><title>HashMap</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/1-%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7/HashMap/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/1-%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7/HashMap/</guid><description>HashMap å¹¶å‘é—®é¢˜ JDK7å¹¶å‘æ­»é“¾ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 public static void main(String[] args) { // æµ‹è¯• java 7 ä¸­å“ªäº›æ•°å­—çš„ hash ç»“æœç›¸ç­‰ System.</description></item><item><title>hugoå¯ç”¨æœ€åä¿®æ”¹æ—¥æœŸ</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_2_9_0-%E7%AC%94%E8%AE%B0%E8%BD%AF%E4%BB%B6/hugo/hugo%E5%90%AF%E7%94%A8%E6%9C%80%E5%90%8E%E4%BF%AE%E6%94%B9%E6%97%A5%E6%9C%9F/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_2_9_0-%E7%AC%94%E8%AE%B0%E8%BD%AF%E4%BB%B6/hugo/hugo%E5%90%AF%E7%94%A8%E6%9C%80%E5%90%8E%E4%BF%AE%E6%94%B9%E6%97%A5%E6%9C%9F/</guid><description>hugoå¯ç”¨æœ€åä¿®æ”¹æ—¥æœŸ è¯»å–ç¬”è®°yamlä¿¡æ¯ ä¿®æ”¹æ¨¡æ¿ï¼š
1 updated:å¡«å…¥æ—¥æœŸ è®¾ç½®é…ç½®æ–‡ä»¶ï¼š å¦‚æœæ˜¯yamlæ–‡ä»¶ï¼š
1 2 frontmatter:lastmod:[&amp;#34;:lastmod&amp;#34;,&amp;#34;updated&amp;#34;] å¦‚æœæ˜¯tomlæ–‡ä»¶ï¼š
1 2 [frontmatter] lastmod = [&amp;#34;:lastmod&amp;#34;, &amp;#34;updated&amp;#34;] é…ç½®æ–‡ä»¶ä¸­ç¬¬äºŒä¸ªå­—æ®µä¸yamlä¸­å®šä¹‰çš„å­—æ®µä¸€è‡´å³å¯ã€‚
è¯»å–ç¬”è®°æ–‡ä»¶ä¿®æ”¹ä¿¡æ¯ è®¾ç½®é…ç½®æ–‡ä»¶ï¼š å¦‚æœæ˜¯yamlæ–‡ä»¶ï¼š
1 2 frontmatter:lastmod:[&amp;#34;:fileModTime&amp;#34;,&amp;#34;lastmod&amp;#34;] å¦‚æœæ˜¯tomlæ–‡ä»¶ï¼š
1 2 [frontmatter] lastmod = [&amp;#34;:fileModTime&amp;#34;, &amp;#34;lastmod&amp;#34;]</description></item><item><title>interrupt</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/interrupt/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/interrupt/</guid><description>interrupt æ‰“æ–­ sleep, wait, join çš„çº¿ç¨‹ interruptå¼ºè¡Œæ‰“æ–­çº¿ç¨‹ï¼š
çº¿ç¨‹ä¼šè®°å½•æœ¬èº«æ˜¯å¦è¢«æ‰“æ–­è¿‡ï¼Œä½†æ˜¯sleep, wait, join ä»¥å¼‚å¸¸çš„æ–¹å¼å“åº”interruptåä¼šæ¸…é™¤å¼‚å¸¸æ ‡è®°ï¼ŒisInterrupted() == falseã€‚
1 2 3 4 5 6 7 8 9 10 11 12 13 14 public static void main(String[] args) throws InterruptedException { Thread t1 = new Thread(()-&amp;gt;{ log.debug(&amp;#34;sleep...&amp;#34;); try { Thread.sleep(5000); } catch (InterruptedException e) { throw new RuntimeException(e); } }); t1.start(); Thread.sleep(500); // ä¸»çº¿ç¨‹ç­‰t1å…ˆç¡ç€ t1.interrupt(); log.debug(&amp;#34;æ‰“æ–­æ ‡è®°ï¼š{}&amp;#34;, t1.isInterrupted()); } æ‰“æ–­æ­£å¸¸è¿è¡Œçš„çº¿ç¨‹ interruptè®©ä½ è‡ªè¡Œäº†æ–­ï¼š
å¯¹äºæ­£å¸¸è¿è¡Œçš„çº¿ç¨‹ï¼Œinterruptä¸»è¦æ˜¯è®¾ç½®æ‰“æ–­æ ‡è®°ï¼Œç”±çº¿ç¨‹ä»£ç æ ¹æ®æ‰“æ–­æ ‡è®°æ¥æŠ‰æ‹©å½“å‰çº¿ç¨‹æ˜¯è¦ç»§ç»­è¿è¡Œè¿˜æ˜¯å°±æ­¤ç»ˆæ­¢ã€‚
1 2 3 4 5 6 7 8 9 10 11 12 13 14 public static void main(String[] args) throws InterruptedException { Thread t1 = new Thread(()-&amp;gt;{ while (true){ boolean interrupted = Thread.</description></item><item><title>Javaå†…å­˜æ¨¡å‹</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/1-%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7/Java%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/1-%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7/Java%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B/</guid><description>Javaå†…å­˜æ¨¡å‹ è¿è¡Œæ—¶å†…å­˜çš„åˆ’åˆ† ![[z-oblib/z2-attachments/Javaè¿è¡Œæ—¶æ•°æ®åŒº.png]] å¯¹äºæ¯ä¸€ä¸ª[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_3-è½¯ä»¶ç³»ç»Ÿ/2_0_2_1_2_3_1-æ“ä½œç³»ç»Ÿ/çº¿ç¨‹|çº¿ç¨‹]]æ¥è¯´ï¼Œæ ˆéƒ½æ˜¯ç§æœ‰çš„ï¼Œè€Œå †æ˜¯å…¬æœ‰çš„ã€‚
ä¹Ÿå°±æ˜¯è¯´åœ¨æ ˆä¸­çš„å˜é‡ï¼ˆå±€éƒ¨å˜é‡ã€æ–¹æ³•å®šä¹‰å‚æ•°ã€å¼‚å¸¸å¤„ç†å™¨å‚æ•°ï¼‰ä¸ä¼šåœ¨çº¿ç¨‹ä¹‹é—´å…±äº«ï¼Œä¹Ÿå°±ä¸ä¼šæœ‰å†…å­˜å¯è§æ€§ï¼ˆä¸‹æ–‡ä¼šè¯´åˆ°ï¼‰çš„é—®é¢˜ï¼Œä¹Ÿä¸å—å†…å­˜æ¨¡å‹çš„å½±å“ã€‚è€Œåœ¨å †ä¸­çš„å˜é‡æ˜¯å…±äº«çš„ï¼Œæœ¬æ–‡ç§°ä¸ºå…±äº«å˜é‡ï¼Œå†…å­˜çš„å¯è§æ€§é’ˆå¯¹çš„æ˜¯å…±äº«å˜é‡ã€‚
æ—¢ç„¶å †æ˜¯å…±äº«çš„ï¼Œä¸ºä»€ä¹ˆåœ¨å †ä¸­ä¼šæœ‰å†…å­˜ä¸å¯è§? è¿™æ˜¯å› ä¸ºç°ä»£è®¡ç®—æœºä¸ºäº†é«˜æ•ˆï¼Œå¾€å¾€ä¼šåœ¨é«˜é€Ÿç¼“å­˜åŒºä¸­ç¼“å­˜å…±äº«å˜é‡ï¼Œå› ä¸ºcpuè®¿é—®ç¼“å­˜åŒºæ¯”è®¿é—®å†…å­˜è¦å¿«å¾—å¤šã€‚
çº¿ç¨‹ä¹‹é—´çš„å…±äº«å˜é‡å­˜åœ¨ä¸»å†…å­˜ä¸­ï¼Œæ¯ä¸ªçº¿ç¨‹éƒ½æœ‰ä¸€ä¸ªç§æœ‰çš„æœ¬åœ°å†…å­˜ï¼Œå­˜å‚¨äº†è¯¥çº¿ç¨‹ä»¥è¯»ã€å†™å…±äº«å˜é‡çš„å‰¯æœ¬ã€‚æœ¬åœ°å†…å­˜æ˜¯Javaå†…å­˜æ¨¡å‹çš„ä¸€ä¸ªæŠ½è±¡æ¦‚å¿µï¼Œå¹¶ä¸çœŸå®å­˜åœ¨ã€‚å®ƒæ¶µç›–äº†ç¼“å­˜ã€å†™ç¼“å†²åŒºã€å¯„å­˜å™¨ç­‰ã€‚
Javaçº¿ç¨‹ä¹‹é—´çš„é€šä¿¡ç”±Javaå†…å­˜æ¨¡å‹ï¼ˆç®€ç§°JMMï¼‰æ§åˆ¶ï¼Œä»æŠ½è±¡çš„è§’åº¦æ¥è¯´ï¼ŒJMMå®šä¹‰äº†çº¿ç¨‹å’Œä¸»å†…å­˜ä¹‹é—´çš„æŠ½è±¡å…³ç³»ã€‚[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/1-é«˜çº§ç‰¹æ€§/JMM#JMMçš„æŠ½è±¡ç¤ºæ„å›¾|JMMçš„æŠ½è±¡ç¤ºæ„å›¾]]ã€‚
ä¸€ä¸ªä¾‹å­ https://www.bilibili.com/video/BV16J411h7Rd?p=21&amp;t=575.8
![[z-oblib/z2-attachments/Pasted image 20220526104910.png]]
åˆå§‹åŒ–æ—¶ä¼šå°†ç±»åŠ è½½åˆ°æ–¹æ³•åŒºã€‚ jvmå¯åŠ¨mainæ–¹æ³•ä½œä¸ºä¸»çº¿ç¨‹ã€‚ mainçº¿ç¨‹æ ˆä¸­åŒ…å«ï¼š ç¨‹åºè®¡æ•°å™¨ï¼šæŒ‡å‘ä¸‹ä¸€å¥è¦æ‰§è¡Œçš„ä»£ç åœ°å€ã€‚ [[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/1-é«˜çº§ç‰¹æ€§/æ ˆå¸§|æ ˆå¸§]]ï¼šæ¯æ¬¡è°ƒç”¨å…¶å®ƒå‡½æ•°éƒ½ä¼šç”Ÿæˆä¸€ä¸ªè¿è¡Œæ—¶æ ˆå¸§ã€‚ æ¯æ¬¡è°ƒç”¨ä¸€ä¸ªæ–¹æ³•ï¼Œå°±ä¼šåœ¨mainçº¿ç¨‹æ ˆä¸­åˆ›å»ºä¸€ä¸ªç›®æ ‡æ–¹æ³•çš„æ ˆå¸§ã€‚ å±€éƒ¨å˜é‡å¯ä»¥æŒ‡å‘å †ç©ºé—´çš„æ•°ç»„æˆ–è€…æ˜¯å¯¹è±¡ã€‚</description></item><item><title>javaå®ˆæŠ¤çº¿ç¨‹</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/java%E5%AE%88%E6%8A%A4%E7%BA%BF%E7%A8%8B/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/java%E5%AE%88%E6%8A%A4%E7%BA%BF%E7%A8%8B/</guid><description>javaå®ˆæŠ¤çº¿ç¨‹ ä¸»çº¿ç¨‹ç»“æŸæ—¶ä¸ç®¡å®ˆæŠ¤çº¿ç¨‹è¿˜æœ‰æ²¡æœ‰å…¶å®ƒä»»åŠ¡ï¼Œéƒ½ä¼šå¼ºåˆ¶ç»“æŸå®ˆæŠ¤çº¿ç¨‹ã€‚
ä¸»è¦ç”¨åœ¨ï¼š
åƒåœ¾å›æ”¶å™¨çº¿ç¨‹ã€‚ Tomcatä¸­çš„Accetorå’ŒPollerçº¿ç¨‹ã€‚ï¼ˆç»“æŸtomcatåä¸ä¼šç­‰å¾…å½“å‰è¯·æ±‚å¤„ç†å®Œæˆè€Œæ˜¯ä¼šç›´æ¥ç»“æŸè¿è¡Œï¼‰ã€‚</description></item><item><title>Javaå®ç°çš„CAS</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/Java%E5%AE%9E%E7%8E%B0%E7%9A%84CAS/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/Java%E5%AE%9E%E7%8E%B0%E7%9A%84CAS/</guid><description>Javaå®ç°çš„CAS å‰é¢æåˆ°ï¼ŒCASæ˜¯ä¸€ç§åŸå­æ“ä½œã€‚é‚£ä¹ˆJavaæ˜¯æ€æ ·æ¥ä½¿ç”¨CASçš„å‘¢ï¼Ÿæˆ‘ä»¬çŸ¥é“ï¼Œåœ¨Javaä¸­ï¼Œå¦‚æœä¸€ä¸ªæ–¹æ³•æ˜¯nativeçš„ï¼Œé‚£Javaå°±ä¸è´Ÿè´£å…·ä½“å®ç°å®ƒï¼Œè€Œæ˜¯äº¤ç»™åº•å±‚çš„JVMä½¿ç”¨cæˆ–è€…c++å»å®ç°ã€‚
åœ¨Javaä¸­ï¼Œæœ‰ä¸€ä¸ªUnsafeç±»ï¼Œå®ƒåœ¨sun.miscåŒ…ä¸­ã€‚å®ƒé‡Œé¢æ˜¯ä¸€äº›nativeæ–¹æ³•ï¼Œå…¶ä¸­å°±æœ‰å‡ ä¸ªå…³äºCASçš„ï¼š
1 2 3 boolean compareAndSwapObject(Object o, long offset,Object expected, Object x); boolean compareAndSwapInt(Object o, long offset,int expected,int x); boolean compareAndSwapLong(Object o, long offset,long expected,long x); å½“ç„¶ï¼Œä»–ä»¬éƒ½æ˜¯public nativeçš„ã€‚
Unsafeä¸­å¯¹CASçš„å®ç°æ˜¯C++å†™çš„ï¼Œå®ƒçš„å…·ä½“å®ç°å’Œæ“ä½œç³»ç»Ÿã€CPUéƒ½æœ‰å…³ç³»ã€‚
Linuxçš„X86ä¸‹ä¸»è¦æ˜¯é€šè¿‡cmpxchglè¿™ä¸ªæŒ‡ä»¤åœ¨CPUçº§å®ŒæˆCASæ“ä½œçš„ï¼Œä½†åœ¨å¤šå¤„ç†å™¨æƒ…å†µä¸‹å¿…é¡»ä½¿ç”¨lockæŒ‡ä»¤åŠ é”æ¥å®Œæˆã€‚å½“ç„¶ä¸åŒçš„æ“ä½œç³»ç»Ÿå’Œå¤„ç†å™¨çš„å®ç°ä¼šæœ‰æ‰€ä¸åŒï¼Œå¤§å®¶å¯ä»¥è‡ªè¡Œäº†è§£ã€‚
å½“ç„¶ï¼ŒUnsafeç±»é‡Œé¢è¿˜æœ‰å…¶å®ƒæ–¹æ³•ç”¨äºä¸åŒçš„ç”¨é€”ã€‚æ¯”å¦‚æ”¯æŒçº¿ç¨‹æŒ‚èµ·å’Œæ¢å¤çš„parkå’Œunparkï¼Œ LockSupportç±»åº•å±‚å°±æ˜¯è°ƒç”¨äº†è¿™ä¸¤ä¸ªæ–¹æ³•ã€‚è¿˜æœ‰æ”¯æŒåå°„æ“ä½œçš„allocateInstance()æ–¹æ³•ã€‚</description></item><item><title>javaçº¿ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼ˆThread Context Switchï¼‰</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/java%E7%BA%BF%E7%A8%8B%E4%B8%8A%E4%B8%8B%E6%96%87%E5%88%87%E6%8D%A2/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/java%E7%BA%BF%E7%A8%8B%E4%B8%8A%E4%B8%8B%E6%96%87%E5%88%87%E6%8D%A2/</guid><description>javaçº¿ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼ˆThread Context Switchï¼‰ å› ä¸ºä»¥ä¸‹ä¸€äº›åŸå› å¯¼è‡´ cpu ä¸å†æ‰§è¡Œå½“å‰çš„çº¿ç¨‹ï¼Œè½¬è€Œæ‰§è¡Œå¦ä¸€ä¸ªçº¿ç¨‹çš„ä»£ç ï¼š
çº¿ç¨‹çš„ cpu æ—¶é—´ç‰‡ç”¨å®Œ
åƒåœ¾å›æ”¶
æœ‰æ›´é«˜ä¼˜å…ˆçº§çš„çº¿ç¨‹éœ€è¦è¿è¡Œ
çº¿ç¨‹è‡ªå·±è°ƒç”¨äº† sleepã€yieldã€waitã€joinã€parkã€synchronizedã€lock ç­‰æ–¹æ³•
å½“ Context Switch å‘ç”Ÿæ—¶ï¼Œéœ€è¦ç”±æ“ä½œç³»ç»Ÿä¿å­˜å½“å‰çº¿ç¨‹çš„çŠ¶æ€ï¼Œå¹¶æ¢å¤å¦ä¸€ä¸ªçº¿ç¨‹çš„çŠ¶æ€ã€‚
Java ä¸­å¯¹åº”çš„æ¦‚å¿µå°±æ˜¯ç¨‹åºè®¡æ•°å™¨ï¼ˆProgram Counter Registerï¼‰ï¼Œå®ƒçš„ä½œç”¨æ˜¯è®°ä½ä¸‹ä¸€æ¡ jvm æŒ‡ä»¤çš„æ‰§è¡Œåœ°å€ï¼Œæ˜¯çº¿ç¨‹ç§æœ‰çš„ã€‚
çŠ¶æ€åŒ…æ‹¬ç¨‹åºè®¡æ•°å™¨ã€è™šæ‹Ÿæœºæ ˆä¸­æ¯ä¸ªæ ˆå¸§çš„ä¿¡æ¯ï¼Œå¦‚å±€éƒ¨å˜é‡ã€æ“ä½œæ•°æ ˆã€è¿”å›åœ°å€ç­‰ã€‚
Context Switch é¢‘ç¹å‘ç”Ÿä¼šå½±å“æ€§èƒ½ã€‚</description></item><item><title>javaçº¿ç¨‹çŠ¶æ€</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/java%E7%BA%BF%E7%A8%8B%E7%8A%B6%E6%80%81/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/java%E7%BA%BF%E7%A8%8B%E7%8A%B6%E6%80%81/</guid><description>javaçº¿ç¨‹çŠ¶æ€ [[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_3-è½¯ä»¶ç³»ç»Ÿ/2_0_2_1_2_3_1-æ“ä½œç³»ç»Ÿ/çº¿ç¨‹çŠ¶æ€|çº¿ç¨‹çŠ¶æ€]]
æ ¹æ®Java API Thread.Stateæšä¸¾ï¼Œæœ‰6ç§çŠ¶æ€ï¼š
![[z-oblib/z2-attachments/Pasted image 20220526174139.png]]
BLOCKEDæ˜¯æŒ‡çº¿ç¨‹æ­£åœ¨ç­‰å¾…è·å–é”ï¼›WAITINGæ˜¯æŒ‡çº¿ç¨‹æ­£åœ¨ç­‰å¾…å…¶ä»–çº¿ç¨‹å‘æ¥çš„é€šçŸ¥ï¼ˆnotifyï¼‰ï¼Œæ”¶åˆ°é€šçŸ¥åï¼Œå¯èƒ½ä¼šé¡ºåºå‘åæ‰§è¡Œï¼ˆRUNNABLEï¼‰ï¼Œä¹Ÿå¯èƒ½ä¼šå†æ¬¡è·å–é”ï¼Œè¿›è€Œè¢«é˜»å¡ä½ï¼ˆBLOCKEDï¼‰ã€‚
çŠ¶æ€è½¬æ¢ 1. NEW &amp;ndash;&amp;gt; RUNNABLE NEW [[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_3-è½¯ä»¶ç³»ç»Ÿ/2_0_2_1_2_3_1-æ“ä½œç³»ç»Ÿ/çº¿ç¨‹|çº¿ç¨‹]]åˆšè¢«åˆ›å»ºï¼Œä½†æ˜¯è¿˜æ²¡æœ‰è°ƒç”¨ start() æ–¹æ³•ï¼Œè¿˜æœªä¸æ“ä½œç³»ç»Ÿçº¿ç¨‹ç›¸å…³è”ã€‚ å½“è°ƒç”¨ t.start() æ–¹æ³•æ—¶ï¼Œç”± NEW &amp;ndash;&amp;gt; RUNNABLEã€‚ æ³¨æ„ï¼ŒJava API å±‚é¢çš„ RUNNABLE çŠ¶æ€æ¶µç›–äº† æ“ä½œç³»ç»Ÿ å±‚é¢çš„ã€å¯è¿è¡ŒçŠ¶æ€ã€‘ã€ã€è¿è¡ŒçŠ¶æ€ã€‘å’Œã€é˜»å¡çŠ¶æ€ã€‘ï¼ˆç”±äº BIO å¯¼è‡´çš„çº¿ç¨‹é˜»å¡ï¼Œåœ¨ Java é‡Œæ— æ³•åŒºåˆ†ï¼Œä»ç„¶è®¤ä¸ºæ˜¯å¯è¿è¡Œï¼‰ã€‚
2. RUNNABLE &amp;lt;&amp;ndash;&amp;gt; WAITING è°ƒç”¨ [[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/wait&amp;amp;notify|wait&amp;amp;notify]] åœ¨RUNNABLE å’Œ AWITINGé—´è½¬æ¢ï¼Œt çº¿ç¨‹ç”¨ [2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/synchronized|synchronized] è·å–äº†å¯¹è±¡é”åï¼š è°ƒç”¨ obj.wait() æ–¹æ³•æ—¶ï¼Œt çº¿ç¨‹ä» RUNNABLE &amp;ndash;&amp;gt; WAITING è°ƒç”¨ obj.notify() ï¼Œ obj.notifyAll() ï¼Œ t.interrupt() æ—¶ ç«äº‰é”æˆåŠŸï¼Œt çº¿ç¨‹ä» WAITING &amp;ndash;&amp;gt; RUNNABLE ç«äº‰é”å¤±è´¥ï¼Œt çº¿ç¨‹ä» WAITING &amp;ndash;&amp;gt; BLOCKED BLOCKED ï¼Œ WAITING ï¼Œ TIMED_WAITING éƒ½æ˜¯ Java API å±‚é¢å¯¹ã€é˜»å¡çŠ¶æ€ã€‘çš„ç»†åˆ†ã€‚ TERMINATED å½“çº¿ç¨‹ä»£ç è¿è¡Œç»“æŸã€‚ 3.</description></item><item><title>javaé¿å…ä¸´ç•ŒåŒºç«æ€æ¡ä»¶</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/java%E9%81%BF%E5%85%8D%E4%B8%B4%E7%95%8C%E5%8C%BA%E7%AB%9E%E6%80%81%E6%9D%A1%E4%BB%B6/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/java%E9%81%BF%E5%85%8D%E4%B8%B4%E7%95%8C%E5%8C%BA%E7%AB%9E%E6%80%81%E6%9D%A1%E4%BB%B6/</guid><description>javaé¿å…ä¸´ç•ŒåŒºç«æ€æ¡ä»¶ [[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_3-è½¯ä»¶ç³»ç»Ÿ/2_0_2_1_2_3_1-æ“ä½œç³»ç»Ÿ/ä¸´ç•ŒåŒº|ä¸´ç•ŒåŒº]] [[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_3-è½¯ä»¶ç³»ç»Ÿ/2_0_2_1_2_3_1-æ“ä½œç³»ç»Ÿ/ç«æ€æ¡ä»¶|ç«æ€æ¡ä»¶]]
é˜»å¡å¼è§£å†³æ–¹æ¡ˆ [[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/synchronized|synchronized]] Lock éé˜»å¡å¼è§£å†³æ–¹æ¡ˆ åŸå­å˜é‡</description></item><item><title>JMM</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/1-%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7/JMM/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/1-%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7/JMM/</guid><description>JMM ç®€ä»‹ JMM å³ Java Memory Modelï¼Œå®ƒå®šä¹‰äº†ä¸»å­˜ã€å·¥ä½œå†…å­˜æŠ½è±¡æ¦‚å¿µï¼Œåº•å±‚å¯¹åº”ç€ CPU å¯„å­˜å™¨ã€ç¼“å­˜ã€ç¡¬ä»¶å†…å­˜ã€CPU æŒ‡ä»¤ä¼˜åŒ–ç­‰ã€‚ JMM ä½“ç°åœ¨ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š
åŸå­æ€§ - ä¿è¯æŒ‡ä»¤ä¸ä¼šå—åˆ°çº¿ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢çš„å½±å“ [[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/å¯è§æ€§|å¯è§æ€§]] - ä¿è¯æŒ‡ä»¤ä¸ä¼šå— cpu ç¼“å­˜çš„å½±å“ æœ‰åºæ€§ - ä¿è¯æŒ‡ä»¤ä¸ä¼šå— cpu æŒ‡ä»¤å¹¶è¡Œä¼˜åŒ–çš„å½±å“ JMMçš„æŠ½è±¡ç¤ºæ„å›¾ ![[z-oblib/z2-attachments/JMMæŠ½è±¡ç¤ºæ„å›¾.jpg]]
ä»å›¾ä¸­å¯ä»¥çœ‹å‡ºï¼š
æ‰€æœ‰çš„å…±äº«å˜é‡éƒ½å­˜åœ¨ä¸»å†…å­˜ä¸­ã€‚ æ¯ä¸ª[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_3-è½¯ä»¶ç³»ç»Ÿ/2_0_2_1_2_3_1-æ“ä½œç³»ç»Ÿ/çº¿ç¨‹|çº¿ç¨‹]]éƒ½ä¿å­˜äº†ä¸€ä»½è¯¥çº¿ç¨‹ä½¿ç”¨åˆ°çš„å…±äº«å˜é‡çš„å‰¯æœ¬ã€‚ å¦‚æœçº¿ç¨‹Aä¸çº¿ç¨‹Bä¹‹é—´è¦é€šä¿¡çš„è¯ï¼Œå¿…é¡»ç»å†ä¸‹é¢2ä¸ªæ­¥éª¤ï¼š çº¿ç¨‹Aå°†æœ¬åœ°å†…å­˜Aä¸­æ›´æ–°è¿‡çš„å…±äº«å˜é‡åˆ·æ–°åˆ°ä¸»å†…å­˜ä¸­å»ã€‚ çº¿ç¨‹Båˆ°ä¸»å†…å­˜ä¸­å»è¯»å–çº¿ç¨‹Aä¹‹å‰å·²ç»æ›´æ–°è¿‡çš„å…±äº«å˜é‡ã€‚ çº¿ç¨‹å¯¹å…±äº«å˜é‡çš„æ‰€æœ‰æ“ä½œéƒ½å¿…é¡»åœ¨è‡ªå·±çš„æœ¬åœ°å†…å­˜ä¸­è¿›è¡Œï¼Œä¸èƒ½ç›´æ¥ä»ä¸»å†…å­˜ä¸­è¯»å–ã€‚ JMMé€šè¿‡æ§åˆ¶ä¸»å†…å­˜ä¸æ¯ä¸ªçº¿ç¨‹çš„æœ¬åœ°å†…å­˜ä¹‹é—´çš„äº¤äº’ï¼Œæ¥æä¾›å†…å­˜å¯è§æ€§ä¿è¯ã€‚ Javaä¸­çš„[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/1-é«˜çº§ç‰¹æ€§/volatile|volatile]]å…³é”®å­—å¯ä»¥ä¿è¯å¤šçº¿ç¨‹æ“ä½œå…±äº«å˜é‡çš„å¯è§æ€§ä»¥åŠç¦æ­¢æŒ‡ä»¤[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_0_1-è®¡ç®—æœºç»„æˆåŸç†/æŒ‡ä»¤é‡æ’åº|é‡æ’åº]]ï¼Œsynchronizedå…³é”®å­—ä¸ä»…ä¿è¯å¯è§æ€§ï¼ŒåŒæ—¶ä¹Ÿä¿è¯äº†åŸå­æ€§ï¼ˆäº’æ–¥æ€§ï¼‰ã€‚åœ¨æ›´åº•å±‚ï¼ŒJMMé€šè¿‡å†…å­˜å±éšœæ¥å®ç°å†…å­˜çš„å¯è§æ€§ä»¥åŠç¦æ­¢é‡æ’åºã€‚ä¸ºäº†ç¨‹åºå‘˜çš„æ–¹ä¾¿ç†è§£ï¼Œæå‡ºäº†happens-beforeï¼Œå®ƒæ›´åŠ çš„ç®€å•æ˜“æ‡‚ï¼Œä»è€Œé¿å…äº†ç¨‹åºå‘˜ä¸ºäº†ç†è§£å†…å­˜å¯è§æ€§è€Œå»å­¦ä¹ å¤æ‚çš„é‡æ’åºè§„åˆ™ä»¥åŠè¿™äº›è§„åˆ™çš„å…·ä½“å®ç°æ–¹æ³•ã€‚
JMMä¸Javaå†…å­˜åŒºåŸŸåˆ’åˆ†çš„åŒºåˆ«ä¸è”ç³» åŒºåˆ« ä¸¤è€…æ˜¯ä¸åŒçš„æ¦‚å¿µå±‚æ¬¡ã€‚JMMæ˜¯æŠ½è±¡çš„ï¼Œä»–æ˜¯ç”¨æ¥æè¿°ä¸€ç»„è§„åˆ™ï¼Œé€šè¿‡è¿™ä¸ªè§„åˆ™æ¥æ§åˆ¶å„ä¸ªå˜é‡çš„è®¿é—®æ–¹å¼ï¼Œå›´ç»•åŸå­æ€§ã€æœ‰åºæ€§ã€å¯è§æ€§ç­‰å±•å¼€çš„ã€‚è€ŒJavaè¿è¡Œæ—¶å†…å­˜çš„åˆ’åˆ†æ˜¯å…·ä½“çš„ï¼Œæ˜¯JVMè¿è¡ŒJavaç¨‹åºæ—¶ï¼Œå¿…è¦çš„å†…å­˜åˆ’åˆ†ã€‚
è”ç³» éƒ½å­˜åœ¨ç§æœ‰æ•°æ®åŒºåŸŸå’Œå…±äº«æ•°æ®åŒºåŸŸã€‚ä¸€èˆ¬æ¥è¯´ï¼ŒJMMä¸­çš„ä¸»å†…å­˜å±äºå…±äº«æ•°æ®åŒºåŸŸï¼Œä»–æ˜¯åŒ…å«äº†å †å’Œæ–¹æ³•åŒºï¼›åŒæ ·ï¼ŒJMMä¸­çš„æœ¬åœ°å†…å­˜å±äºç§æœ‰æ•°æ®åŒºåŸŸï¼ŒåŒ…å«äº†ç¨‹åºè®¡æ•°å™¨ã€æœ¬åœ°æ–¹æ³•æ ˆã€è™šæ‹Ÿæœºæ ˆã€‚
æ•°æ®ç«äº‰ä¸é¡ºåºä¸€è‡´æ€§ å½“ç¨‹åºæœªæ­£ç¡®åŒæ­¥çš„æ—¶å€™ï¼Œå°±å¯èƒ½å­˜åœ¨æ•°æ®ç«äº‰ã€‚
æ•°æ®ç«äº‰ï¼šåœ¨ä¸€ä¸ªçº¿ç¨‹ä¸­å†™ä¸€ä¸ªå˜é‡ï¼Œåœ¨å¦ä¸€ä¸ªçº¿ç¨‹è¯»åŒä¸€ä¸ªå˜é‡ï¼Œå¹¶ä¸”å†™å’Œè¯»æ²¡æœ‰é€šè¿‡åŒæ­¥æ¥æ’åºã€‚
å¦‚æœç¨‹åºä¸­åŒ…å«äº†æ•°æ®ç«äº‰ï¼Œé‚£ä¹ˆè¿è¡Œçš„ç»“æœå¾€å¾€å……æ»¡äº†ä¸ç¡®å®šæ€§ï¼Œæ¯”å¦‚è¯»å‘ç”Ÿåœ¨äº†å†™ä¹‹å‰ï¼Œå¯èƒ½å°±ä¼šè¯»åˆ°é”™è¯¯çš„å€¼ï¼›å¦‚æœä¸€ä¸ªçº¿ç¨‹ç¨‹åºèƒ½å¤Ÿæ­£ç¡®åŒæ­¥ï¼Œé‚£ä¹ˆå°±ä¸å­˜åœ¨æ•°æ®ç«äº‰ã€‚
Javaå†…å­˜æ¨¡å‹ï¼ˆJMMï¼‰å¯¹äºæ­£ç¡®åŒæ­¥å¤šçº¿ç¨‹ç¨‹åºçš„å†…å­˜ä¸€è‡´æ€§åšäº†ä»¥ä¸‹ä¿è¯ï¼š
å¦‚æœç¨‹åºæ˜¯æ­£ç¡®åŒæ­¥çš„ï¼Œç¨‹åºçš„æ‰§è¡Œå°†å…·æœ‰é¡ºåºä¸€è‡´æ€§ã€‚ å³ç¨‹åºçš„æ‰§è¡Œç»“æœå’Œè¯¥ç¨‹åºåœ¨é¡ºåºä¸€è‡´æ€§æ¨¡å‹ä¸­æ‰§è¡Œçš„ç»“æœç›¸åŒã€‚
è¿™é‡Œçš„åŒæ­¥åŒ…æ‹¬äº†ä½¿ç”¨volatileã€finalã€synchronizedç­‰å…³é”®å­—æ¥å®ç°å¤šçº¿ç¨‹ä¸‹çš„åŒæ­¥ã€‚
å¦‚æœç¨‹åºå‘˜æ²¡æœ‰æ­£ç¡®ä½¿ç”¨volatileã€finalã€synchronizedï¼Œé‚£ä¹ˆå³ä¾¿æ˜¯ä½¿ç”¨äº†åŒæ­¥ï¼ˆå•çº¿ç¨‹ä¸‹çš„åŒæ­¥ï¼‰ï¼ŒJMMä¹Ÿä¸ä¼šæœ‰å†…å­˜å¯è§æ€§çš„ä¿è¯ï¼Œå¯èƒ½ä¼šå¯¼è‡´ä½ çš„ç¨‹åºå‡ºé”™ï¼Œå¹¶ä¸”å…·æœ‰ä¸å¯é‡ç°æ€§ï¼Œå¾ˆéš¾æ’æŸ¥ã€‚
æ‰€ä»¥å¦‚ä½•æ­£ç¡®ä½¿ç”¨volatileã€finalã€synchronizedï¼Œæ˜¯ç¨‹åºå‘˜åº”è¯¥å»äº†è§£çš„ã€‚åé¢ä¼šæœ‰ä¸“é—¨çš„ç« èŠ‚ä»‹ç»è¿™å‡ ä¸ªå…³é”®å­—çš„å†…å­˜è¯­ä¹‰åŠä½¿ç”¨ã€‚
JMMä¸­åŒæ­¥ç¨‹åºçš„é¡ºåºä¸€è‡´æ€§æ•ˆæœ åœ¨é¡ºåºä¸€è‡´æ€§æ¨¡å‹ä¸­ï¼Œæ‰€æœ‰æ“ä½œå®Œå…¨æŒ‰ç…§ç¨‹åºçš„é¡ºåºä¸²è¡Œæ‰§è¡Œã€‚ä½†æ˜¯JMMä¸­ï¼Œä¸´ç•ŒåŒºå†…ï¼ˆåŒæ­¥å—æˆ–åŒæ­¥æ–¹æ³•ä¸­ï¼‰çš„ä»£ç å¯ä»¥å‘ç”Ÿ[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_0_1-è®¡ç®—æœºç»„æˆåŸç†/æŒ‡ä»¤é‡æ’åº|é‡æ’åº]]ï¼ˆä½†ä¸å…è®¸ä¸´ç•ŒåŒºå†…çš„ä»£ç â€œé€ƒé€¸â€åˆ°ä¸´ç•ŒåŒºä¹‹å¤–ï¼Œå› ä¸ºä¼šç ´åé”çš„å†…å­˜è¯­ä¹‰ï¼‰ã€‚
è™½ç„¶çº¿ç¨‹Aåœ¨ä¸´ç•ŒåŒºåšäº†é‡æ’åºï¼Œä½†æ˜¯å› ä¸ºé”çš„ç‰¹æ€§ï¼Œçº¿ç¨‹Bæ— æ³•è§‚å¯Ÿåˆ°çº¿ç¨‹Aåœ¨ä¸´ç•ŒåŒºçš„é‡æ’åºã€‚è¿™ç§é‡æ’åºæ—¢æé«˜äº†æ‰§è¡Œæ•ˆç‡ï¼Œåˆæ²¡æœ‰æ”¹å˜ç¨‹åºçš„æ‰§è¡Œç»“æœã€‚
åŒæ—¶ï¼ŒJMMä¼šåœ¨é€€å‡ºä¸´ç•ŒåŒºå’Œè¿›å…¥ä¸´ç•ŒåŒºåšç‰¹æ®Šçš„å¤„ç†ï¼Œä½¿å¾—åœ¨ä¸´ç•ŒåŒºå†…ç¨‹åºè·å¾—ä¸é¡ºåºä¸€è‡´æ€§æ¨¡å‹ç›¸åŒçš„å†…å­˜è§†å›¾ã€‚</description></item><item><title>join</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/join/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/join/</guid><description>join join()æ–¹æ³•æ˜¯Threadç±»çš„ä¸€ä¸ªå®ä¾‹æ–¹æ³•ã€‚è®©å½“å‰çº¿ç¨‹é™·å…¥ç­‰å¾…ï¼Œç­‰å¾…æŸä¸ªå…¶å®ƒ[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_3-è½¯ä»¶ç³»ç»Ÿ/2_0_2_1_2_3_1-æ“ä½œç³»ç»Ÿ/çº¿ç¨‹|çº¿ç¨‹]]è¿è¡Œç»“æŸï¼Œè°è°ƒç”¨å°±ç­‰å¾…è°ï¼Œjoinèµ·åˆ°äº†[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_3-è½¯ä»¶ç³»ç»Ÿ/2_0_2_1_2_3_1-æ“ä½œç³»ç»Ÿ/åŒæ­¥|åŒæ­¥]]çš„ä½œç”¨ã€‚
join()åº•å±‚å°±æ˜¯wait()ã€‚
æœ‰æ—¶å€™ï¼Œä¸»çº¿ç¨‹åˆ›å»ºå¹¶å¯åŠ¨äº†å­çº¿ç¨‹ï¼Œå¦‚æœå­çº¿ç¨‹ä¸­éœ€è¦è¿›è¡Œå¤§é‡çš„è€—æ—¶è¿ç®—ï¼Œä¸»çº¿ç¨‹å¾€å¾€å°†æ—©äºå­çº¿ç¨‹ç»“æŸä¹‹å‰ç»“æŸã€‚
å¦‚æœä¸»çº¿ç¨‹æƒ³ç­‰å¾…å­çº¿ç¨‹æ‰§è¡Œå®Œæ¯•åï¼Œè·å¾—å­çº¿ç¨‹ä¸­çš„å¤„ç†å®Œçš„æŸä¸ªæ•°æ®ï¼Œå°±è¦ç”¨åˆ°joinæ–¹æ³•äº†ã€‚
ç¤ºä¾‹ä»£ç ï¼š
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 public class Join { static class ThreadA implements Runnable { @Override public void run() { try { System.out.println(&amp;#34;æˆ‘æ˜¯å­çº¿ç¨‹ï¼Œæˆ‘å…ˆç¡ä¸€ç§’&amp;#34;); Thread.sleep(1000); System.out.println(&amp;#34;æˆ‘æ˜¯å­çº¿ç¨‹ï¼Œæˆ‘ç¡å®Œäº†ä¸€ç§’&amp;#34;); } catch (InterruptedException e) { e.printStackTrace(); } } } public static void main(String[] args) throws InterruptedException { Thread thread = new Thread(new ThreadA()); thread.</description></item><item><title>kmp</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_0_2_1-%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/kmp/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_0_2_1-%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/kmp/</guid><description>kmp</description></item><item><title>lambda</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/1-%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7/lambda/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/1-%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7/lambda/</guid><description>lambda</description></item><item><title>leave</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux/leave/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux/leave/</guid><description>leave mov esp, ebp æ¸…ç©ºå½“å‰å‡½æ•°æ ˆä»¥è¿˜åŸæ ˆç©ºé—´ï¼ˆç›´æ¥ç§»åŠ¨æ ˆé¡¶æŒ‡é’ˆÂ espÂ åˆ°å½“å‰å‡½æ•°çš„æ ˆåº•Â ebpÂ ï¼‰ï¼› pop ebp è¿˜åŸæ ˆåº•ï¼ˆå°†æ­¤æ—¶Â espÂ æ‰€æŒ‡çš„ä¸Šå±‚å‡½æ•°æ ˆåº• old ebp å¼¹å…¥Â ebpÂ å¯„å­˜å™¨å†…ï¼‰ï¼›</description></item><item><title>LinkedBlockingQueue</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/LinkedBlockingQueue/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/LinkedBlockingQueue/</guid><description>LinkedBlockingQueue å…¥é˜Ÿå‡ºé˜Ÿ ç±»ä¼¼[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/AQS|AQS]]ä¸­çš„ç­‰å¾…é˜Ÿåˆ—:
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 public class LinkedBlockingQueue&amp;lt;E&amp;gt; extends AbstractQueue&amp;lt;E&amp;gt; implements BlockingQueue&amp;lt;E&amp;gt;, java.io.Serializable { static class Node&amp;lt;E&amp;gt; { E item; /** * ä¸‹åˆ—ä¸‰ç§æƒ…å†µä¹‹ä¸€ * - çœŸæ­£çš„åç»§èŠ‚ç‚¹ * - è‡ªå·±, å‘ç”Ÿåœ¨å‡ºé˜Ÿæ—¶ * - null, è¡¨ç¤ºæ˜¯æ²¡æœ‰åç»§èŠ‚ç‚¹, æ˜¯æœ€åäº† */ Node&amp;lt;E&amp;gt; next; Node(E x) { item = x; } } } åˆå§‹åŒ–é“¾è¡¨ last = head = new Node&amp;lt;E&amp;gt;(null); Dummy èŠ‚ç‚¹ç”¨æ¥å ä½ï¼Œitem ä¸º null !</description></item><item><title>LongAdder</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/LongAdder/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/LongAdder/</guid><description>LongAdder åŸç† LongAdder ç±»æœ‰å‡ ä¸ªå…³é”®åŸŸï¼š
1 2 3 4 5 6 7 8 // ç´¯åŠ å•å…ƒæ•°ç»„, æ‡’æƒ°åˆå§‹åŒ– transient volatile Cell[] cells; // åŸºç¡€å€¼, å¦‚æœæ²¡æœ‰ç«äº‰, åˆ™ç”¨ cas ç´¯åŠ è¿™ä¸ªåŸŸ transient volatile long base; // åœ¨ cells åˆ›å»ºæˆ–æ‰©å®¹æ—¶, ç½®ä¸º 1, è¡¨ç¤ºåŠ é” transient volatile int cellsBusy; cellsBusyç”¨åˆ°äº†[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/CASé”|CASé”]]çš„æ–¹æ³•ã€‚
Cell Cellä¸ºç´¯åŠ å•å…ƒï¼š
1 2 3 4 5 6 7 8 9 10 11 12 // é˜²æ­¢ç¼“å­˜è¡Œä¼ªå…±äº« @sun.misc.Contended static final class Cell { volatile long value; Cell(long x) { value = x; } // æœ€é‡è¦çš„æ–¹æ³•, ç”¨æ¥ cas æ–¹å¼è¿›è¡Œç´¯åŠ , prev è¡¨ç¤ºæ—§å€¼, next è¡¨ç¤ºæ–°å€¼ final boolean cas(long prev, long next) { return UNSAFE.</description></item><item><title>Mark Word</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/1-%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7/Mark-Word/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/1-%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7/Mark-Word/</guid><description>Mark Word ç”¨äºå­˜å‚¨å¯¹è±¡è‡ªèº«çš„è¿è¡Œæ—¶æ•°æ®ï¼Œå¦‚å“ˆå¸Œç ï¼ˆHashCodeï¼‰ã€GCåˆ†ä»£å¹´é¾„ã€é”çŠ¶æ€æ ‡å¿—ã€[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_3-è½¯ä»¶ç³»ç»Ÿ/2_0_2_1_2_3_1-æ“ä½œç³»ç»Ÿ/çº¿ç¨‹|çº¿ç¨‹]]æŒæœ‰çš„é”ã€åå‘çº¿ç¨‹IDã€åå‘æ—¶é—´æˆ³ç­‰ç­‰ã€‚
Mark Wordåœ¨32ä½JVMä¸­çš„é•¿åº¦æ˜¯32bitï¼Œåœ¨64ä½JVMä¸­é•¿åº¦æ˜¯64bitã€‚æˆ‘ä»¬æ‰“å¼€ openjdkçš„æºç åŒ…ï¼Œå¯¹åº”è·¯å¾„/openjdk/hotspot/src/share/vm/oopsï¼ŒMark Wordå¯¹åº”åˆ°C++çš„ä»£ç markOop.hppï¼Œå¯ä»¥ä»æ³¨é‡Šä¸­çœ‹åˆ°å®ƒä»¬çš„ç»„æˆï¼Œæœ¬æ–‡æ‰€æœ‰ä»£ç æ˜¯åŸºäºJdk1.8ã€‚
Mark Wordåœ¨ä¸åŒçš„é”çŠ¶æ€ä¸‹å­˜å‚¨çš„å†…å®¹ä¸åŒï¼Œåœ¨32ä½JVMä¸­æ˜¯è¿™ä¹ˆå­˜çš„ï¼š
![[z-oblib/z2-attachments/1162587-20200918154115022-312986152.png]]
åœ¨64ä½JVMä¸­æ˜¯è¿™ä¹ˆå­˜çš„ï¼š
![[z-oblib/z2-attachments/1162587-20200918154125385-1537793659.png]]
è™½ç„¶å®ƒä»¬åœ¨ä¸åŒä½æ•°çš„JVMä¸­é•¿åº¦ä¸ä¸€æ ·ï¼Œä½†æ˜¯åŸºæœ¬ç»„æˆå†…å®¹æ˜¯ä¸€è‡´çš„ã€‚
æ³¨æ„ä¸Šè¿°ç»“æ„ä¸æ˜¯æ¯ä¸€è¡Œéƒ½åŒæ—¶å­˜åœ¨ï¼Œè€Œæ˜¯æ ¹æ®é”æ ‡å¿—ä½æ¥å†³å®šå½“å‰è¡Œçš„çŠ¶æ€ã€‚ ä¾‹å¦‚åœ¨é‡é‡çº§é”çŠ¶æ€ä¸‹ï¼Œå½“å¯¹è±¡è·å–åˆ°Mointerçš„æ—¶ï¼Œä¼šå…ˆå¤åˆ¶å¹¶æš‚å­˜æ— é”æ€å¯¹åº”çš„ä¿¡æ¯ï¼Œå°†ä¿¡æ¯è¦†å†™ä¸ºMointeråœ°å€ã€‚å½“é‡Šæ”¾é”åï¼Œä¼šæ¢å¤æ— é”æ€å¯¹åº”æ•°æ®ã€‚
é”æ ‡å¿—ä½ï¼ˆlockï¼‰ï¼šåŒºåˆ†é”çŠ¶æ€ï¼Œ11æ—¶è¡¨ç¤ºå¯¹è±¡å¾…GCå›æ”¶çŠ¶æ€, åªæœ‰æœ€å2ä½é”æ ‡è¯†(11)æœ‰æ•ˆã€‚ biased_lockï¼šæ˜¯å¦[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/åå‘é”|åå‘é”]]ï¼Œç”±äºæ— é”å’Œåå‘é”çš„é”æ ‡è¯†éƒ½æ˜¯ 01ï¼Œæ²¡åŠæ³•åŒºåˆ†ï¼Œè¿™é‡Œå¼•å…¥ä¸€ä½çš„åå‘é”æ ‡è¯†ä½ã€‚ åˆ†ä»£å¹´é¾„ï¼ˆageï¼‰ï¼šè¡¨ç¤ºå¯¹è±¡è¢«GCçš„æ¬¡æ•°ï¼Œå½“è¯¥æ¬¡æ•°åˆ°è¾¾é˜ˆå€¼çš„æ—¶å€™ï¼Œå¯¹è±¡å°±ä¼šè½¬ç§»åˆ°è€å¹´ä»£ã€‚ å¯¹è±¡çš„hashcodeï¼ˆhashï¼‰ï¼šè¿è¡ŒæœŸé—´è°ƒç”¨System.identityHashCode()æ¥è®¡ç®—ï¼Œå»¶è¿Ÿè®¡ç®—ï¼Œå¹¶æŠŠç»“æœèµ‹å€¼åˆ°è¿™é‡Œã€‚å½“å¯¹è±¡åŠ é”åï¼Œè®¡ç®—çš„ç»“æœ31ä½ä¸å¤Ÿè¡¨ç¤ºï¼Œåœ¨åå‘é”ï¼Œè½»é‡é”ï¼Œé‡é‡é”ï¼Œhashcodeä¼šè¢«è½¬ç§»åˆ°Monitorä¸­ã€‚ åå‘é”çš„çº¿ç¨‹IDï¼ˆJavaThreadï¼‰ï¼šåå‘æ¨¡å¼çš„æ—¶å€™ï¼Œå½“æŸä¸ªçº¿ç¨‹æŒæœ‰å¯¹è±¡çš„æ—¶å€™ï¼Œå¯¹è±¡è¿™é‡Œå°±ä¼šè¢«ç½®ä¸ºè¯¥çº¿ç¨‹çš„IDã€‚ åœ¨åé¢çš„æ“ä½œä¸­ï¼Œå°±æ— éœ€å†è¿›è¡Œå°è¯•è·å–é”çš„åŠ¨ä½œã€‚ epochï¼šåå‘é”åœ¨CASé”æ“ä½œè¿‡ç¨‹ä¸­ï¼Œåå‘æ€§æ ‡è¯†ï¼Œè¡¨ç¤ºå¯¹è±¡æ›´åå‘å“ªä¸ªé”ã€‚ ptr_to_lock_recordï¼š[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/è½»é‡çº§é”|è½»é‡çº§é”]]çŠ¶æ€ä¸‹ï¼ŒæŒ‡å‘æ ˆä¸­é”è®°å½•çš„æŒ‡é’ˆã€‚å½“é”è·å–æ˜¯æ— ç«äº‰çš„æ—¶ï¼ŒJVMä½¿ç”¨åŸå­æ“ä½œè€Œä¸æ˜¯OSäº’æ–¥ã€‚è¿™ç§æŠ€æœ¯ç§°ä¸ºè½»é‡çº§é”å®šã€‚åœ¨è½»é‡çº§é”å®šçš„æƒ…å†µä¸‹ï¼ŒJVMé€šè¿‡[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/CAS|CAS]]æ“ä½œåœ¨å¯¹è±¡çš„æ ‡é¢˜å­—ä¸­è®¾ç½®æŒ‡å‘é”è®°å½•çš„æŒ‡é’ˆã€‚ ptr_to_heavyweight_monitorï¼š[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/é‡é‡çº§é”|é‡é‡çº§é”]]çŠ¶æ€ä¸‹ï¼ŒæŒ‡å‘å¯¹è±¡ç›‘è§†å™¨[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/monitor|Monitor]]çš„æŒ‡é’ˆã€‚å¦‚æœä¸¤ä¸ªä¸åŒçš„çº¿ç¨‹åŒæ—¶åœ¨åŒä¸€ä¸ªå¯¹è±¡ä¸Šç«äº‰ï¼Œåˆ™å¿…é¡»å°†è½»é‡çº§é”å®šå‡çº§åˆ°Monitorä»¥ç®¡ç†ç­‰å¾…çš„çº¿ç¨‹ã€‚åœ¨é‡é‡çº§é”å®šçš„æƒ…å†µä¸‹ï¼ŒJVMåœ¨å¯¹è±¡çš„ptr_to_heavyweight_monitorè®¾ç½®æŒ‡å‘Monitorçš„æŒ‡é’ˆã€‚</description></item><item><title>MESI</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_0_1-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/MESI/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_0_1-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/MESI/</guid><description>MESI Mï¼šä»£è¡¨å·²ä¿®æ”¹ï¼ˆModifiedï¼‰ï¼šCache Block é‡Œé¢çš„å†…å®¹æˆ‘ä»¬å·²ç»æ›´æ–°è¿‡äº†ï¼Œä½†æ˜¯è¿˜æ²¡æœ‰å†™å›åˆ°ä¸»å†…å­˜é‡Œé¢ï¼›
Eï¼šä»£è¡¨ç‹¬å ï¼ˆExclusiveï¼‰ï¼šCache Block é‡Œé¢çš„æ•°æ®å’Œä¸»å†…å­˜é‡Œé¢çš„æ•°æ®æ˜¯ä¸€è‡´çš„ï¼›
Sï¼šä»£è¡¨å…±äº«ï¼ˆSharedï¼‰ï¼šCache Block é‡Œé¢çš„æ•°æ®å’Œä¸»å†…å­˜é‡Œé¢çš„æ•°æ®æ˜¯ä¸€è‡´çš„ï¼›
Iï¼šä»£è¡¨å·²å¤±æ•ˆï¼ˆInvalidatedï¼‰ï¼šCache Block é‡Œé¢çš„æ•°æ®å·²ç»å¤±æ•ˆäº†ï¼Œä¸å¯ä»¥ç›¸ä¿¡è¿™ä¸ª Cache Block é‡Œé¢çš„æ•°æ®ï¼›
![[z-oblib/z2-attachments/24483793-3cef70653d60cdf9.webp]]
é—®é¢˜ CPUæ“ä½œåˆ†ä¸ºä¸¤ç§ï¼šloadï¼ˆè¯»ï¼‰ã€storeï¼ˆå†™ï¼‰ï¼ŒåŠ å…¥ç¼“å­˜çš„ç›®çš„æ˜¯æå‰ç¼“å­˜å†…å­˜çš„æ•°æ®ï¼Œæé«˜loadçš„æ•ˆç‡ï¼Œä½†æ˜¯storeçš„é€Ÿåº¦é™ä½äº†ï¼Œå› ä¸ºCPUå°†æ•°æ®storeåˆ°å†…å­˜å¤šäº†å†™ç¼“å­˜çš„æ­¥éª¤ï¼Œå¹¶ä¸”éœ€è¦åŒæ­¥æ‰€æœ‰CPUçš„ç§æœ‰ç¼“å­˜ã€‚è¿™æ ·storeæ“ä½œä¼šä¸¥é‡é˜»å¡åç»­çš„loadæ“ä½œï¼Œè¿™æ ·åŠ ç¼“å­˜çš„æ„ä¹‰å®Œå…¨å°±æ²¡æœ‰äº†ï¼Œä¸ä»…æ²¡èƒ½æé«˜loadçš„æ•ˆç‡ï¼Œåè€Œé˜»å¡äº†loadã€‚ä¸ºäº†è§£å†³loadè¢«é˜»å¡çš„é—®é¢˜ï¼Œåœ¨CPUä¸­åŠ å…¥äº†æ–°çš„ç»„ä»¶store bufferï¼ˆå†™é˜Ÿåˆ—ï¼‰ï¼›
![[z-oblib/z2-attachments/24483793-80300b10191392a0.webp]] æ¯ä¸ªCPUéƒ½æœ‰ä¸€ä¸ªstore bufferï¼Œå½“CPUéœ€è¦æ‰§è¡Œstoreæ“ä½œæ—¶ï¼Œä¼šå°†storeæ“ä½œå…ˆæ”¾å…¥store bufferä¸­ï¼Œä¸ä¼šç«‹å³æ‰§è¡Œstoreæ“ä½œï¼Œç­‰å¾…åˆé€‚çš„æ—¶æœºå†æ‰§è¡Œï¼ˆstore bufferæ»¡äº†ç­‰ç­‰æƒ…å†µä¼šçœŸæ­£æ‰§è¡Œstoreæ“ä½œï¼‰ï¼Œåœ¨storeåé¢çš„loadæ“ä½œä¸ç”¨å†ç­‰storeçœŸæ­£æ‰§è¡Œå®Œæ¯•æ‰èƒ½æ‰§è¡Œï¼Œåªè¦storeæ”¾å…¥äº†store bufferä¸­ï¼Œloadå°±å¯ä»¥æ‰§è¡Œäº†ã€‚
æ€»ç»“ MESIåè®®çš„å¼•å…¥ä¼šå¯¼è‡´ç¼“å­˜çš„å†™å…¥æ•ˆç‡é™ä½ï¼Œæ‰€ä»¥å¼•å…¥äº†store bufferç­‰éƒ¨ä»¶ï¼Œstore bufferå°†storeæ“ä½œç¼“å­˜èµ·æ¥ï¼Œä¸ä¼šç«‹å³å†™å…¥ç¼“å­˜ï¼Œå¯¼è‡´å¤šCPUå†…çš„å€¼åŒæ­¥ä¼šæœ‰ä¸€å®šå»¶è¿Ÿï¼Œé—´æ¥å¯¼è‡´cpuçš„æ“ä½œ[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_0_1-è®¡ç®—æœºç»„æˆåŸç†/æŒ‡ä»¤é‡æ’åº|é‡æ’åº]]ï¼Œå¤šcpuçš„å…±äº«å˜é‡çš„æ“ä½œä¼šå‘ç”Ÿæ··ä¹±ï¼Œæ‰€ä»¥JMMä¸­å¯ä»¥ä½¿ç”¨[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/1-é«˜çº§ç‰¹æ€§/volatile|volatile]]å¼ºåˆ¶åˆ·æ–°store bufferï¼Œè®©å¤šCPUä¸­çš„å€¼[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_3-è½¯ä»¶ç³»ç»Ÿ/2_0_2_1_2_3_1-æ“ä½œç³»ç»Ÿ/åŒæ­¥|åŒæ­¥]]æ²¡æœ‰å»¶è¿Ÿï¼Œä¿è¯å¤šCPUå…±äº«å˜é‡ä¸ä¼šå‘ç”Ÿæ··ä¹±ã€‚</description></item><item><title>monitor</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/monitor/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/monitor/</guid><description>monitor ç›‘è§†å™¨/ç®¡ç¨‹ã€‚
æ¯ä¸ª Java å¯¹è±¡éƒ½å¯ä»¥å…³è”ä¸€ä¸ª Monitor å¯¹è±¡ï¼Œå¦‚æœä½¿ç”¨ [[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/synchronized|synchronized]] ç»™å¯¹è±¡ä¸Šé”ï¼ˆé‡é‡çº§ï¼‰ä¹‹åï¼Œè¯¥[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/1-é«˜çº§ç‰¹æ€§/å¯¹è±¡å¤´|å¯¹è±¡å¤´]]çš„[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/1-é«˜çº§ç‰¹æ€§/Mark Word|Mark Word]] ä¸­å°±è¢«è®¾ç½®æŒ‡å‘ Monitor å¯¹è±¡çš„æŒ‡é’ˆã€‚
Monitor ç»“æ„ï¼š ![[z-oblib/z2-attachments/Pasted image 20220527172014.png]]
Monitor ä¸­ Owner åˆå§‹ä¸º nullã€‚ å½“ Thread-2 æ‰§è¡Œ synchronized(obj) å°±ä¼šå°† Monitor çš„æ‰€æœ‰è€… Owner ç½®ä¸º Thread-2ï¼ŒMonitorä¸­åªèƒ½æœ‰ä¸€ä¸ª Ownerã€‚ åœ¨ Thread-2 ä¸Šé”çš„è¿‡ç¨‹ä¸­ï¼Œå¦‚æœ Thread-3ï¼ŒThread-4ï¼ŒThread-5 ä¹Ÿæ¥æ‰§è¡Œsynchronized(obj)ï¼Œå°±ä¼šè¿›å…¥ EntryList BLOCKEDã€‚ Thread-2 æ‰§è¡Œå®ŒåŒæ­¥ä»£ç å—çš„å†…å®¹ï¼Œç„¶åå”¤é†’ EntryList ä¸­ç­‰å¾…çš„çº¿ç¨‹æ¥ç«äº‰é”ï¼Œç«äº‰çš„æ—¶æ˜¯éå…¬å¹³çš„ã€‚ å›¾ä¸­ WaitSet ä¸­çš„ Thread-0ï¼ŒThread-1 æ˜¯ä¹‹å‰è·å¾—è¿‡é”ï¼Œä½†æ¡ä»¶ä¸æ»¡è¶³è¿›å…¥ WAITING çŠ¶æ€çš„çº¿ç¨‹ï¼Œåé¢è®² wait-notify æ—¶ä¼šåˆ†æã€‚ æ³¨æ„ï¼š synchronized å¿…é¡»æ˜¯è¿›å…¥åŒä¸€ä¸ªå¯¹è±¡çš„ monitor æ‰æœ‰ä¸Šè¿°çš„æ•ˆæœï¼Œ ä¸åŠ  synchronized çš„å¯¹è±¡ä¸ä¼šå…³è”ç›‘è§†å™¨ï¼Œä¸éµä»ä»¥ä¸Šè§„åˆ™ã€‚</description></item><item><title>Nettyä¼˜åŒ–ä¸æºç </title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_2_1_0-web%E5%90%8E%E7%AB%AF/Netty/Netty%E4%BC%98%E5%8C%96%E4%B8%8E%E6%BA%90%E7%A0%81/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_2_1_0-web%E5%90%8E%E7%AB%AF/Netty/Netty%E4%BC%98%E5%8C%96%E4%B8%8E%E6%BA%90%E7%A0%81/</guid><description>Nettyä¼˜åŒ–ä¸æºç  1. ä¼˜åŒ– 1.1 æ‰©å±•åºåˆ—åŒ–ç®—æ³• åºåˆ—åŒ–ï¼Œååºåˆ—åŒ–ä¸»è¦ç”¨åœ¨æ¶ˆæ¯æ­£æ–‡çš„è½¬æ¢ä¸Š
åºåˆ—åŒ–æ—¶ï¼Œéœ€è¦å°† Java å¯¹è±¡å˜ä¸ºè¦ä¼ è¾“çš„æ•°æ®ï¼ˆå¯ä»¥æ˜¯ byte[]ï¼Œæˆ– json ç­‰ï¼Œæœ€ç»ˆéƒ½éœ€è¦å˜æˆ byte[]ï¼‰ ååºåˆ—åŒ–æ—¶ï¼Œéœ€è¦å°†ä¼ å…¥çš„æ­£æ–‡æ•°æ®è¿˜åŸæˆ Java å¯¹è±¡ï¼Œä¾¿äºå¤„ç† ç›®å‰çš„ä»£ç ä»…æ”¯æŒ Java è‡ªå¸¦çš„åºåˆ—åŒ–ï¼Œååºåˆ—åŒ–æœºåˆ¶ï¼Œæ ¸å¿ƒä»£ç å¦‚ä¸‹
1 2 3 4 5 6 7 8 9 10 11 // ååºåˆ—åŒ– byte[] body = new byte[bodyLength]; byteByf.readBytes(body); ObjectInputStream in = new ObjectInputStream(new ByteArrayInputStream(body)); Message message = (Message) in.readObject(); message.setSequenceId(sequenceId); // åºåˆ—åŒ– ByteArrayOutputStream out = new ByteArrayOutputStream(); new ObjectOutputStream(out).writeObject(message); byte[] bytes = out.toByteArray(); ä¸ºäº†æ”¯æŒæ›´å¤šåºåˆ—åŒ–ç®—æ³•ï¼ŒæŠ½è±¡ä¸€ä¸ª Serializer æ¥å£</description></item><item><title>Nettyå…¥é—¨</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_2_1_0-web%E5%90%8E%E7%AB%AF/Netty/Netty%E5%85%A5%E9%97%A8/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_2_1_0-web%E5%90%8E%E7%AB%AF/Netty/Netty%E5%85%A5%E9%97%A8/</guid><description>Nettyå…¥é—¨ 1. æ¦‚è¿° 1.1 Netty æ˜¯ä»€ä¹ˆï¼Ÿ 1 2 Netty is an asynchronous event-driven network application framework for rapid development of maintainable high performance protocol servers &amp;amp; clients. Netty æ˜¯ä¸€ä¸ªå¼‚æ­¥çš„ã€åŸºäºäº‹ä»¶é©±åŠ¨çš„ç½‘ç»œåº”ç”¨æ¡†æ¶ï¼Œç”¨äºå¿«é€Ÿå¼€å‘å¯ç»´æŠ¤ã€é«˜æ€§èƒ½çš„ç½‘ç»œæœåŠ¡å™¨å’Œå®¢æˆ·ç«¯
1.2 Netty çš„ä½œè€… ![[z-oblib/z2-attachments/64fc67105d460cb23e0bcc014ba4c21f.png]]
ä»–è¿˜æ˜¯å¦ä¸€ä¸ªè‘—åç½‘ç»œåº”ç”¨æ¡†æ¶ Mina çš„é‡è¦è´¡çŒ®è€…
1.3 Netty çš„åœ°ä½ Netty åœ¨ Java ç½‘ç»œåº”ç”¨æ¡†æ¶ä¸­çš„åœ°ä½å°±å¥½æ¯”ï¼šSpring æ¡†æ¶åœ¨ JavaEE å¼€å‘ä¸­çš„åœ°ä½
ä»¥ä¸‹çš„æ¡†æ¶éƒ½ä½¿ç”¨äº† Nettyï¼Œå› ä¸ºå®ƒä»¬æœ‰ç½‘ç»œé€šä¿¡éœ€æ±‚ï¼
Cassandra - nosql æ•°æ®åº“ Spark - å¤§æ•°æ®åˆ†å¸ƒå¼è®¡ç®—æ¡†æ¶ Hadoop - å¤§æ•°æ®åˆ†å¸ƒå¼å­˜å‚¨æ¡†æ¶ RocketMQ - ali å¼€æºçš„æ¶ˆæ¯é˜Ÿåˆ— ElasticSearch - æœç´¢å¼•æ“ gRPC - rpc æ¡†æ¶ Dubbo - rpc æ¡†æ¶ Spring 5.</description></item><item><title>Nettyè¿›é˜¶</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_2_1_0-web%E5%90%8E%E7%AB%AF/Netty/Netty%E8%BF%9B%E9%98%B6/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_2_1_0-web%E5%90%8E%E7%AB%AF/Netty/Netty%E8%BF%9B%E9%98%B6/</guid><description>Nettyè¿›é˜¶ 1. ç²˜åŒ…ä¸åŠåŒ… 1.1 ç²˜åŒ…ç°è±¡ æœåŠ¡ç«¯ä»£ç 
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 public class HelloWorldServer { static final Logger log = LoggerFactory.getLogger(HelloWorldServer.class); void start() { NioEventLoopGroup boss = new NioEventLoopGroup(1); NioEventLoopGroup worker = new NioEventLoopGroup(); try { ServerBootstrap serverBootstrap = new ServerBootstrap(); serverBootstrap.</description></item><item><title>Obsidiané…ç½®webdavè¿œç¨‹åŒæ­¥æœåŠ¡å™¨</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_2_9_0-%E7%AC%94%E8%AE%B0%E8%BD%AF%E4%BB%B6/obsidian/Obsidian%E9%85%8D%E7%BD%AEwebdav%E8%BF%9C%E7%A8%8B%E5%90%8C%E6%AD%A5%E6%9C%8D%E5%8A%A1%E5%99%A8/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_2_9_0-%E7%AC%94%E8%AE%B0%E8%BD%AF%E4%BB%B6/obsidian/Obsidian%E9%85%8D%E7%BD%AEwebdav%E8%BF%9C%E7%A8%8B%E5%90%8C%E6%AD%A5%E6%9C%8D%E5%8A%A1%E5%99%A8/</guid><description>Obsidiané…ç½®webdavè¿œç¨‹åŒæ­¥æœåŠ¡å™¨ å‡†å¤‡ obsidianè½¯ä»¶ obsidian remotely saveæ’ä»¶ vpsæœåŠ¡å™¨ ï¼ˆubuntu2004ï¼‰ å®‰è£…å¹¶é…ç½®nginxæœåŠ¡å™¨ å®‰è£…nginxåŠwebdavæ’ä»¶ 1 2 sudo apt sudo apt -y install nginx nginx-extras libnginx-mod-http-dav-ext libnginx-mod-http-auth-pam åˆ›å»ºnginxé…ç½®æ–‡ä»¶ 1 vim /etc/nginx/conf.d/webdav.conf æ–‡ä»¶å†…å®¹ï¼š
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 server { listen è®¾ç½®ä¸€ä¸ªç«¯å£; listen [::]:è®¾ç½®ä¸€ä¸ªç«¯å£; server_name å¦‚æœæœ‰åŸŸåå°±é…åœ¨è¿™é‡Œ; # è®¾ç½®ä½¿ç”¨utf-8ç¼–ç ,é˜²æ­¢ä¸­æ–‡æ–‡ä»¶åä¹±ç  charset utf-8; # é»˜è®¤å­˜æ”¾æ–‡ä»¶çš„è·¯å¾„ root /webdav; auth_basic realm_name; # ç”¨æˆ·å¯†ç æ–‡ä»¶å­˜æ”¾ä½ç½® auth_basic_user_file /etc/nginx/.</description></item><item><title>park&amp;unpark</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/parkunpark/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/parkunpark/</guid><description>park&amp;amp;unpark ç‰¹ç‚¹ ä¸ wait&amp;amp;notifyç›¸æ¯” waitï¼Œnotify å’Œ notifyAll å¿…é¡»é…åˆ Object Monitor ä¸€èµ·ä½¿ç”¨ï¼Œè€Œ parkï¼Œunpark ä¸å¿… park &amp;amp; unpark æ˜¯ä»¥çº¿ç¨‹ä¸ºå•ä½æ¥é˜»å¡/å”¤é†’çº¿ç¨‹ï¼Œè€Œ notify åªèƒ½éšæœºå”¤é†’ä¸€ä¸ªç­‰å¾…çº¿ç¨‹ï¼ŒnotifyAll æ˜¯å”¤é†’æ‰€æœ‰ç­‰å¾…çº¿ç¨‹ï¼Œå°±ä¸é‚£ä¹ˆç²¾å‡†ã€‚ park &amp;amp; unpark å¯ä»¥å…ˆ unparkï¼Œè€Œ wait &amp;amp; notify ä¸èƒ½å…ˆ notifyã€‚ åŸç† æ¯ä¸ªçº¿ç¨‹éƒ½æœ‰è‡ªå·±çš„ä¸€ä¸ª Parker å¯¹è±¡ï¼Œç”±ä¸‰éƒ¨åˆ†ç»„æˆ _counter ï¼Œ _cond å’Œ _mutex æ‰“ä¸ªæ¯”å–»ï¼š
çº¿ç¨‹å°±åƒä¸€ä¸ªæ—…äººï¼ŒParker å°±åƒä»–éšèº«æºå¸¦çš„èƒŒåŒ…ï¼š æ¡ä»¶å˜é‡å°±å¥½æ¯”èƒŒåŒ…ä¸­çš„å¸ç¯· _counter å°±å¥½æ¯”èƒŒåŒ…ä¸­çš„å¤‡ç”¨å¹²ç²®ï¼ˆ0 ä¸ºè€—å°½ï¼Œ1 ä¸ºå……è¶³ï¼‰ è°ƒç”¨ park å°±æ˜¯è¦çœ‹éœ€ä¸éœ€è¦åœä¸‹æ¥æ­‡æ¯ å¦‚æœå¤‡ç”¨å¹²ç²®è€—å°½ï¼Œé‚£ä¹ˆé’»è¿›å¸ç¯·æ­‡æ¯ å¦‚æœå¤‡ç”¨å¹²ç²®å……è¶³ï¼Œé‚£ä¹ˆä¸éœ€åœç•™ï¼Œç»§ç»­å‰è¿› è°ƒç”¨ unparkï¼Œå°±å¥½æ¯”ä»¤å¹²ç²®å……è¶³ å¦‚æœè¿™æ—¶çº¿ç¨‹è¿˜åœ¨å¸ç¯·ï¼Œå°±å”¤é†’è®©ä»–ç»§ç»­å‰è¿› å¦‚æœè¿™æ—¶çº¿ç¨‹è¿˜åœ¨è¿è¡Œï¼Œé‚£ä¹ˆä¸‹æ¬¡ä»–è°ƒç”¨ park æ—¶ï¼Œä»…æ˜¯æ¶ˆè€—æ‰å¤‡ç”¨å¹²ç²®ï¼Œä¸éœ€åœç•™ç»§ç»­å‰è¿› å› ä¸ºèƒŒåŒ…ç©ºé—´æœ‰é™ï¼Œå¤šæ¬¡è°ƒç”¨ unpark ä»…ä¼šè¡¥å……ä¸€ä»½å¤‡ç”¨å¹²ç²® å½“å‰çº¿ç¨‹è°ƒç”¨ Unsafe.</description></item><item><title>PLTè¡¨</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux/PLT%E8%A1%A8/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux/PLT%E8%A1%A8/</guid><description>PLTè¡¨ æ·±å…¥ç†è§£GOTè¡¨å’ŒPLTè¡¨ - çŸ¥ä¹ (zhihu.com)
PLTï¼ˆProcedure Linkage Tableï¼‰è¿‡ç¨‹é“¾æ¥è¡¨ï¼Œä½äºä»£ç æ®µï¼Œå†…å®¹ä¸å¯ä¿®æ”¹ã€‚ PLTè¡¨é€šè¿‡å¼•ç”¨GOTè¡¨ä¸­çš„å‡½æ•°çš„ç»å¯¹åœ°å€ï¼Œæ¥æŠŠæ§åˆ¶è½¬ç§»åˆ°å®é™…çš„å‡½æ•°ã€‚ åœ¨å®é™…çš„å¯æ‰§è¡Œç¨‹åºæˆ–è€…å…±äº«ç›®æ ‡æ–‡ä»¶ä¸­ï¼ŒPLTè¡¨åœ¨åç§°ä¸º.pltçš„sectionä¸­ã€‚
ç»“æ„ PLT[0]ï¼šä¿å­˜ä¸€æ®µæ“ä½œï¼Œæ“ä½œå†…å®¹ï¼špushç›®æ ‡å‡½æ•°ç¼–å·ï¼Œè·³è½¬åˆ°GOT[2]
æ¥æº GOTè¡¨å’ŒPLTè¡¨çŸ¥è¯†è¯¦è§£_77458çš„åšå®¢-CSDNåšå®¢_gotè¡¨
è¿™ä¸ªå‡½æ•°æ˜¯ç¼–è¯‘ç³»ç»Ÿè‡ªå·±åŠ çš„ï¼Œå¤§å®¶å¯ä»¥é€šè¿‡disas getsçœ‹çœ‹é‡Œé¢çš„ä»£ç ï¼Œå¦‚ä¸‹å›¾ï¼š
![[z-oblib/z2-attachments/Pasted image 20220907230615.png]]
è¿™ä¸ªå‡½æ•°åªæœ‰ä¸‰è¡Œä»£ç ï¼Œç¬¬ä¸€è¡Œè·³è½¬ï¼Œç¬¬äºŒè¡Œå‹æ ˆï¼Œç¬¬ä¸‰è¡Œåˆæ˜¯è·³è½¬ï¼Œè§£é‡Šï¼š ç¬¬ä¸€è¡Œè·³è½¬ï¼Œå®ƒçš„ä½œç”¨æ˜¯é€šè¿‡PLTè¡¨è·³è½¬åˆ°GOTè¡¨ï¼Œè€Œåœ¨ç¬¬ä¸€æ¬¡è¿è¡ŒæŸä¸€ä¸ªå‡½æ•°ä¹‹å‰ï¼Œè¿™ä¸ªå‡½æ•°PLTPLTè¡¨å¯¹åº”çš„GOTè¡¨ä¸­çš„æ•°æ®ä¸º@plt@pltå‡½æ•°ä¸­ç¬¬äºŒè¡ŒæŒ‡ä»¤çš„åœ°å€ï¼Œé’ˆå¯¹å›¾ä¸­æ¥è¯´æ­¥éª¤å¦‚ä¸‹ï¼š
jmp æŒ‡ä»¤è·³è½¬åˆ° GOT è¡¨ GOT è¡¨ä¸­çš„æ•°æ®ä¸º0x400486 è·³è½¬åˆ°æŒ‡ä»¤åœ°å€ä¸º0x400486 æ‰§è¡Œpush 0x3 (è¿™ä¸ªä¸ºåœ¨GOTGOTä¸­çš„ä¸‹æ ‡åºå·) å†æ‰§è¡Œjmp 0x400440 è€Œ0x400440ä¸ºPLT[0]çš„åœ°å€ PLT[0]çš„æŒ‡ä»¤ä¼šè¿›å…¥åŠ¨æ€é“¾æ¥å™¨çš„å…¥å£ æ‰§è¡Œä¸€ä¸ªå‡½æ•°å°†çœŸæ­£çš„å‡½æ•°åœ°å€è¦†ç›–åˆ°[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_3-è½¯ä»¶ç³»ç»Ÿ/2_0_2_1_2_3_1-æ“ä½œç³»ç»Ÿ/linux/GOTè¡¨|GOTè¡¨]]ä¸­ é—®é¢˜ PLT[0]å¤„åˆ°åº•åšäº†ä»€ä¹ˆï¼ŒæŒ‰ç…§æˆ‘ä»¬ä¹‹å‰çš„æ€è·¯å®ƒä¸æ˜¯åº”è¯¥è·³è½¬åˆ°GOT[0]å—ï¼Ÿ ![[z-oblib/z2-attachments/Pasted image 20220907230947.png]]
æˆ‘ä»¬å°è¯•ç€æŸ¥çœ‹0x400440åœ°å€çš„æ•°æ®å†…å®¹å‘ç°ä¸€ä¸ªé—®é¢˜ï¼Œä»0x400440âˆ’0x400450ä¹‹é—´çš„æ•°æ®å®Œå…¨ä¸çŸ¥é“æ˜¯ä»€ä¹ˆï¼Œè€ŒçœŸæ­£çš„PLT[x]ä¸­çš„æ•°æ®æ˜¯ä»0x400450å¼€å§‹çš„ï¼Œä»è¿™é‡Œæ‰æœ‰äº†@pltä¸ºåç¼€çš„åœ°å€ï¼Œä½†æ˜¯æˆ‘ä»¬disas getsçœ‹ä»£ç çš„æ—¶å€™æ˜¯ä»0x400440å¼€å§‹çš„ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡x /5i 0x400440æŸ¥çœ‹0x400440å¤„çš„ä»£ç ï¼š
![[z-oblib/z2-attachments/Pasted image 20220907231232.png]]
åé¢çš„#ä¹‹ååˆä¸€ä¸ª1616è¿›åˆ¶æ•°ï¼Œä¸€çœ‹ä¾¿å¯ä»¥çŸ¥é“æ˜¯GOTè¡¨çš„åœ°å€ï¼Œä¸ºä»€ä¹ˆè¿™ä¹ˆè‚¯å®šå‘¢ï¼Œå› ä¸ºæˆ‘ä»¬å¯ä»¥é€šè¿‡objdump -R ./a.outæŸ¥çœ‹ä¸€ä¸ªç¨‹åºçš„GOTå‡½æ•°çš„åœ°å€ï¼Œå¦‚ä¸‹å›¾ï¼š
![[z-oblib/z2-attachments/Pasted image 20220907231301.png]]
è¿™é‡Œéƒ½æ˜¯äº›GOTGOTåœ°å€ï¼Œæˆ‘ä»¬å‘ç°éƒ½æ˜¯0x601&amp;hellip;0x601&amp;hellip;è¿™äº›ï¼Œæ‰€ä»¥å¯ä»¥æ–­å®šå›¾77ä¸­çš„ä¹Ÿæ˜¯GOTGOTåœ°å€ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥çŒœæƒ³å‡ºï¼Œåœ¨æ­£å¼å­˜å‚¨ä¸€ä¸ªå‡½æ•°çš„GOTåœ°å€å‰ï¼Œæˆ‘ä»¬çš„PLTPLTè¡¨å‰é¢æœ‰ä¸€é¡¹è¿›è¡Œä¸€äº›å¤„ç†ï¼Œæˆ‘ä»¬æš‚ä¸”ä¸å…·ä½“æ·±å…¥å‰–æè¿™äº›ä»£ç æœ‰ä»€ä¹ˆç”¨ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥è‚¯å®šputs@pltputs@pltå‰é¢é‚£1616ä¸ªå­—èŠ‚ä¹Ÿç®—æ˜¯PLTPLTè¡¨ä¸­çš„å†…å®¹ï¼Œè¿™å…¶å®å°±æ˜¯æˆ‘ä»¬çš„PLT[0]ï¼Œæ­£å¦‚æˆ‘ä»¬ä¹‹å‰é—®é¢˜æåˆ°çš„é‚£æ ·ï¼Œæˆ‘ä»¬çš„PLT[0]æ ¹æœ¬æ²¡æœ‰è·³è½¬åˆ°GOT[0]ï¼Œå®ƒä¸åƒæˆ‘ä»¬çš„PLT[1]è¿™äº›å­˜å‚¨çš„æ˜¯GOTè¡¨é¡¹çš„åœ°å€ï¼Œå®ƒæ˜¯ä¸€äº›ä»£ç æŒ‡ä»¤ï¼Œæ¢å¥è¯è¯´ï¼ŒPLT[0]æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°çš„ä½œç”¨æ˜¯é€šè¿‡GOT[1]å’ŒGOT[2]æ¥æ­£ç¡®ç»‘å®šä¸€ä¸ªå‡½æ•°çš„æ­£å¼åœ°å€åˆ°GOTè¡¨ä¸­æ¥ã€‚
æœ¬æ¥æŒ‰ç…§æœ€å¼€å§‹çš„æ€è·¯PLT[1]ä¹Ÿæ˜¯è·³è½¬åˆ°GOT[1]çš„ï¼ŒGOT[2]åŒç†ï¼Œä½†æ˜¯è¿™ä¸¤ä¸ªæ•°æ®å¥½åƒè¢«PLT[0]åˆ©ç”¨äº†ï¼ŒåŒæ—¶GOT[0]å¥½åƒæ¶ˆå¤±äº†ï¼Œè¿™é‡ŒGOT[0]æš‚ä¸”ä¸è¯´å®ƒçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Œé’ˆå¯¹GOT[1]å’ŒGOT[2]è¢«PLT[0]åˆ©ç”¨ï¼Œæ‰€ä»¥æˆ‘ä»¬ç¨‹åºä¸­çœŸå®æƒ…å†µå…¶å®æ˜¯ä»PLT[1]åˆ°GOT[3],PLT[2]åˆ°GOT[4]ï¼Œæ‰€ä»¥æˆ‘ä»¬æ¨ç¿»äº†ä¹‹å‰çš„å›¾ï¼Œå»ºç«‹ä¸€å¼ æ–°çš„å¤„ç†è¡¨ï¼š
![[z-oblib/z2-attachments/Pasted image 20220907231548.png]]
è€Œplt[0]ä»£ç åšçš„äº‹æƒ…åˆ™æ˜¯ï¼šç”±äºGOT[2]ä¸­å­˜å‚¨çš„æ˜¯åŠ¨æ€é“¾æ¥å™¨çš„å…¥å£åœ°å€ï¼Œæ‰€ä»¥é€šè¿‡GOT[1]ä¸­çš„æ•°æ®ä½œä¸ºGOT[2]å‚æ•°ï¼Œè·³è½¬åˆ°GOT[2]æ‰€å¯¹åº”çš„å‡½æ•°å…¥å£åœ°å€ï¼Œè¿™ä¸ªåŠ¨æ€é“¾æ¥å™¨ä¼šå°†ä¸€ä¸ªå‡½æ•°çš„çœŸæ­£åœ°å€ç»‘å®šåˆ°ç›¸åº”çš„GOT[x]ä¸­ã€‚
è¿™å°±æ˜¯PLTè¡¨å’ŒGOTè¡¨ï¼Œæ€»è€Œè¨€ä¹‹ï¼Œæˆ‘ä»¬è°ƒç”¨ä¸€ä¸ªå‡½æ•°çš„æ—¶å€™æœ‰ä¸¤ç§æ–¹æ³•ï¼Œä¸€ä¸ªæ˜¯é€šè¿‡PLTè¡¨è°ƒç”¨ï¼Œä¸€ä¸ªåˆ™æ˜¯é€šè¿‡GOTè¡¨è°ƒç”¨ï¼Œå› ä¸ºPLTè¡¨æœ€ç»ˆä¹Ÿæ˜¯è·³è½¬GOTè¡¨ï¼ŒGOTè¡¨ä¸­åˆ™æ˜¯ä¸€ä¸ªå‡½æ•°çœŸæ­£çš„åœ°å€ï¼Œè¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨ä¸€ä¸ªå‡½æ•°æ²¡æœ‰è¿è¡Œä¸€æ¬¡ä¹‹å‰ï¼ŒGOTè¡¨ä¸­çš„æ•°æ®ä¸º@pltå‡½æ•°ä¸­ä¸‹ä¸€æ¡æŒ‡ä»¤çš„åœ°å€ï¼Œå›¾55æœ‰è¯´ã€‚
ä¸ºä»€ä¹ˆä¸­é—´è¦è¿›è¡Œpushå‹æ ˆæ“ä½œï¼Ÿ ä¸­é—´è¿›è¡Œçš„å‹æ ˆæ˜¯ä¸ºäº†ç¡®å®šPLTå¯¹åº”çš„GOTè¡¨é¡¹ï¼Œå³æ˜¯PLT[1]âˆ’&amp;gt;GOT[3]ï¼Œ0x3å°±æ˜¯GOTçš„ä¸‹æ ‡3ï¼Œä¹Ÿå°±æ˜¯è¯´å‹æ ˆåæˆ‘ä»¬è·³è½¬åˆ°PLT[0],æ¥ç€PLT[0]ä¸­çš„æŒ‡ä»¤ä¼šé€šè¿‡è¿™æ¬¡å‹æ ˆçš„åºå·æ¥ç¡®å®šæ“ä½œçš„GOTè¡¨é¡¹ä¸ºå¤šå°‘ã€‚</description></item><item><title>PUF</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_1-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A1%AC%E4%BB%B6/mcu/PUF/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_1-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A1%AC%E4%BB%B6/mcu/PUF/</guid><description>PUF ç‰¹ç‚¹ å”¯ä¸€æ€§ï¼šæ¯ä¸€ä¸ªèŠ¯ç‰‡éƒ½æ˜¯éšæœºåˆ†å¸ƒçš„ã€å”¯ä¸€çš„ã€‚ é˜²å…‹éš†æ€§ï¼šèŠ¯ç‰‡æœ¬èº«å°±æ˜¯åœ¨èŠ¯ç‰‡åˆ¶é€ è¿‡ç¨‹ä¸­ç”±äºä¸ç¡®å®šå› ç´ æå–å‡ºæ¥çš„ï¼Œæ— æ³•é‡æ–°å¤åˆ¶ç›¸åŒçš„PUFå€¼ã€‚è¯¯å·®æœ¬å°±æ˜¯ä¸å¯æ§å› ç´ ï¼Œå› æ­¤ä¸èƒ½é€†å‘å»ç”ŸæˆæŒ‡å®šçš„â€œè¯¯å·®â€ã€‚ ä¸å¯é¢„æµ‹æ€§ï¼šç”±äºèŠ¯ç‰‡åœ¨åˆ¶é€ å‡ºæ¥ä¹‹å‰ï¼Œæ²¡æœ‰åŠæ³•æ¥é¢„æµ‹ã€‚ é˜²ç¯¡æ”¹æ€§ï¼šèŠ¯ç‰‡æœ¬èº«PUFå€¼æ— æ³•å®šä½ä¿®æ”¹ã€‚ æ— éœ€å­˜å‚¨ï¼šæ¯æ¬¡èŠ¯ç‰‡å¯åŠ¨åªéœ€è¦åœ¨ç”µè·¯ç»“æ„ä¸­æå–ï¼Œæ— éœ€å­˜å‚¨å™¨ä»¶æ¥å­˜å‚¨ã€‚ å®ç°åˆ†ç±» ![[z-oblib/z2-attachments/Pasted image 20220904144719.png]]
SRAM PUF SRAM PUFåˆ©ç”¨[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_1-è®¡ç®—æœºç¡¬ä»¶/0-åŸºç¡€å…ƒå™¨ä»¶/SRAM|SRAM]] Cellï¼Œé¦–å°¾ç›¸æ¥çš„åç›¸å™¨ï¼Œåœ¨åˆ¶é€ è¿‡ç¨‹ä¸­ï¼Œè™½ç„¶ç”µè·¯æ¶æ„å®Œå…¨ä¸€æ ·ï¼Œä½†æ˜¯ç”µè·¯é©±åŠ¨èƒ½åŠ›æœ‰å¼ºå¼±ä¹‹åˆ†ï¼Œå¯¼è‡´SRAMåœ¨ä¸Šç”µæ—¶çš„Cellä¸Š0,1çš„åˆ†å¸ƒæ˜¯éšæœºåˆ†å¸ƒçš„ï¼Œå› æ­¤ï¼Œåˆ©ç”¨è¿™ä¸ªç‰¹å¾å¯ä»¥æå–å‡ºPUF ä»²è£PUF ä»²è£PUFï¼ŒåŒä¸€ä¸ªä¿¡å·ä»èµ·ç‚¹åˆ°ç»ˆç‚¹æ‰€ç”¨çš„æ—¶é—´ï¼ˆå»¶è¿Ÿï¼‰ï¼Œåœ¨åˆ¶é€ è¿‡ç¨‹ä¸­ä¼šå­˜åœ¨è¯¯å·®ã€‚ RO PUFï¼ˆç¯å½¢æŒ¯è¡å™¨ï¼‰ ç¯å½¢æŒ¯è¡å™¨PUFï¼Œåˆ©ç”¨ç¯å½¢æŒ¯è¡å™¨ç”µè·¯ï¼Œåœ¨ä¸åŒèŠ¯ç‰‡åˆ¶é€ å‡ºæ¥ä¹‹åï¼Œé¢‘ç‡äº§ç”Ÿä¹Ÿä¼šå­˜åœ¨è¯¯å·® VIA PUF å®é™…è®¾è®¡ä¸­ï¼ŒVIAå­˜åœ¨è®¾è®¡è§„åˆ™ï¼Œåˆ©ç”¨è®¾è®¡è§„åˆ™ï¼Œè®¾è®¡ä»å°åˆ°å¤§çš„å­”æ´ï¼Œæ ¹æ®å·¥è‰ºçš„ç‰¹æ€§ï¼Œæ¥æå–å‡ºVIA PUF SRAMå®ç° å·¥ä½œåŸç† [[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_1-è®¡ç®—æœºç¡¬ä»¶/0-åŸºç¡€å…ƒå™¨ä»¶/é”å­˜å™¨|é”å­˜å™¨]]åœ¨åˆå§‹æ— è¾“å…¥æƒ…å†µä¸‹ï¼Œè¾“å‡ºä¼šå› ç”Ÿæˆå·¥ä¸šçš„ä¸å¯æ§è¯¯å·®äº§ç”Ÿä¸åŒçš„åˆå§‹è¾“å‡ºå€¼ã€‚
åˆ©ç”¨åŠå¯¼ä½“ç‰©ç†ç”Ÿäº§è¿‡ç¨‹ä¸­è‡ªç„¶å‘ç”Ÿçš„æ·±äºšå¾®ç±³å˜åŒ–ï¼Œå¹¶èµ‹äºˆæ¯ä¸ª[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_1-è®¡ç®—æœºç¡¬ä»¶/0-åŸºç¡€å…ƒå™¨ä»¶/æ™¶ä½“ç®¡|æ™¶ä½“ç®¡]]è½»å¾®çš„éšæœºçš„ç”µç‰¹æ€§ã€‚è¿™äº›ç‹¬ç‰¹çš„ç‰¹æ€§æ„æˆäº†èŠ¯ç‰‡ç‹¬ç‰¹èº«ä»½çš„åŸºç¡€ã€‚
åŸºäº SRAM çš„ PUF è¯„ä¼°çš„æ˜¯æ ‡å‡†çš„ 6Tï¼ˆ6 ä¸ªæ™¶ä½“ç®¡ï¼‰ SRAM é˜µåˆ—çš„ä¸Šç”µæ¨¡å¼ã€‚é˜µåˆ—ä¸­çš„æ¯ä¸ª SRAM å•å…ƒç”±ä¸¤ä¸ªç†è®ºå’Œè®¾è®¡ä¸ŠåŒ¹é…çš„ CMOS åå‘å™¨ç»„æˆï¼Œå®ƒä»¬æ˜¯äº¤å‰è€¦åˆçš„ï¼ˆå‚è§å›¾ 2ï¼‰ã€‚ä½†æ˜¯åœ¨èŠ¯ç‰‡åˆ¶é€ æ—¶ï¼Œç”±äºåœ¨ç‰©ç†ä¸Šæ— æ³•æ§åˆ¶çš„[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_1-è®¡ç®—æœºç¡¬ä»¶/0-åŸºç¡€å…ƒå™¨ä»¶/CMOS|CMOS]] å·¥è‰ºå¼•å…¥æ·±äºšå¾®ç±³å˜åŒ–ï¼Œä½¿æ¯ä¸ªæ™¶ä½“ç®¡å…·æœ‰ç•¥å¸¦éšæœºçš„ç”µæ°”ç‰¹æ€§ã€‚ SRAM å•å…ƒçš„ä¸Šç”µçŠ¶æ€ä¸»è¦å–å†³äº PMOS æ™¶ä½“ç®¡ P1 å’Œ P2 çš„é˜ˆå€¼ç”µå‹ ï¼ˆVthï¼‰ ä¹‹é—´çš„å·®å¼‚ã€‚ ä¾‹å¦‚ï¼Œè€ƒè™‘éšæœºå˜åŒ–å¯¼è‡´|Vth,P1|å°äº|Vth,P2|ã€‚ å› æ­¤ï¼Œåœ¨é€šç”µï¼ˆVdd ä¸Šå‡ï¼‰é˜¶æ®µ P1 å°†åœ¨ P2 ä¹‹å‰å¼€å§‹å¯¼é€šï¼Œå¯¼è‡´ A åœ¨é€»è¾‘ä¸Šå¤„äºé«˜ä½ï¼Œå¹¶é˜»æ­¢ P2 æ‰“å¼€ã€‚ å› æ­¤ï¼Œå•å…ƒçš„ä¸Šç”µçŠ¶æ€ä¸º A=1ã€‚Vth,P1å’ŒVth,P2ä¹‹é—´çš„ä¸åŒ¹é…è¶Šå¤§ï¼Œå•å…ƒçš„ä¸Šç”µä¼˜å…ˆæƒè¶Šå¼ºï¼Œå› æ­¤é€šç”µåæ˜¯å¦ä¸€ä¸ªçŠ¶æ€çš„æ¦‚ç‡è¶Šå°ã€‚</description></item><item><title>Pythonä¸­16è¿›åˆ¶ä¸å­—ç¬¦ä¸²è½¬æ¢</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Python/Python%E4%B8%AD16%E8%BF%9B%E5%88%B6%E4%B8%8E%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%BD%AC%E6%8D%A2/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Python/Python%E4%B8%AD16%E8%BF%9B%E5%88%B6%E4%B8%8E%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%BD%AC%E6%8D%A2/</guid><description>Pythonä¸­16è¿›åˆ¶ä¸å­—ç¬¦ä¸²è½¬æ¢ python3 ä¸­çš„å­—ç¬¦ä¸²å’Œç¼–ç  åœ¨æœ€æ–°çš„ Python 3 ç‰ˆæœ¬ä¸­ï¼Œå­—ç¬¦ä¸²æ˜¯ä»¥ Unicode ç¼–ç çš„ Python çš„å­—ç¬¦ä¸²ç±»å‹æ˜¯str åœ¨å†…å­˜ä¸­ä»¥Unicodeè¡¨ç¤ºï¼Œä¸€ä¸ªå­—ç¬¦å¯¹åº”è‹¥å¹²ä¸ªå­—èŠ‚ å¦‚æœè¦åœ¨ç½‘ç»œä¸Šä¼ è¾“ï¼Œæˆ–è€…ä¿å­˜åˆ°ç£ç›˜ä¸Šï¼Œå°±éœ€è¦æŠŠstrå˜ä¸ºä»¥å­—èŠ‚ä¸ºå•ä½çš„ bytes 1 æ³¨æ„åŒºåˆ†`&amp;#39;ABC&amp;#39;`å’Œ`b&amp;#39;ABC&amp;#39;`ï¼Œå‰è€…æ˜¯`str`ï¼Œåè€…è™½ç„¶å†…å®¹æ˜¾ç¤ºå¾—å’Œå‰è€…ä¸€æ ·ï¼Œä½†`bytes`çš„æ¯ä¸ªå­—ç¬¦éƒ½åªå ç”¨ä¸€ä¸ªå­—èŠ‚ã€‚ hex() hex() å‡½æ•°ç”¨äºå°†10è¿›åˆ¶æ•´æ•°è½¬æ¢æˆ16è¿›åˆ¶ï¼Œä»¥å­—ç¬¦ä¸²å½¢å¼è¡¨ç¤º 1 æ³¨æ„! hex() è¿”å›çš„ç»“æœä¸æ˜¯æ•´æ•°, è€Œæ˜¯ 16 è¿›åˆ¶çš„å­—ç¬¦ä¸²è¡¨ç¤ºå½¢å¼! 0x è¡¨ç¤ºçš„ 16 è¿›åˆ¶æ•° 1 2 3 4 5 a = 0xA b = 0x5 c = a * b print(a) print(c) è¾“å‡ºçš„ç»“æœ:
1 2 10 50 1 ä¸¤ä¸ª 16 è¿›åˆ¶æ•°ç›¸ä¹˜, ç»“æœæ˜¯ä»¥ 10 è¿›åˆ¶ä¿å­˜çš„!</description></item><item><title>Pythonç½‘ç»œçˆ¬è™«å…¥é—¨</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Python/Python%E7%BD%91%E7%BB%9C%E7%88%AC%E8%99%AB%E5%85%A5%E9%97%A8/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Python/Python%E7%BD%91%E7%BB%9C%E7%88%AC%E8%99%AB%E5%85%A5%E9%97%A8/</guid><description>Pythonç½‘ç»œçˆ¬è™«å…¥é—¨ çˆ¬è™«ç®€ä»‹ åˆæ³•æ€§ æŠ“å–æ•°æ®æ—¶ç°å®ç”Ÿæ´»ä¸­çœŸå®æ•°æ®åˆ™åˆæ³• æŠ“å–æ•°æ®ä¸ºåŸåˆ›æ•°æ®åˆ™å—ç‰ˆæƒä¿æŠ¤ èƒŒæ™¯è°ƒç ” æ£€æŸ¥ robots.txt æ£€æŸ¥ robots.txt å¯ä»¥æœ€å°åŒ–çˆ¬è™«è¢«å°ç¦çš„å¯èƒ½ å‘ç°å’Œç½‘ç»œç»“æ„ç›¸å…³çš„çº¿ç´¢ æŸ¥çœ‹æ–¹æ³• é€šè¿‡è®¿é—® http://example.webscraping.com/robots.txt, å¾—åˆ°å†…å®¹:
1 2 3 4 5 6 7 8 9 10 11 ## section 1 User-agent: BadCrawler // ç¦æ­¢ç”¨æˆ·ä»£ç†ä¸º BadCrawler çš„çˆ¬è™«çˆ¬å–ç½‘ç«™ Disallow: / ## section 2 User-agent: * Disallow: /trap // å°ç¦çˆ¬å–ä¸å…è®¸é“¾æ¥çš„çˆ¬è™« Crawl-delay: 5 // ä¸¤æ¬¡è¯·æ±‚åº”é—´éš” 5 ç§’ ## section 3 Sitemap: http://example.webscraping.com/sitemap.xml æ£€æŸ¥ç½‘ç«™åœ°å›¾ Sitemap æ–‡ä»¶å¸®åŠ©çˆ¬è™«å®šä½æœ€æ–°çš„æ–‡ä»¶, è€Œæ— éœ€çˆ¬å–æ¯ä¸€ä¸ªç½‘é¡µ ç½‘ç«™åœ°å›¾æä¾›äº†æ‰€ä»¥ç½‘é¡µçš„é“¾æ¥ è¯¥æ–‡ä»¶ç»å¸¸å­˜åœ¨ç¼ºå¤±, è¿‡æœŸæˆ–ä¸å®Œæ•´çš„é—®é¢˜ æŸ¥çœ‹æ–¹æ³• é€šè¿‡è®¿é—® robots.</description></item><item><title>ReentrantLock</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/ReentrantLock/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/ReentrantLock/</guid><description>ReentrantLock ç›¸å½“äºæ˜¯ä¸€ä¸ªjavaå±‚é¢å®ç°çš„[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/monitor|monitor]]ã€‚
ç‰¹ç‚¹ ç›¸å¯¹äº [[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/synchronized|synchronized]] å®ƒå…·å¤‡å¦‚ä¸‹ç‰¹ç‚¹ï¼š
å¯ä¸­æ–­ï¼ˆæ”¾å¼ƒäº‰æŠ¢é”ï¼‰ å¯ä»¥è®¾ç½®è¶…æ—¶æ—¶é—´ å¯ä»¥è®¾ç½®ä¸ºå…¬å¹³é” å…ˆåˆ°å…ˆå¾—ï¼Œè€Œä¸æ˜¯éšæœºäº‰æŠ¢ è§£å†³çº¿ç¨‹[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/é¥¥é¥¿|é¥¥é¥¿]]é—®é¢˜ æ”¯æŒå¤šä¸ªæ¡ä»¶å˜é‡ æ¡ä»¶å˜é‡ç›¸å½“äºsynchronizedä¸­çš„[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/wait&amp;amp;notify|waitSet]]ï¼Œä¸æ»¡è¶³æ¡ä»¶çš„å¯ä»¥åœ¨wait_setç­‰å¾… æ”¯æŒå¤šä¸ªæ¡ä»¶å˜é‡æ„å‘³ç€æœ‰å¤šä¸ªwaitSetï¼Œå¯ä»¥æ ¹æ®ä¸åŒæ¡ä»¶è¿›å…¥ä¸åŒsetç­‰å¾… ä¸ synchronized ä¸€æ ·ï¼Œéƒ½æ”¯æŒå¯é‡å…¥ stateæ ‡è¯†èµ„æºæ˜¯å¦ä¸ºé”å®šçŠ¶æ€ã€‚
è¯­æ³• 1 2 3 4 5 6 7 8 // è·å–é” reentrantLock.lock(); try { // ä¸´ç•ŒåŒº } finally { // é‡Šæ”¾é” reentrantLock.unlock(); } é˜¿é‡Œæ‰‹å†Œï¼šreentrantLock.lock()æ”¾åœ¨tryå¤–ã€‚
è¦ä¿è¯ï¼š
lock/unlockæˆå¯¹å‡ºç° unlockåœ¨finallyä¸­æ‰§è¡Œ ç‰¹æ€§ å¯é‡å…¥ synchronized(å¯¹è±¡)ä¸­å¯¹è±¡çš„ä½œç”¨å®é™…ä¸Šæ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œå…³è¿ï¼ˆæŒ‡å‘ï¼‰äº†åº•å±‚çš„monitorå¯¹è±¡ï¼Œè€ŒreentrantLockçš„å¯¹è±¡æœ¬èº«å°±æ˜¯ç±»ä¼¼ä¸€ä¸ªMonitorçš„å­˜åœ¨ã€‚
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 static ReentrantLock lock = new ReentrantLock(); public static void main(String[] args) { method1(); } public static void method1() { lock.</description></item><item><title>ReentrantReadWriteLock</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/ReentrantReadWriteLock/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/ReentrantReadWriteLock/</guid><description>ReentrantReadWriteLock å½“è¯»æ“ä½œè¿œè¿œé«˜äºå†™æ“ä½œæ—¶ï¼Œè¿™æ—¶å€™ä½¿ç”¨ è¯»å†™é” è®© è¯»-è¯» å¯ä»¥å¹¶å‘ï¼Œæé«˜æ€§èƒ½ã€‚ ç±»ä¼¼äºæ•°æ®åº“ä¸­çš„ select &amp;hellip;from &amp;hellip; lock in share mode æä¾›ä¸€ä¸ª æ•°æ®å®¹å™¨ç±» å†…éƒ¨åˆ†åˆ«ä½¿ç”¨è¯»é”ä¿æŠ¤æ•°æ®çš„ read() æ–¹æ³•ï¼Œå†™é”ä¿æŠ¤æ•°æ®çš„ write() æ–¹æ³•ï¼š
ä½¿ç”¨ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 class DataContainer { private Object data; private ReentrantReadWriteLock rw = new ReentrantReadWriteLock(); private ReentrantReadWriteLock.ReadLock r = rw.</description></item><item><title>ret</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux/ret/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux/ret/</guid><description>ret pop eip è¿˜åŸæ‰§è¡Œæµï¼ˆå°†æ­¤æ—¶Â espÂ æ‰€æŒ‡çš„ä¸Šå±‚å‡½æ•°è°ƒç”¨fooæ—¶çš„åœ°å€å¼¹å…¥Â eipÂ å¯„å­˜å™¨å†…ï¼‰ï¼›</description></item><item><title>RSé”å­˜å™¨</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_1-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A1%AC%E4%BB%B6/0-%E5%9F%BA%E7%A1%80%E5%85%83%E5%99%A8%E4%BB%B6/RS%E9%94%81%E5%AD%98%E5%99%A8/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_1-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A1%AC%E4%BB%B6/0-%E5%9F%BA%E7%A1%80%E5%85%83%E5%99%A8%E4%BB%B6/RS%E9%94%81%E5%AD%98%E5%99%A8/</guid><description>RSé”å­˜å™¨ RSé”å­˜å™¨æ˜¯ä¸€ä¸¤è¾“å…¥ã€ä¸¤è¾“å‡ºçš„ç”µè·¯ï¼Œå…¶ç”µè·¯å¦‚ä¸‹å›¾aï¼Œå…¶æœ‰ä¸¤ä¸ªäº’ç›¸äº¤å‰åé¦ˆç›¸è¿çš„ä¸¤ä¸ªä¸éé—¨æ„æˆï¼Œå…¶ä¸¤ä¸ªè¾“å‡ºä¸ºä¸¤ä¸ªç›¸åçš„è¾“å‡ºï¼ˆæˆ–ç§°ä¸ºäº’è¡¥è¾“å‡ºï¼‰ã€‚
![[z-oblib/z2-attachments/Pasted image 20220904151011.png]]</description></item><item><title>Runnable</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/Runnable/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/Runnable/</guid><description>Runnable ç”¨æ¥æ‰¿è½½ä¾›Threadå¯¹è±¡æ‰§è¡Œçš„ä»»åŠ¡ï¼Œå°†ä»»åŠ¡ä»Threadä¸­æŠ½å‡ºæ¥å¯ä»¥æ›´åŠ çµæ´»ã€‚
1 2 Runnable runnable = () -&amp;gt; log.debug(&amp;#34;runnable&amp;#34;); // lambda Thread t2 = new Thread(runnable); å› ä¸ºRunnableæ˜¯ä¸€ä¸ª@FunctionalInterfaceæ¥å£ï¼Œæ‰€ä»¥å¯ä»¥é€šè¿‡[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/1-é«˜çº§ç‰¹æ€§/lambda|lambda]]çš„å½¢å¼å®ç°ã€‚ é€šè¿‡æŠŠæ–¹æ³•åŒ…è£…æˆRunnableæ›´åŠ çµæ´»ï¼Œå¹¶ä¸”Runnableå¯¹[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/çº¿ç¨‹æ± |çº¿ç¨‹æ± ]]ç­‰é«˜çº§APIæ›´åŠ å‹å¥½ã€‚è¿™ç§æ€æƒ³ä¹Ÿå°±æ˜¯[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/1-é«˜çº§ç‰¹æ€§/ç»„åˆä¼˜äºç»§æ‰¿|ç»„åˆä¼˜äºç»§æ‰¿]]ã€‚</description></item><item><title>safepoint</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/1-%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7/safepoint/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/1-%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7/safepoint/</guid><description>safepoint ä»€ä¹ˆæ˜¯safepoint safepointå¯ä»¥ç”¨åœ¨ä¸åŒåœ°æ–¹ï¼Œæ¯”å¦‚GCã€Deoptimizationï¼Œåœ¨Hotspot VMä¸­ï¼ŒGC safepointæ¯”è¾ƒå¸¸è§ï¼Œéœ€è¦ä¸€ä¸ªæ•°æ®ç»“æ„è®°å½•æ¯ä¸ªçº¿ç¨‹çš„è°ƒç”¨æ ˆã€å¯„å­˜å™¨ç­‰ä¸€äº›é‡è¦çš„æ•°æ®åŒºåŸŸé‡Œä»€ä¹ˆåœ°æ–¹åŒ…å«äº†GCç®¡ç†çš„æŒ‡é’ˆã€‚
ä»çº¿ç¨‹è§’åº¦çœ‹ï¼Œsafepointå¯ä»¥ç†è§£æˆæ˜¯åœ¨ä»£ç æ‰§è¡Œè¿‡ç¨‹ä¸­çš„ä¸€äº›ç‰¹æ®Šä½ç½®ï¼Œå½“çº¿ç¨‹æ‰§è¡Œåˆ°è¿™äº›ä½ç½®çš„æ—¶å€™ï¼Œè¯´æ˜è™šæ‹Ÿæœºå½“å‰çš„çŠ¶æ€æ˜¯å®‰å…¨çš„ï¼Œå¦‚æœæœ‰éœ€è¦ï¼Œå¯ä»¥åœ¨è¿™ä¸ªä½ç½®æš‚åœï¼Œæ¯”å¦‚å‘ç”ŸGCæ—¶ï¼Œéœ€è¦æš‚åœæš‚åœæ‰€ä»¥æ´»åŠ¨çº¿ç¨‹ï¼Œä½†æ˜¯çº¿ç¨‹åœ¨è¿™ä¸ªæ—¶åˆ»ï¼Œè¿˜æ²¡æœ‰æ‰§è¡Œåˆ°ä¸€ä¸ªå®‰å…¨ç‚¹ï¼Œæ‰€ä»¥è¯¥çº¿ç¨‹åº”è¯¥ç»§ç»­æ‰§è¡Œï¼Œåˆ°è¾¾ä¸‹ä¸€ä¸ªå®‰å…¨ç‚¹çš„æ—¶å€™æš‚åœï¼Œç­‰å¾…GCç»“æŸã€‚
ä»€ä¹ˆåœ°æ–¹å¯ä»¥æ”¾safepoint ä¸‹é¢ä»¥Hotspotä¸ºä¾‹ï¼Œç®€å•çš„è¯´æ˜ä¸€ä¸‹ä»€ä¹ˆåœ°æ–¹ä¼šæ”¾ç½®safepoint
ç†è®ºä¸Šï¼Œåœ¨è§£é‡Šå™¨çš„æ¯æ¡å­—èŠ‚ç çš„è¾¹ç•Œéƒ½å¯ä»¥æ”¾ä¸€ä¸ªsafepointï¼Œä¸è¿‡æŒ‚åœ¨safepointçš„è°ƒè¯•ç¬¦å·ä¿¡æ¯è¦å ç”¨å†…å­˜ç©ºé—´ï¼Œå¦‚æœæ¯æ¡æœºå™¨ç åé¢éƒ½åŠ safepointçš„è¯ï¼Œéœ€è¦ä¿å­˜å¤§é‡çš„è¿è¡Œæ—¶æ•°æ®ï¼Œæ‰€ä»¥è¦å°½é‡å°‘æ”¾ç½®safepointï¼Œåœ¨safepointä¼šç”Ÿæˆpollingä»£ç è¯¢é—®VMæ˜¯å¦è¦â€œè¿›å…¥safepointâ€ï¼Œpollingæ“ä½œä¹Ÿæ˜¯æœ‰å¼€é”€çš„ï¼Œpollingæ“ä½œä¼šåœ¨åç»­è§£é‡Šã€‚
é€šè¿‡JITç¼–è¯‘çš„ä»£ç é‡Œï¼Œä¼šåœ¨æ‰€æœ‰æ–¹æ³•çš„è¿”å›ä¹‹å‰ï¼Œä»¥åŠæ‰€æœ‰écounted loopçš„å¾ªç¯ï¼ˆæ— ç•Œå¾ªç¯ï¼‰å›è·³ä¹‹å‰æ”¾ç½®ä¸€ä¸ªsafepointï¼Œä¸ºäº†é˜²æ­¢å‘ç”ŸGCéœ€è¦STWæ—¶ï¼Œè¯¥çº¿ç¨‹ä¸€ç›´ä¸èƒ½æš‚åœã€‚å¦å¤–ï¼ŒJITç¼–è¯‘å™¨åœ¨ç”Ÿæˆæœºå™¨ç çš„åŒæ—¶ä¼šä¸ºæ¯ä¸ªsafepointç”Ÿæˆä¸€äº›â€œè°ƒè¯•ç¬¦å·ä¿¡æ¯â€ï¼Œä¸ºGCç”Ÿæˆçš„ç¬¦å·ä¿¡æ¯æ˜¯OopMapï¼ŒæŒ‡å‡ºæ ˆä¸Šå’Œå¯„å­˜å™¨é‡Œå“ªé‡Œæœ‰GCç®¡ç†çš„æŒ‡é’ˆã€‚</description></item><item><title>Semaphore</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/Semaphore/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/Semaphore/</guid><description>Semaphore [ËˆsÉ›mÉ™ËŒfÉ”r] ä¿¡å·é‡ï¼Œç”¨æ¥é™åˆ¶èƒ½åŒæ—¶è®¿é—®å…±äº«èµ„æºçš„[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_3-è½¯ä»¶ç³»ç»Ÿ/2_0_2_1_2_3_1-æ“ä½œç³»ç»Ÿ/çº¿ç¨‹|çº¿ç¨‹]]ä¸Šé™ã€‚
åº”ç”¨ ä½¿ç”¨ Semaphore é™æµï¼Œåœ¨è®¿é—®é«˜å³°æœŸæ—¶ï¼Œè®©è¯·æ±‚çº¿ç¨‹é˜»å¡ï¼Œé«˜å³°æœŸè¿‡å»å†é‡Šæ”¾è®¸å¯ï¼Œå½“ç„¶å®ƒåªé€‚åˆé™åˆ¶å•æœºçº¿ç¨‹æ•°é‡ï¼Œå¹¶ä¸”ä»…æ˜¯é™åˆ¶çº¿ç¨‹æ•°ï¼Œè€Œä¸æ˜¯é™åˆ¶èµ„æºæ•°ï¼ˆä¾‹å¦‚è¿æ¥æ•°ï¼Œè¯·å¯¹æ¯” Tomcat LimitLatch çš„å®ç°ï¼‰ ç”¨ Semaphore å®ç°ç®€å•è¿æ¥æ± ï¼Œå¯¹æ¯”ã€[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_1-è½¯ä»¶æ–¹æ³•å­¦/è®¾è®¡æ¨¡å¼/äº«å…ƒæ¨¡å¼|äº«å…ƒæ¨¡å¼]]ã€ä¸‹çš„å®ç°ï¼ˆç”¨wait notifyï¼‰ï¼Œæ€§èƒ½å’Œå¯è¯»æ€§æ˜¾ç„¶æ›´å¥½ï¼Œæ³¨æ„ä¸‹é¢çš„å®ç°ä¸­çº¿ç¨‹æ•°å’Œæ•°æ®åº“è¿æ¥æ•°æ˜¯ç›¸ç­‰çš„ ç®€åŒ–è¿æ¥æ±  ä¸€ç§äº«å…ƒæ¨¡å¼åº”ç”¨ã€‚
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 class Pool { // 1.</description></item><item><title>sleep</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/sleep/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/sleep/</guid><description>sleep sleepæ–¹æ³•æ˜¯Threadç±»çš„ä¸€ä¸ªé™æ€æ–¹æ³•ã€‚å®ƒçš„ä½œç”¨æ˜¯è®©å½“å‰çº¿ç¨‹ç¡çœ ä¸€æ®µæ—¶é—´ï¼Œç¡çœ æ˜¯æŒ‡è®©çº¿ç¨‹æ”¾å¼ƒå½“å‰CPUçš„æ—¶é—´ç‰‡ï¼Œä½†æ˜¯å¹¶ä¸ä¼šé‡Šæ”¾é”ï¼ŒæŠ±ç€é”ç¡è§‰ã€‚å®ƒæœ‰è¿™æ ·ä¸¤ä¸ªæ–¹æ³•ï¼š
Thread.sleep(long) Thread.sleep(long, int) åŒæ ·ï¼ŒæŸ¥çœ‹æºç (JDK 1.8)å‘ç°ï¼Œç¬¬äºŒä¸ªæ–¹æ³•è²Œä¼¼åªå¯¹ç¬¬äºŒä¸ªå‚æ•°åšäº†ç®€å•çš„å¤„ç†ï¼Œæ²¡æœ‰ç²¾ç¡®åˆ°çº³ç§’ã€‚å®é™…ä¸Šè¿˜æ˜¯è°ƒç”¨çš„ç¬¬ä¸€ä¸ªæ–¹æ³•ã€‚
ä½œç”¨ è°ƒç”¨ sleep ä¼šè®©å½“å‰çº¿ç¨‹ä» Running è¿›å…¥ Timed Waiting çŠ¶æ€ï¼ˆé˜»å¡ï¼‰ã€‚ å…¶å®ƒçº¿ç¨‹å¯ä»¥ä½¿ç”¨ interrupt æ–¹æ³•æ‰“æ–­æ­£åœ¨ç¡çœ çš„çº¿ç¨‹ï¼Œè¿™æ—¶ sleep æ–¹æ³•ä¼šæŠ›å‡ºInterruptedExceptionã€‚ ç¡çœ ç»“æŸåçš„çº¿ç¨‹æœªå¿…ä¼šç«‹åˆ»å¾—åˆ°æ‰§è¡Œã€‚ å»ºè®®ç”¨ TimeUnit çš„ sleep ä»£æ›¿ Thread çš„ sleep æ¥è·å¾—æ›´å¥½çš„å¯è¯»æ€§ã€‚ æ‰“æ–­ç¡çœ ï¼ˆéå”¤é†’ï¼‰ sleep()æ˜¯å¯ä»¥æ‰“æ–­çš„ï¼Œè€Œæ‰“æ–­çš„æ–¹å¼æ˜¯é€šè¿‡InterruptedExceptionå¼‚å¸¸ï¼Œæ‰€ä»¥sleep()éœ€è¦æ‰èµ·æ¥ã€‚
æ³¨æ„æ‰“æ–­ç¡çœ ä¸æ˜¯å”¤é†’ï¼Œä¸ä¼šç»§ç»­åšç¡é†’åè¦åšçš„å·¥ä½œï¼Œè€Œæ˜¯ç›´æ¥é€šè¿‡å¼‚å¸¸å¤„ç†è·³å‡ºäº†ã€‚æ‰€ä»¥sleep()åçš„å†…å®¹ï¼ˆtryèŒƒå›´å†…ï¼‰ä¸ä¼šè¢«æ‰§è¡Œã€‚
ç›¸å½“äºæ‹”æ‰ä¸€ä¸ªæ˜è¿·çš„äººçš„æ°§æ°”ç®¡ï¼Œè€Œä¸æ˜¯å«é†’ä»–ã€‚
1 2 3 4 5 6 7 8 9 10 11 12 13 Thread t4 = new Thread(){ @Override public void run() { log.debug(&amp;#34;enter sleep...&amp;#34;); try { Thread.sleep(2000); log.</description></item><item><title>sleepå’Œwaitçš„åŒºåˆ«</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/sleep%E5%92%8Cwait%E7%9A%84%E5%8C%BA%E5%88%AB/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/sleep%E5%92%8Cwait%E7%9A%84%E5%8C%BA%E5%88%AB/</guid><description>sleepå’Œwaitçš„åŒºåˆ« [[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/sleep|sleep]]æ–¹æ³•æ˜¯ä¸ä¼šé‡Šæ”¾å½“å‰çš„é”çš„ï¼Œè€Œwaitæ–¹æ³•ä¼šã€‚ è¿™ä¹Ÿæ˜¯æœ€å¸¸è§çš„ä¸€ä¸ªå¤šçº¿ç¨‹é¢è¯•é¢˜ã€‚ waitå¯ä»¥æŒ‡å®šæ—¶é—´ï¼Œä¹Ÿå¯ä»¥ä¸æŒ‡å®šï¼›è€Œsleepå¿…é¡»æŒ‡å®šæ—¶é—´ã€‚ waité‡Šæ”¾cpuèµ„æºï¼ŒåŒæ—¶é‡Šæ”¾é”ï¼›sleepé‡Šæ”¾cpuèµ„æºï¼Œä½†æ˜¯ä¸é‡Šæ”¾é”ï¼Œæ‰€ä»¥æ˜“æ­»é”ã€‚ waitå¿…é¡»æ”¾åœ¨åŒæ­¥å—æˆ–åŒæ­¥æ–¹æ³•ä¸­ï¼Œè€Œsleepå¯ä»¥åœ¨ä»»æ„ä½ç½®ã€‚</description></item><item><title>SPI</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/1-%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7/SPI/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/1-%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7/SPI/</guid><description>SPI SPI å…¨ç§°ä¸ºService Provider Interfaceï¼Œæ˜¯ä¸€ç§æœåŠ¡å‘ç°æœºåˆ¶ã€‚SPI çš„æœ¬è´¨æ˜¯å°†æ¥å£å®ç°ç±»çš„å…¨é™å®šåé…ç½®åœ¨æ–‡ä»¶ä¸­ï¼Œå¹¶ç”±æœåŠ¡åŠ è½½å™¨è¯»å–é…ç½®æ–‡ä»¶ï¼ŒåŠ è½½å®ç°ç±»ã€‚
ç®€å•ç‚¹è¯´SPIå°±æ˜¯ JDK å†…ç½®çš„ä¸€ä¸ªæœåŠ¡å‘ç°æœºåˆ¶ï¼Œå®ƒä½¿å¾—æ¥å£å’Œå…·ä½“å®ç°å®Œå…¨è§£è€¦ã€‚æˆ‘ä»¬åªå£°æ˜æ¥å£ï¼Œå…·ä½“çš„å®ç°ç±»åœ¨é…ç½®ä¸­é€‰æ‹©ã€‚
å…·ä½“çš„å°±æ˜¯ä½ å®šä¹‰äº†ä¸€ä¸ªæ¥å£ï¼Œç„¶ååœ¨META-INF/servicesç›®å½•ä¸‹æ”¾ç½®ä¸€ä¸ªä¸æ¥å£åŒåçš„æ–‡æœ¬æ–‡ä»¶ï¼Œæ–‡ä»¶çš„å†…å®¹ä¸ºæ¥å£çš„å®ç°ç±»ï¼Œå¤šä¸ªå®ç°ç±»ç”¨æ¢è¡Œç¬¦åˆ†éš”ã€‚
è¿™æ ·å°±é€šè¿‡é…ç½®æ¥å†³å®šå…·ä½“ç”¨å“ªä¸ªå®ç°ï¼</description></item><item><title>spring</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_2_1_0-web%E5%90%8E%E7%AB%AF/SSM/spring/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_2_1_0-web%E5%90%8E%E7%AB%AF/SSM/spring/</guid><description>spring ä¾èµ–æ³¨å…¥ xmlé…ç½®ä¸­å¸¸è§å½¢å¼ &amp;lt;xxx name=&amp;quot;abc&amp;quot;, ref=&amp;quot;abcBean&amp;quot;&amp;gt;ï¼š
setteræ³¨å…¥æ—¶æ„å‘³ç€ï¼šå°†å‰è¿°åˆ›å»ºçš„abcBeanèµ‹å€¼ç»™æˆå‘˜abcã€‚ æ„é€ å™¨æ³¨å…¥æ—¶æ„å‘³ç€ï¼šå°†å‰è¿°åˆ›å»ºçš„abcBeanä¼ é€’ç»™å½¢å‚abcã€‚ refå¡«çš„æ˜¯å‰è¿°å®šä¹‰çš„beançš„idå€¼ã€‚
æ„é€ å™¨ä¼ é€’ä¼šå—åˆ°æ„é€ å‡½æ•°å½¢å‚çš„é™åˆ¶ï¼Œé€ æˆé…ç½®æ–‡ä»¶ä¸ä»£ç çš„è€¦åˆï¼Œè™½ç„¶æä¾›äº†éƒ¨åˆ†å…¼å®¹æ€§çš„è§£å†³æ–¹æ¡ˆï¼šæŒ‡å®šå‚æ•°ç±»å‹ã€æŒ‡å®šå‚æ•°é¡ºåºï¼Œä½†è¿˜æ˜¯ä¸å¥½ç”¨ï¼Œè‡ªå·±å¼€å‘æ¨¡å—æ¨èç”¨setterã€‚</description></item><item><title>springæŠ¥é”™åˆ†ææŠ€å·§</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_2_1_0-web%E5%90%8E%E7%AB%AF/Spring/spring%E6%8A%A5%E9%94%99%E5%88%86%E6%9E%90%E6%8A%80%E5%B7%A7/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_2_1_0-web%E5%90%8E%E7%AB%AF/Spring/spring%E6%8A%A5%E9%94%99%E5%88%86%E6%9E%90%E6%8A%80%E5%B7%A7/</guid><description>springæŠ¥é”™åˆ†ææŠ€å·§ é”™è¯¯ä¿¡æ¯ä»ä¸‹å¾€ä¸Šä¾æ¬¡æŸ¥çœ‹ï¼Œå› ä¸ºä¸Šé¢çš„é”™è¯¯å¤§éƒ½æ˜¯å¯¹ä¸‹é¢é”™è¯¯çš„ä¸€ä¸ªåŒ…è£…ï¼Œæœ€æ ¸å¿ƒé”™è¯¯æ˜¯åœ¨æœ€ä¸‹é¢ã€‚ æœ‰æ—¶æœ€ä¸‹ä¸€å±‚æ˜¯springå†…éƒ¨çš„å¼‚å¸¸ï¼Œå¯ä»¥å¾€ä¸Šçœ‹ä¸€çº§ã€‚ æœ€ä¸‹é¢æ˜¯æ ¸å¿ƒåŸå› ï¼Œæœ€ä¸Šé¢æ˜¯æ•´æ¡é”™è¯¯é“¾çš„ä¸²æ˜¾ç¤ºã€‚</description></item><item><title>SRAM</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_1-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A1%AC%E4%BB%B6/0-%E5%9F%BA%E7%A1%80%E5%85%83%E5%99%A8%E4%BB%B6/SRAM/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_1-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A1%AC%E4%BB%B6/0-%E5%9F%BA%E7%A1%80%E5%85%83%E5%99%A8%E4%BB%B6/SRAM/</guid><description>SRAM é™æ€éšæœºå­˜å–å­˜å‚¨å™¨ï¼ˆStatic Random-Access Memoryï¼ŒSRAMï¼‰æ˜¯éšæœºå­˜å–å­˜å‚¨å™¨çš„ä¸€ç§ã€‚æ‰€è°“çš„â€œé™æ€â€ï¼Œæ˜¯æŒ‡è¿™ç§å­˜å‚¨å™¨åªè¦ä¿æŒé€šç”µï¼Œé‡Œé¢å‚¨å­˜çš„æ•°æ®å°±å¯ä»¥æ’å¸¸ä¿æŒã€‚ç›¸å¯¹ä¹‹ä¸‹ï¼ŒåŠ¨æ€éšæœºå­˜å–å­˜å‚¨å™¨ï¼ˆDRAMï¼‰é‡Œé¢æ‰€å‚¨å­˜çš„æ•°æ®å°±éœ€è¦å‘¨æœŸæ€§åœ°æ›´æ–°ã€‚ç„¶è€Œï¼Œå½“ç”µåŠ›ä¾›åº”åœæ­¢æ—¶ï¼ŒSRAMå‚¨å­˜çš„æ•°æ®è¿˜æ˜¯ä¼šæ¶ˆå¤±ï¼ˆè¢«ç§°ä¸ºvolatile memoryï¼‰ï¼Œè¿™ä¸åœ¨æ–­ç”µåè¿˜èƒ½å‚¨å­˜èµ„æ–™çš„ROMæˆ–é—ªå­˜æ˜¯ä¸åŒçš„ã€‚
å­˜å‚¨ç»“æ„ ![[z-oblib/z2-attachments/Pasted image 20220904150755.png]]
6T:æŒ‡çš„æ˜¯ç”±å…­ä¸ªæ™¶ä½“ç®¡ç»„æˆï¼Œå¦‚å›¾ä¸­çš„M1ã€M2ã€ M3ã€M4ã€M5ã€M6. SRAMä¸­çš„æ¯ä¸€bitå­˜å‚¨åœ¨ç”±4ä¸ªåœºæ•ˆåº”ç®¡(M1, M2, M3, M4)æ„æˆä¸¤ä¸ªäº¤å‰è€¦åˆçš„åç›¸å™¨ä¸­ã€‚å¦å¤–ä¸¤ä¸ªåœºæ•ˆåº”ç®¡(M5, M6)æ˜¯å­˜å‚¨åŸºæœ¬å•å…ƒåˆ°ç”¨äºè¯»å†™çš„ä½çº¿(BitLine)çš„æ§åˆ¶å¼€å…³ã€‚
6Tç”µè·¯ç­‰ä»·äºSRé”å­˜å™¨ï¼š
![[z-oblib/z2-attachments/Pasted image 20220904150813.png]]</description></item><item><title>StampedLock</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/StampedLock/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/StampedLock/</guid><description>StampedLock è¯¥ç±»è‡ª JDK 8 åŠ å…¥ï¼Œæ˜¯ä¸ºäº†è¿›ä¸€æ­¥ä¼˜åŒ–è¯»æ€§èƒ½ï¼Œå®ƒçš„ç‰¹ç‚¹æ˜¯åœ¨ä½¿ç”¨è¯»é”ã€å†™é”æ—¶éƒ½å¿…é¡»é…åˆã€æˆ³ã€‘ä½¿ç”¨ã€‚
ä¸€ä¸ªç‰¹æ®Šçš„è¯»å†™é”ã€‚
ä½¿ç”¨ è¯»é” 1 2 long stamp = lock.readLock(); lock.unlockRead(stamp); å†™é” 1 2 long stamp = lock.writeLock(); lock.unlockWrite(stamp); ä¹è§‚è¯» StampedLock æ”¯æŒ tryOptimisticRead() æ–¹æ³•ï¼ˆä¹è§‚è¯»ï¼‰ï¼Œè¯»å–å®Œæ¯•åéœ€è¦åšä¸€æ¬¡ æˆ³æ ¡éªŒ å¦‚æœæ ¡éªŒé€šè¿‡ï¼Œè¡¨ç¤ºè¿™æœŸé—´ç¡®å®æ²¡æœ‰å†™æ“ä½œï¼Œæ•°æ®å¯ä»¥å®‰å…¨ä½¿ç”¨ï¼Œå¦‚æœæ ¡éªŒæ²¡é€šè¿‡ï¼Œéœ€è¦é‡æ–°è·å–è¯»é”ï¼Œä¿è¯æ•°æ®å®‰å…¨ã€‚
1 2 3 4 5 long stamp = lock.tryOptimisticRead(); // éªŒæˆ³ if(!lock.validate(stamp)){ // é”å‡çº§ } ç”¨ä¾‹ æä¾›ä¸€ä¸ª æ•°æ®å®¹å™¨ç±» å†…éƒ¨åˆ†åˆ«ä½¿ç”¨è¯»é”ä¿æŠ¤æ•°æ®çš„ read() æ–¹æ³•ï¼Œå†™é”ä¿æŠ¤æ•°æ®çš„ write() æ–¹æ³•ï¼š
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 class DataContainerStamped { private int data; private final StampedLock lock = new StampedLock(); public DataContainerStamped(int data) { this.</description></item><item><title>static</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/0-%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/static/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/0-%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/static/</guid><description>static çˆ¶ç±»çš„privateæˆå‘˜æ–¹æ³•æ˜¯ä¸èƒ½è¢«å­ç±»æ–¹æ³•è¦†ç›–çš„ï¼Œå› æ­¤privateç±»å‹çš„æ–¹æ³•é»˜è®¤æ˜¯finalç±»å‹çš„ã€‚</description></item><item><title>stream</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/1-%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7/stream/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/1-%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7/stream/</guid><description>stream OJä¸­çš„åº”ç”¨ å°†å†…å®¹è¯»å–æˆstringï¼Œå†æŒ‰ç…§ç©ºæ ¼åˆ†å‰²å‡ºå­—ç¬¦ä¸²æ•°ç»„ï¼Œå†é€šè¿‡streamå°†å­—ç¬¦ä¸²æ•°ç»„è½¬æˆintæ•°ç»„ã€‚
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 public class P5788 { public static void main(String[] args) throws IOException { BufferedReader buf = new BufferedReader(new InputStreamReader(System.in)); int n = Integer.parseInt(buf.readLine()); int[] array; String str = buf.readLine(); array = Arrays.stream(str.split(&amp;#34; &amp;#34;)).mapToInt(Integer::parseInt).toArray(); int[]res = new int[n]; Stack&amp;lt;Integer&amp;gt; stack = new Stack&amp;lt;&amp;gt;(); for (int i=0; i&amp;lt;array.</description></item><item><title>synchronized</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/synchronized/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/synchronized/</guid><description>synchronized ç®€ä»‹ ä¿—ç§°å¯¹è±¡é”ï¼Œé‡‡ç”¨äº’æ–¥çš„æ–¹å¼è®©åŒä¸€æ—¶åˆ»åªæœ‰ä¸€ä¸ª[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_3-è½¯ä»¶ç³»ç»Ÿ/2_0_2_1_2_3_1-æ“ä½œç³»ç»Ÿ/çº¿ç¨‹|çº¿ç¨‹]]èƒ½æŒæœ‰å¯¹è±¡é”ã€‚å…¶å®ƒçº¿ç¨‹å†æƒ³è·å–è¿™ä¸ªå¯¹è±¡é”æ—¶å°±ä¼šé˜»å¡ä½ã€‚è¿™æ ·å°±èƒ½ä¿è¯æ‹¥æœ‰é”çš„çº¿ç¨‹å¯ä»¥å®‰å…¨çš„æ‰§è¡Œ[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_3-è½¯ä»¶ç³»ç»Ÿ/2_0_2_1_2_3_1-æ“ä½œç³»ç»Ÿ/ä¸´ç•ŒåŒº|ä¸´ç•ŒåŒº]]å†…çš„ä»£ç ï¼Œä¸ç”¨æ‹…å¿ƒçº¿ç¨‹[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/ä¸Šä¸‹æ–‡åˆ‡æ¢|ä¸Šä¸‹æ–‡åˆ‡æ¢]]ã€‚
ç‰¹ç‚¹ synchronizedä¸å¯ä¸­æ–­ï¼ˆä¸å¯æ”¾å¼ƒäº‰æŠ¢é”ï¼‰ï¼š ä¸å¯ä¸­æ–­çš„æ„æ€æ˜¯ç­‰å¾…è·å–é”çš„æ—¶å€™ä¸å¯ä¸­æ–­ï¼Œæ‹¿åˆ°é”ä¹‹åå¯ä¸­æ–­ï¼Œæ²¡è·å–åˆ°é”çš„æƒ…å†µä¸‹ï¼Œä¸­æ–­æ“ä½œä¸€ç›´ä¸ä¼šç”Ÿæ•ˆã€‚ synchronizedè§„å®šï¼šçº¿ç¨‹åœ¨åŠ é”æ—¶ï¼Œ å…ˆæ¸…ç©ºå·¥ä½œå†…å­˜â†’åœ¨ä¸»å†…å­˜ä¸­æ‹·è´æœ€æ–°å˜é‡çš„å‰¯æœ¬åˆ°å·¥ä½œå†…å­˜ â†’æ‰§è¡Œå®Œä»£ç â†’å°†æ›´æ”¹åçš„å…±äº«å˜é‡çš„å€¼åˆ·æ–°åˆ°ä¸»å†…å­˜ä¸­â†’é‡Šæ”¾äº’æ–¥é”ã€‚ä¿è¯äº†[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/å¯è§æ€§|å†…å­˜å¯è§æ€§]]ã€‚ synchronizedä»£ç å—ä¸­çš„ä»£ç è¶Šå¤šï¼Œä¸Šé”æ—¶é—´è¶Šé•¿ï¼Œå°½é‡å‡å°‘é”çš„ç²’åº¦ã€‚ synchronizedå¯ä»¥ä¿è¯åŸå­æ€§ã€å¯è§æ€§ï¼Œå¹¶ä¸”å¯¹å¤–éƒ¨å±•ç°æœ‰åºæ€§ï¼Œå³å†…éƒ¨çš„é‡æ’åºä¸ä¼šå½±å“å¤–éƒ¨ï¼ˆè€Œä¸æ˜¯ä¸ä¼šå‘ç”Ÿé‡æ’åºï¼‰ï¼ˆå› ä¸ºåŒä¸€æ—¶åˆ»è¿›å…¥synchronizedä»£ç å—çš„åªæœ‰ä¸€ä¸ªçº¿ç¨‹ï¼Œå•çº¿ç¨‹ä¸‹é‡æ’åºæ— å½±å“ï¼‰ã€‚ è¦æƒ³ä¿è¯æœ‰åºæ€§ï¼Œå°±è¦æŠŠä¸œè¥¿å…¨éƒ¨äº¤ç»™synchronizedç®¡ç†ï¼Œè€Œä¸èƒ½æš´éœ²ä¸€éƒ¨åˆ†åœ¨å¤–é¢ï¼Œè¿™ä¹Ÿæ˜¯[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_1-è½¯ä»¶æ–¹æ³•å­¦/è®¾è®¡æ¨¡å¼/å•ä¾‹æ¨¡å¼#åŒé‡æ ¡éªŒé”|åŒé‡æ£€æŸ¥é”]]å®ç°æ—¶è¦åŠ [[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/1-é«˜çº§ç‰¹æ€§/volatile|volatile]]ã€‚ è¯­æ³• 1 2 3 4 synchronized(å¯¹è±¡) { // ä¸´ç•ŒåŒº } æµç¨‹ æ¯”å–» ![[z-oblib/z2-attachments/Pasted image 20220526224204.png]]
synchronized(å¯¹è±¡)ä¸­çš„å¯¹è±¡ï¼Œå¯ä»¥æƒ³è±¡ä¸ºä¸€ä¸ªæˆ¿é—´ï¼ˆroomï¼‰ï¼Œæœ‰å”¯ä¸€å…¥å£ï¼ˆé—¨ï¼‰æˆ¿é—´åªèƒ½ä¸€æ¬¡è¿›å…¥ä¸€äººè¿›è¡Œè®¡ç®—ï¼Œçº¿ç¨‹ t1ï¼Œt2 æƒ³è±¡æˆä¸¤ä¸ªäººã€‚ å½“çº¿ç¨‹ t1 æ‰§è¡Œåˆ° synchronized(room)æ—¶å°±å¥½æ¯” t1 è¿›å…¥äº†è¿™ä¸ªæˆ¿é—´ï¼Œå¹¶é”ä½äº†é—¨æ‹¿èµ°äº†é’¥åŒ™ï¼Œåœ¨é—¨å†…æ‰§è¡Œ count++ ä»£ç ã€‚ è¿™æ—¶å€™å¦‚æœ t2 ä¹Ÿè¿è¡Œåˆ°äº† synchronized(room) æ—¶ï¼Œå®ƒå‘ç°é—¨è¢«é”ä½äº†ï¼Œåªèƒ½åœ¨é—¨å¤–ç­‰å¾…ï¼Œå‘ç”Ÿäº†ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œé˜»å¡ä½äº†ã€‚ è¿™ä¸­é—´å³ä½¿ t1 çš„ cpu æ—¶é—´ç‰‡ä¸å¹¸ç”¨å®Œï¼Œè¢«è¸¢å‡ºäº†é—¨å¤–ï¼ˆä¸è¦é”™è¯¯ç†è§£ä¸ºé”ä½äº†å¯¹è±¡å°±èƒ½ä¸€ç›´æ‰§è¡Œä¸‹å»å“¦ï¼‰ï¼Œè¿™æ—¶é—¨è¿˜æ˜¯é”ä½çš„ï¼Œt1 ä»æ‹¿ç€é’¥åŒ™ï¼Œt2 çº¿ç¨‹è¿˜åœ¨é˜»å¡çŠ¶æ€è¿›ä¸æ¥ï¼Œåªæœ‰ä¸‹æ¬¡è½®åˆ° t1 è‡ªå·±å†æ¬¡è·å¾—æ—¶é—´ç‰‡æ—¶æ‰èƒ½å¼€é—¨è¿›å…¥ã€‚ å½“ t1 æ‰§è¡Œå®Œ synchronized{} å—å†…çš„ä»£ç ï¼Œè¿™æ—¶å€™æ‰ä¼šä» obj æˆ¿é—´å‡ºæ¥å¹¶è§£å¼€é—¨ä¸Šçš„é”ï¼Œå”¤é†’ t2 çº¿ç¨‹æŠŠé’¥åŒ™ç»™ä»–ã€‚t2 çº¿ç¨‹è¿™æ—¶æ‰å¯ä»¥è¿›å…¥ obj æˆ¿é—´ï¼Œé”ä½äº†é—¨æ‹¿ä¸Šé’¥åŒ™ï¼Œæ‰§è¡Œå®ƒçš„ count-- ä»£ç ã€‚ !</description></item><item><title>Thread</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/Thread/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/Thread/</guid><description>Thread Threadæ˜¯ä¸€ä¸ªå®ç°äº†[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/Runnable|Runnable]]æ¥å£çš„ç±»ï¼Œåˆ›å»ºä¸€ä¸ªåŒ…å«è‡ªå®šä¹‰ä»»åŠ¡çš„Threadå¯¹è±¡æœ‰ä¸¤ç§æ–¹å¼ï¼š
é€šè¿‡ç»§æ‰¿Threadç±»å¹¶é‡å†™run()æ–¹æ³•æ¥å®ç°ã€‚ é€šè¿‡å®ä¾‹åŒ–Threadç±»æ—¶ä¼ å…¥Runnableå¯¹è±¡æ¥å®ç°ã€‚ å¯ä»¥ç”¨ä¸¤ç§æ–¹å¼æ¥å®ç°å› ä¸ºThreadä¸­é»˜è®¤çš„run()æ–¹æ³•é‡‡ç”¨äº†ä»£ç†çš„æ€æƒ³ï¼š
1 2 3 4 5 6 @Override public void run() { if (target != null) { target.run(); } } ä¸Šè¿°ä»£ç targetå°±æ˜¯ä¼ å…¥çš„Runnableå¯¹è±¡ï¼Œå¦‚æœæ²¡æœ‰ä¼ å…¥ï¼Œåˆ™éœ€è¦ç»§æ‰¿Threadå¹¶é‡å†™è¯¥æ–¹æ³•ã€‚è¿™æ ·çš„æ–¹å¼å°±èƒ½å®ç°æœ‰ä¸¤ç§æ–¹å¼æ¥åˆ›å»ºè‡ªå·±çš„Threadç±»ã€‚è€Œé€šè¿‡æŠŠæ–¹æ³•åŒ…è£…æˆRunnableå¯¹è±¡å†ä¼ é€’ç»™Threadæ›´åŠ çµæ´»ï¼Œå¹¶ä¸”Runnableå¯¹[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/çº¿ç¨‹æ± |çº¿ç¨‹æ± ]]ç­‰é«˜çº§APIæ›´åŠ å‹å¥½ã€‚è¿™ç§æ€æƒ³ä¹Ÿå°±æ˜¯[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/1-é«˜çº§ç‰¹æ€§/ç»„åˆä¼˜äºç»§æ‰¿|ç»„åˆä¼˜äºç»§æ‰¿]]ã€‚</description></item><item><title>ThreadPoolExecutor</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/ThreadPoolExecutor/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/ThreadPoolExecutor/</guid><description>ThreadPoolExecutor ![[z-oblib/z2-attachments/Pasted image 20220607225611.png]]
çº¿ç¨‹æ± çŠ¶æ€ ThreadPoolExecutor ä½¿ç”¨ int çš„é«˜ 3 ä½æ¥è¡¨ç¤º[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/çº¿ç¨‹æ± |çº¿ç¨‹æ± ]]çŠ¶æ€ï¼Œä½ 29 ä½è¡¨ç¤º[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_3-è½¯ä»¶ç³»ç»Ÿ/2_0_2_1_2_3_1-æ“ä½œç³»ç»Ÿ/çº¿ç¨‹|çº¿ç¨‹]]æ•°é‡ï¼š
çŠ¶æ€å é«˜3ä½ æ¥æ”¶æ–°ä»»åŠ¡ å¤„ç†é˜»å¡é˜Ÿåˆ—ä»»åŠ¡ è¯´æ˜ RUNNING 111 Y Y SHUTDOWN 000 N Y ä¸ä¼šæ¥æ”¶æ–°ä»»åŠ¡ï¼Œä½†ä¼šå¤„ç†é˜»å¡é˜Ÿåˆ—å‰©ä½™ä»»åŠ¡ STOP 001 N N ä¼šä¸­æ–­æ­£åœ¨æ‰§è¡Œçš„ä»»åŠ¡ï¼Œå¹¶æŠ›å¼ƒé˜»å¡é˜Ÿåˆ—ä»»åŠ¡ TIDYING 010 ä»»åŠ¡å…¨æ‰§è¡Œå®Œæ¯•ï¼Œæ´»åŠ¨çº¿ç¨‹ä¸º 0 å³å°†è¿›å…¥ ç»ˆç»“ TERMINATED 011 ç»ˆç»“çŠ¶æ€ ä»æ•°å­—ä¸Šæ¯”è¾ƒï¼ŒTERMINATED &amp;gt; TIDYING &amp;gt; STOP &amp;gt; SHUTDOWN &amp;gt; RUNNINGã€‚</description></item><item><title>Timer</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/Timer/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/Timer/</guid><description>Timer åœ¨[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/ä»»åŠ¡è°ƒåº¦çº¿ç¨‹æ± |ä»»åŠ¡è°ƒåº¦çº¿ç¨‹æ± ]]åŠŸèƒ½åŠ å…¥ä¹‹å‰ï¼Œå¯ä»¥ä½¿ç”¨ java.util.Timer æ¥å®ç°å®šæ—¶åŠŸèƒ½ï¼ŒTimer çš„ä¼˜ç‚¹åœ¨äºç®€å•æ˜“ç”¨ï¼Œä½† ç”±äºæ‰€æœ‰ä»»åŠ¡éƒ½æ˜¯ç”±åŒä¸€ä¸ªçº¿ç¨‹æ¥è°ƒåº¦ï¼Œå› æ­¤æ‰€æœ‰ä»»åŠ¡éƒ½æ˜¯ä¸²è¡Œæ‰§è¡Œçš„ï¼ŒåŒä¸€æ—¶é—´åªèƒ½æœ‰ä¸€ä¸ªä»»åŠ¡åœ¨æ‰§è¡Œï¼Œå‰ä¸€ä¸ª ä»»åŠ¡çš„å»¶è¿Ÿæˆ–å¼‚å¸¸éƒ½å°†ä¼šå½±å“åˆ°ä¹‹åçš„ä»»åŠ¡ã€‚
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 public static void main(String[] args) { Timer timer = new Timer(); TimerTask task1 = new TimerTask() { @Override public void run() { log.debug(&amp;#34;task 1&amp;#34;); sleep(2); } }; TimerTask task2 = new TimerTask() { @Override public void run() { log.debug(&amp;#34;task 2&amp;#34;); } }; // ä½¿ç”¨ timer æ·»åŠ ä¸¤ä¸ªä»»åŠ¡ï¼Œå¸Œæœ›å®ƒä»¬éƒ½åœ¨ 1s åæ‰§è¡Œ // ä½†ç”±äº timer å†…åªæœ‰ä¸€ä¸ªçº¿ç¨‹æ¥é¡ºåºæ‰§è¡Œé˜Ÿåˆ—ä¸­çš„ä»»åŠ¡ï¼Œå› æ­¤ã€ä»»åŠ¡1ã€çš„å»¶æ—¶ï¼Œå½±å“äº†ã€ä»»åŠ¡2ã€çš„æ‰§è¡Œ timer.</description></item><item><title>tomcatåŸç†</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_2_1_0-web%E5%90%8E%E7%AB%AF/Tomcat/tomcat%E5%8E%9F%E7%90%86/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_2_1_0-web%E5%90%8E%E7%AB%AF/Tomcat/tomcat%E5%8E%9F%E7%90%86/</guid><description>tomcatåŸç† ![[z-oblib/z2-attachments/Pasted image 20220815211547.png]]
å³è¾¹ &amp;ndash; è¯·æ±‚å¤„ç† ![[z-oblib/z2-attachments/Pasted image 20220815210239.png]]
wrapperçš„ä½œç”¨æ˜¯ç»™å…·ä½“çš„servletå®ç°è¿›è¡Œåˆ†ç±»ï¼Œæ¯ä¸ªservletå®ç°å¯¹åº”ä¸€ä¸ªwrapperï¼Œå­˜å‚¨å¤šä¸ªè¿è¡Œæ—¶äº§ç”Ÿçš„å®ä¾‹ã€‚
ä½œç”¨çš„é˜²æ­¢æ··ä¹±ã€‚
valveæœ¬èº«æ˜¯ä¸€ä¸ªè´£ä»»é“¾çš„æ¨¡å¼ï¼Œä¾‹å¦‚å¯ä»¥è‡ªå®šä¹‰valveæ¥è®°å½•æ—¥å¿—ã€‚ è¯·æ±‚åˆ°è¾¾å¯¹åº”å±‚æ¬¡çš„æ—¶å€™ï¼Œtomcatå°±ä¼šå°†è¯·æ±‚ä¼ é€’ç»™valveé“¾å¤„ç†ï¼Œæœ€ç»ˆä»StandardEngineValveå°†è¯·æ±‚è½¬äº¤ç»™ä¸‹ä¸€å±‚ã€‚
Wrapperä¸­æœ€åä¸€ä¸ªvalveï¼ˆStandardWrapperValveï¼‰ä¼šè°ƒç”¨å…·ä½“çš„ä¸šåŠ¡servletå®ä¾‹å¯¹è±¡ä¸Šçš„æ–¹æ³•ï¼Œç»Ÿä¸€è°ƒç”¨serviceæ–¹æ³•ï¼ˆservletçˆ¶ç±»æ–¹æ³•ï¼‰ï¼Œ serviceæ ¹æ®httpå¤´çš„åŠ¨ä½œå­—ç¬¦ä¸²ï¼ˆGET/POSTã€‚ã€‚ï¼‰è°ƒç”¨å¯¹åº”çš„æ–¹æ³•ã€‚
å·¦è¾¹ &amp;ndash; è¯·æ±‚äº§ç”Ÿ</description></item><item><title>Tomcatçº¿ç¨‹æ± </title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_2_1_0-web%E5%90%8E%E7%AB%AF/Tomcat/Tomcat%E7%BA%BF%E7%A8%8B%E6%B1%A0/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_2_1_0-web%E5%90%8E%E7%AB%AF/Tomcat/Tomcat%E7%BA%BF%E7%A8%8B%E6%B1%A0/</guid><description>Tomcatçº¿ç¨‹æ±  åˆç†çš„åˆ†å·¥æ˜¯å®ç°é«˜[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_3-è½¯ä»¶ç³»ç»Ÿ/2_0_2_1_2_3_1-æ“ä½œç³»ç»Ÿ/å¹¶å‘|å¹¶å‘]]çš„ä¿éšœã€‚
![[z-oblib/z2-attachments/Pasted image 20220608183846.png]]
åˆ†å·¥çš„åŸå› å°±æ˜¯ä¸ºäº†é˜²æ­¢[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/é¥¥é¥¿|é¥¥é¥¿]]ï¼ŒæŠŠ
LimitLatch ç”¨æ¥é™æµï¼Œå¯ä»¥æ§åˆ¶æœ€å¤§è¿æ¥ä¸ªæ•°ï¼Œç±»ä¼¼ J.U.C ä¸­çš„ Semaphore åé¢å†è®² Acceptor åªè´Ÿè´£ã€æ¥æ”¶æ–°çš„ socket è¿æ¥ã€‘ Poller åªè´Ÿè´£ç›‘å¬ socket channel æ˜¯å¦æœ‰ã€å¯è¯»çš„ I/O äº‹ä»¶ã€‘ ä¸€æ—¦å¯è¯»ï¼Œå°è£…ä¸€ä¸ªä»»åŠ¡å¯¹è±¡ï¼ˆsocketProcessorï¼‰ï¼Œæäº¤ç»™ Executor [[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/çº¿ç¨‹æ± |çº¿ç¨‹æ± ]]å¤„ç† Executor çº¿ç¨‹æ± ä¸­çš„[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_1-è½¯ä»¶æ–¹æ³•å­¦/è®¾è®¡æ¨¡å¼/å·¥ä½œçº¿ç¨‹|å·¥ä½œçº¿ç¨‹]]æœ€ç»ˆè´Ÿè´£ã€å¤„ç†è¯·æ±‚ã€‘ã€‚ ä¸JDKçº¿ç¨‹æ± å·®åˆ« Tomcat çº¿ç¨‹æ± æ‰©å±•äº† ThreadPoolExecutorï¼Œè¡Œä¸ºç¨æœ‰ä¸åŒï¼š
å¦‚æœæ€»çº¿ç¨‹æ•°è¾¾åˆ° maximumPoolSize è¿™æ—¶ä¸ä¼šç«‹åˆ»æŠ› RejectedExecutionException å¼‚å¸¸ è€Œæ˜¯å†æ¬¡å°è¯•å°†ä»»åŠ¡æ”¾å…¥é˜Ÿåˆ—ï¼Œå¦‚æœè¿˜å¤±è´¥ï¼Œæ‰æŠ›å‡º RejectedExecutionException å¼‚å¸¸ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 public void execute(Runnable command, long timeout, TimeUnit unit) { submittedCount.</description></item><item><title>ubuntuç¯å¢ƒé…ç½®</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_3_0-%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/%E4%BA%8C%E8%BF%9B%E5%88%B6%E5%AE%89%E5%85%A8/pwn/ubuntu%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_3_0-%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/%E4%BA%8C%E8%BF%9B%E5%88%B6%E5%AE%89%E5%85%A8/pwn/ubuntu%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/</guid><description>ubuntuç¯å¢ƒé…ç½® 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 # aptæ¢æº sudo cp -a /etc/apt/sources.</description></item><item><title>UnixåŸŸå¥—æ¥å­—</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/Unix%E5%9F%9F%E5%A5%97%E6%8E%A5%E5%AD%97/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/Unix%E5%9F%9F%E5%A5%97%E6%8E%A5%E5%AD%97/</guid><description>UnixåŸŸå¥—æ¥å­— UnixåŸŸå¥—æ¥å­—æ˜¯[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_3-è½¯ä»¶ç³»ç»Ÿ/2_0_2_1_2_3_1-æ“ä½œç³»ç»Ÿ/å¥—æ¥å­—|å¥—æ¥å­—]]çš„ä¸€ç§ï¼Œç”¨äºæœ¬æœºè¿›ç¨‹é—´é€šä¿¡ï¼Œä¸€èˆ¬ç”¨æ¥å®ç°åŒå‘é€šä¿¡çš„ç®¡é“ã€‚UnixåŸŸå¥—æ¥å­—æ˜¯æ¯”ç½‘ç»œå¥—æ¥å­—è½»é‡çº§ä¸”é«˜æ•ˆçš„å¤šï¼Œå› ä¸ºå®ƒä¸æ¶‰åŠç½‘ç»œé€šä¿¡ï¼Œä¸éœ€è¦ç›‘å¬è¿æ¥ï¼Œä¸éœ€è¦ç»‘å®šåœ°å€ï¼Œä¸éœ€è¦å…³å¿ƒåè®®ç±»å‹ï¼Œç­‰ç­‰ã€‚
åˆ›å»ºUnixåŸŸå¥—æ¥å­—åè¿”å›ä¸¤ä¸ª[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_3-è½¯ä»¶ç³»ç»Ÿ/2_0_2_1_2_3_1-æ“ä½œç³»ç»Ÿ/æ–‡ä»¶æè¿°ç¬¦|æ–‡ä»¶æè¿°ç¬¦]]ï¼Œè¿™ä¸¤ä¸ªæ–‡ä»¶æè¿°ç¬¦å‡å¯¹å¥—æ¥å­—å¯è¯»ã€å¯å†™ï¼Œä»è€Œå®ç°å…¨åŒå·¥çš„åŒå‘é€šä¿¡ã€‚
åŒæ ·çš„ï¼Œä¸ºäº†é¿å…ä½¿ç”¨å•ä¸ªæ–‡ä»¶æè¿°ç¬¦åŒæ—¶è¯»ã€å†™é€ æˆçš„æ•°æ®é”™ä¹±ï¼ŒUnixåŸŸå¥—æ¥å­—ä¹Ÿæœ‰ä¸¤ä¸ªbufferç©ºé—´ã€‚
åˆ›å»ºäº†ä¸¤ä¸ªæ–¹å‘ä¸åŒçš„åŠåŒå·¥ç¼“å†²åŒºï¼Œæ‹¼åœ¨ä¸€èµ·ç»„æˆæ‰€è°“å…¨åŒå·¥ã€‚å•ä¸€bufferä¸ä¼šæ¶‰åŠåŒæ—¶çš„å†™å…¥æ“ä½œã€‚
![[z-oblib/z2-attachments/Pasted image 20220803133056.png]]</description></item><item><title>Unsafe</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/Unsafe/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/Unsafe/</guid><description>Unsafe Unsafe å¯¹è±¡æä¾›äº†éå¸¸åº•å±‚çš„ï¼Œæ“ä½œå†…å­˜ã€çº¿ç¨‹çš„æ–¹æ³•ï¼ŒUnsafe å¯¹è±¡ä¸èƒ½ç›´æ¥è°ƒç”¨ï¼Œåªèƒ½é€šè¿‡åå°„è·å¾—ã€‚
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 public class UnsafeAccessor { static Unsafe unsafe; static { try { Field theUnsafe = Unsafe.class.getDeclaredField(&amp;#34;theUnsafe&amp;#34;); theUnsafe.setAccessible(true); unsafe = (Unsafe) theUnsafe.get(null); } catch (NoSuchFieldException | IllegalAccessException e) { throw new Error(e); } } static Unsafe getUnsafe() { return unsafe; } } é€šè¿‡åå°„è·å–ï¼š
1 2 3 4 5 6 7 8 9 10 11 12 import sun.</description></item><item><title>volatile</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/1-%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7/volatile/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/1-%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7/volatile/</guid><description>volatile https://ifeve.com/java-volatile%E5%85%B3%E9%94%AE%E5%AD%97/
å†…å­˜å¯è§æ€§é—®é¢˜ 1 2 3 4 5 6 7 8 9 10 11 A = 0; B = 0; T0 { A = 1; print(B); } T1 { B = 1; print(A); } è¿™æ ·ä¸€æ®µä»£ç å¯èƒ½ä¼šå‡ºç°ä¸‹åˆ—å››ç§è¾“å‡ºï¼š
æƒ…å†µ1 æƒ…å†µ2 æƒ…å†µ3 æƒ…å†µ4 è¯»A è¯»A å†™A å†™A è¯»B å†™B å†™B è¯»B å†™A å†™A è¯»A è¯»A å†™B è¯»B è¯»B å†™B A0B0 A0B1 A1B1 A1B0 åœ¨è¯»ä¸ŠåŠ å…¥å†…å­˜å±éšœå³å¯ä¿è¯åœ¨ä¸€ä¸ªçº¿ç¨‹ä¸­å†™æ“ä½œå‘ç”Ÿåœ¨è¯»æ“ä½œä¹‹å‰ï¼Œä½†æ˜¯è‹¥çº¿ç¨‹1å…ˆæ‰§è¡Œå®Œæ¯•çº¿ç¨‹2æ‰æ‰§è¡Œï¼Œå°±ä¼šå¯¼è‡´çº¿ç¨‹1æ— æ³•è¯»å–åˆ°Bçš„å€¼ï¼Œæ‰€ä»¥éœ€è¦è®©ä¸¤ä¸ªçº¿ç¨‹åŒæ­¥ï¼š</description></item><item><title>wait&amp;notify</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/waitnotify/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/waitnotify/</guid><description>wait&amp;amp;notify wait ä¸ºä»€ä¹ˆéœ€è¦wait ç”±äºæ¡ä»¶ä¸æ»¡è¶³ï¼Œå°å—ä¸èƒ½ç»§ç»­è¿›è¡Œè®¡ç®— ä½†å°å—å¦‚æœä¸€ç›´å ç”¨ç€é”ï¼Œå…¶å®ƒäººå°±å¾—ä¸€ç›´é˜»å¡ï¼Œæ•ˆç‡å¤ªä½ ![[z-oblib/z2-attachments/Pasted image 20220528165543.png]] äºæ˜¯è€ç‹å•å¼€äº†ä¸€é—´ä¼‘æ¯å®¤ï¼ˆè°ƒç”¨ wait æ–¹æ³•ï¼‰ï¼Œè®©å°å—åˆ°ä¼‘æ¯å®¤ï¼ˆWaitSetï¼‰ç­‰ç€å»äº†ï¼Œä½†è¿™æ—¶é”é‡Šæ”¾å¼€ï¼Œ å…¶å®ƒäººå¯ä»¥ç”±è€ç‹éšæœºå®‰æ’è¿›å±‹ ç›´åˆ°å°Må°†çƒŸé€æ¥ï¼Œå¤§å«ä¸€å£° [ ä½ çš„çƒŸåˆ°äº† ] ï¼ˆè°ƒç”¨ notify æ–¹æ³•ï¼‰ ![[z-oblib/z2-attachments/Pasted image 20220528165605.png]] å°å—äºæ˜¯å¯ä»¥ç¦»å¼€ä¼‘æ¯å®¤ï¼Œé‡æ–°è¿›å…¥ç«äº‰é”çš„é˜Ÿåˆ— ![[z-oblib/z2-attachments/Pasted image 20220528165629.png]] åŸç† ![[z-oblib/z2-attachments/Pasted image 20220528170242.png]]
Owner çº¿ç¨‹å‘ç°æ¡ä»¶ä¸æ»¡è¶³ï¼Œè°ƒç”¨ wait æ–¹æ³•ï¼Œå³å¯è¿›å…¥ WaitSet å˜ä¸º WAITING çŠ¶æ€ ä¸ç®¡æ˜¯ç­‰å¤–å–çš„è¿˜æ˜¯ç­‰çƒŸçš„éƒ½ä¼šåœ¨ä¸€ä¸ªæˆ¿é—´é‡Œç­‰å¾…ï¼Œå”¤é†’çš„æ—¶å€™ä¸èƒ½åŒºåˆ†ã€‚[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/ReentrantLock|ReentrantLock]]æ”¹è¿›äº†è¿™ä¸€ç‚¹ã€‚
BLOCKED å’Œ WAITING çš„çº¿ç¨‹éƒ½å¤„äºé˜»å¡çŠ¶æ€ï¼Œä¸å ç”¨ CPU æ—¶é—´ç‰‡ BLOCKED çº¿ç¨‹ä¼šåœ¨ Owner çº¿ç¨‹é‡Šæ”¾é”æ—¶å”¤é†’ WAITING çº¿ç¨‹ä¼šåœ¨ Owner çº¿ç¨‹è°ƒç”¨ notify æˆ– notifyAll æ—¶å”¤é†’ï¼Œä½†å”¤é†’åå¹¶ä¸æ„å‘³è€…ç«‹åˆ»è·å¾—é”ï¼Œä»éœ€è¿›å…¥ EntryList é‡æ–°ç«äº‰ waitingå’ŒblockedçŠ¶æ€ä¸‹çš„çº¿ç¨‹åœ¨æœ¬è´¨ä¸Šéƒ½æ˜¯blockedçŠ¶æ€ï¼Œä½†waitingçº¿ç¨‹æ˜¯åœ¨ç­‰å¾…å«å·ï¼ˆæ‰€ä»¥ç”¨Setï¼‰ï¼Œè€Œblockedæ˜¯åœ¨æ’é˜Ÿï¼ˆæ‰€ä»¥ç”¨Listï¼‰ã€‚
ä½¿ç”¨ waitå’Œnotifyæ˜¯é’ˆå¯¹é‡é‡çº§é”çš„ã€‚ obj.</description></item><item><title>x86å¯„å­˜å™¨</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84/x86%E5%AF%84%E5%AD%98%E5%99%A8/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84/x86%E5%AF%84%E5%AD%98%E5%99%A8/</guid><description>x86å¯„å­˜å™¨ ![[z-oblib/z2-attachments/Pasted image 20220912222502.png]]
è¿™å…«ä¸ªå¯„å­˜å™¨çš„åç§°å¦‚ä¸‹ï¼šEAXï¼ˆç´¯åŠ å™¨ï¼‰ã€EBXï¼ˆåŸºå€ï¼‰ã€ECXï¼ˆè®¡æ•°ï¼‰ã€EDXï¼ˆæ•°æ®ï¼‰ã€ESPï¼ˆæ ˆæŒ‡é’ˆï¼‰ã€EBPï¼ˆåŸºå€æŒ‡é’ˆï¼‰ã€ESIï¼ˆæºå˜å€ï¼‰ã€EDIï¼ˆç›®çš„å˜å€ï¼‰ã€‚</description></item><item><title>yield</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/yield/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/yield/</guid><description>yield ä½œç”¨ è°ƒç”¨ yield ä¼šè®©å½“å‰çº¿ç¨‹ä» Running è¿›å…¥ Runnable å°±ç»ªçŠ¶æ€ï¼Œç„¶åè°ƒåº¦æ‰§è¡Œå…¶å®ƒçº¿ç¨‹ã€‚ å…·ä½“çš„å®ç°ä¾èµ–äºæ“ä½œç³»ç»Ÿçš„ä»»åŠ¡è°ƒåº¦å™¨ã€‚</description></item><item><title>ä¸€. NIO åŸºç¡€</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/NIO/NIO%E5%9F%BA%E7%A1%80/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/NIO/NIO%E5%9F%BA%E7%A1%80/</guid><description>ä¸€. NIO åŸºç¡€ non-blocking io éé˜»å¡ IO
1. ä¸‰å¤§ç»„ä»¶ 1.1 Channel &amp;amp; Buffer channel æœ‰ä¸€ç‚¹ç±»ä¼¼äº streamï¼Œå®ƒå°±æ˜¯è¯»å†™æ•°æ®çš„åŒå‘é€šé“ï¼Œå¯ä»¥ä» channel å°†æ•°æ®è¯»å…¥ bufferï¼Œä¹Ÿå¯ä»¥å°† buffer çš„æ•°æ®å†™å…¥ channelï¼Œè€Œä¹‹å‰çš„ stream è¦ä¹ˆæ˜¯è¾“å…¥ï¼Œè¦ä¹ˆæ˜¯è¾“å‡ºï¼Œchannel æ¯” stream æ›´ä¸ºåº•å±‚
1 2 3 graph LR channel --&amp;gt; buffer buffer --&amp;gt; channel å¸¸è§çš„ Channel æœ‰
FileChannel DatagramChannel SocketChannel ServerSocketChannel buffer åˆ™ç”¨æ¥ç¼“å†²è¯»å†™æ•°æ®ï¼Œå¸¸è§çš„ buffer æœ‰
ByteBuffer MappedByteBuffer DirectByteBuffer HeapByteBuffer ShortBuffer IntBuffer LongBuffer FloatBuffer DoubleBuffer CharBuffer 1.2 Selector selector å•ä»å­—é¢æ„æ€ä¸å¥½ç†è§£ï¼Œéœ€è¦ç»“åˆæœåŠ¡å™¨çš„è®¾è®¡æ¼”åŒ–æ¥ç†è§£å®ƒçš„ç”¨é€”</description></item><item><title>ä¸€è‡´æ€§ç¼“å­˜</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E4%B8%80%E8%87%B4%E6%80%A7%E7%BC%93%E5%AD%98/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E4%B8%80%E8%87%B4%E6%80%A7%E7%BC%93%E5%AD%98/</guid><description>ä¸€è‡´æ€§ç¼“å­˜ ä½¿ç”¨è¯»å†™é”å®ç°ä¸€ä¸ªç®€å•çš„æŒ‰éœ€åŠ è½½ç¼“å­˜ï¼š
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 class GenericCachedDao&amp;lt;T&amp;gt; { // HashMap ä½œä¸ºç¼“å­˜éçº¿ç¨‹å®‰å…¨, éœ€è¦ä¿æŠ¤ // è¿™é‡Œå¯¹è¯»å†™éƒ½åŠ é”äº†ï¼Œæ‰€ä»¥å¯ä»¥ç»§ç»­ä½¿ç”¨HashMap HashMap&amp;lt;SqlPair, T&amp;gt; map = new HashMap&amp;lt;&amp;gt;(); ReentrantReadWriteLock lock = new ReentrantReadWriteLock(); GenericDao genericDao = new GenericDao(); public int update(String sql, Object.</description></item><item><title>ä¸‰æ¬¡æ¡æ‰‹</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_3-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_3-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B/</guid><description>ä¸‰æ¬¡æ¡æ‰‹ å®¢æˆ·ç«¯ã€æœåŠ¡ç«¯éƒ½è¦ç¡®è®¤ä¸¤ä»¶äº‹ï¼š
æˆ‘å‘å‡ºå»çš„åŒ…å¯¹é¢èƒ½ä¸èƒ½æ”¶åˆ° å¯¹é¢å‘ç»™æˆ‘çš„åŒ…æˆ‘èƒ½ä¸èƒ½æ”¶åˆ° è¿™ä¹Ÿæ˜¯å› ä¸ºç½‘ç»œæ˜¯å…¨åŒå·¥çš„ï¼Œæ‰€ä»¥å¯ä»¥æƒ³æˆæœ‰ä¸¤æ¡é“ï¼ŒåŒæ–¹éƒ½è¦ç¡®è®¤è¿™ä¸¤æ¡é“è·¯é€šç•…ã€‚
å®¢æˆ·ç«¯å‘æœåŠ¡ç«¯å‘é€ä¸€ä¸ªæ§åˆ¶ä½ACK=0ï¼ŒSYN=1çš„æ•°æ®åŒ…è¡¨ç¤ºè¯·æ±‚å»ºç«‹è¿æ¥ï¼Œå‘é€åå®¢æˆ·ç«¯è¿›å…¥SYN-SENTçŠ¶æ€ã€‚ æ­¤æ—¶ï¼Œå®¢æˆ·ç«¯è™½ç„¶å‘å‡ºäº†æ•°æ®ï¼Œä½†æ˜¯å¹¶ä¸çŸ¥é“ä»»ä½•å¯ç”¨çš„ä¿¡æ¯ã€‚ æœåŠ¡ç«¯æ¥æ”¶åˆ°æ•°æ®åŒ…åï¼Œåˆ†é…ç¼“å­˜ç©ºé—´ï¼Œå¹¶è¿”å›ç»™å®¢æˆ·ç«¯ä¸€ä¸ªACK=1ï¼ŒSYN=1çš„æ•°æ®åŒ…ï¼Œç¡®è®¤å·ackä¸ºå®¢æˆ·ç«¯æ•°æ®åŒ…åºåˆ—å·åŠ ä¸€ï¼ŒæœåŠ¡ç«¯è¿›å…¥SYN-RCVDçŠ¶æ€ã€‚ æœåŠ¡ç«¯æ”¶åˆ°å®¢æˆ·ç«¯çš„åŒ…åçŸ¥é“äº†ï¼šå®¢æˆ·ç«¯å‘ç»™æˆ‘çš„åŒ…ï¼Œæˆ‘èƒ½æ”¶åˆ°ã€‚ å®¢æˆ·ç«¯æ”¶åˆ°æœåŠ¡ç«¯çš„å“åº”åçŸ¥é“ï¼šæœåŠ¡ç«¯å‘ç»™æˆ‘çš„åŒ…ï¼Œæˆ‘èƒ½æ”¶åˆ°ã€‚ æ ¹æ®åŒ…çš„ackå’Œsynå­—æ®µå®¢æˆ·ç«¯è¿˜èƒ½çŸ¥é“ï¼šæˆ‘å‘ç»™æœåŠ¡ç«¯çš„åŒ…ï¼ŒæœåŠ¡ç«¯èƒ½æ”¶åˆ°ã€‚ è¿™ä¸€æ­¥å®¢æˆ·ç«¯ä¸€æ–¹æƒ³è¦çš„ä¿¡æ¯éƒ½é½äº†ï¼Œä½†æœåŠ¡ç«¯è¿˜å·®ä¸€ç‚¹ã€‚
å®¢æˆ·ç«¯æ¥æ”¶åˆ°æ•°æ®åŒ…åï¼Œè¿”å›ç»™å®¢æˆ·ç«¯ACK=1çš„æ•°æ®åŒ…ï¼Œè¿›å…¥EstablishçŠ¶æ€ï¼Œä¼ è¾“è¿æ¥æ­£å¼å»ºç«‹ã€‚ æœåŠ¡ç«¯æ”¶åˆ°æœ€ç»ˆä¸€æ­¥çš„åŒ…åçŸ¥é“ï¼šæˆ‘å‘ç»™å®¢æˆ·ç«¯çš„åŒ…ï¼Œå®¢æˆ·ç«¯èƒ½æ”¶åˆ°ã€‚</description></item><item><title>ä¸‰è‰²æ ‡è®°ç®—æ³•</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/1-%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7/%E4%B8%89%E8%89%B2%E6%A0%87%E8%AE%B0%E7%AE%97%E6%B3%95/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/1-%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7/%E4%B8%89%E8%89%B2%E6%A0%87%E8%AE%B0%E7%AE%97%E6%B3%95/</guid><description>ä¸‰è‰²æ ‡è®°ç®—æ³• è§£å†³çš„é—®é¢˜ CMSåƒåœ¾å›æ”¶æœºåˆ¶ä¸‹ï¼Œå¯¹è±¡æ ‡è®°çº¿ç¨‹å’Œç”¨æˆ·çº¿ç¨‹åŒæ—¶æ‰§è¡Œï¼Œç”¨æˆ·çº¿ç¨‹ä¼šå½±å“æ ‡è®°å‡†ç¡®åº¦ï¼Œå¯¼è‡´ï¼š
æµ®æ¸¸åƒåœ¾é—®é¢˜ è¯¥é—®é¢˜ä¸åŒç‰¹åˆ«åœ¨æ„ï¼Œå› ä¸ºæµ®åŠ¨åƒåœ¾ä¼šåœ¨ä¸‹æ¬¡GCæ—¶è¢«æ¸…ç†ã€‚ é”™è¯¯å›æ”¶é—®é¢˜ è¯¥é—®é¢˜è¦ç‰¹åˆ«åœ¨æ„ï¼Œå› ä¸ºå›æ”¶äº†ä¸€ä¸ªæ­£åœ¨ä½¿ç”¨çš„å¯¹è±¡æ˜¯ä¸¥é‡çš„BUGã€‚ è§£å†³æ€è·¯ é€šè¿‡å¹¿åº¦ä¼˜å…ˆç®—æ³•æ‰«ægcæ ‘ä¸Šçš„èŠ‚ç‚¹ï¼Œå¹¶ç”¨é»‘è‰²æ ‡è®°å·²ç»æ‰«æå®Œæˆçš„èŠ‚ç‚¹ï¼Œç°è‰²æ ‡è®°æ­£åœ¨æ‰«æçš„èŠ‚ç‚¹ï¼Œç™½çš„æœªæ‰«æçš„èŠ‚ç‚¹ï¼Œè¾¾åˆ°æ€§è´¨ï¼š
é»‘è‰²èŠ‚ç‚¹çš„æ‰€æœ‰å­èŠ‚ç‚¹éƒ½åº”è¯¥æ˜¯ç°è‰²èŠ‚ç‚¹ã€‚ æ‰€æœ‰ç™½è‰²èŠ‚ç‚¹éƒ½æ˜¯åƒåœ¾ã€‚ å› ä¸ºé»‘è‰²èŠ‚ç‚¹æ˜¯å·²ç»æ‰«æå®Œæˆçš„ï¼Œä¸ä¼šå†å¤„ç†ï¼Œæ‰€ä»¥è‹¥ç”¨æˆ·çº¿ç¨‹æŠŠç™½è‰²èŠ‚ç‚¹æ¥å…¥é»‘è‰²èŠ‚ç‚¹å°±ä¼šäº§ç”Ÿé”™è¯¯ï¼šè¯¥ç™½è‰²èŠ‚ç‚¹ä¸åº”è¯¥è¢«å›æ”¶ä½†ä¸ä¼šå†å˜è‰²äº†ã€‚
é—®é¢˜äº§ç”Ÿæ¡ä»¶ æˆ‘ä»¬å°†ç”¨æˆ·çº¿ç¨‹é’ˆå¯¹å¯¹è±¡å¼•ç”¨çš„æ“ä½œæˆä¸ºèµ‹å€¼ï¼ˆä¿®æ”¹åº”ç”¨æˆ–è€…ç½®nullï¼‰ï¼Œåˆ™æœ‰ï¼š
èµ‹å€¼å™¨æ’å…¥äº†è‹¥å¹²æ¡ é»‘è‰² &amp;ndash;&amp;gt; ç™½è‰² çš„æ–°å¼•ç”¨ã€‚ èµ‹å€¼å™¨åˆ é™¤äº†é’ˆå¯¹æŸç™½è‰²èŠ‚ç‚¹çš„æ‰€æœ‰ ç°è‰² &amp;ndash;&amp;gt; ç™½è‰² çš„å¼•ç”¨ã€‚ å¯èƒ½è¯¥ç™½è‰²èŠ‚ç‚¹å°±æ˜¯åƒåœ¾ã€‚ èµ‹å€¼å™¨å¯èƒ½æ¥ä¸‹æ¥ä¼šæŠŠç™½è‰²èŠ‚ç‚¹æ¥å…¥é»‘è‰²èŠ‚ç‚¹ï¼Œè¿›å…¥æƒ…å†µ1ã€‚ è§£å†³æ–¹æ¡ˆ åªè¦æ‰“ç ´ä¸Šè¿°ä¸¤ç§æƒ…å†µçš„ä»»æ„ä¸€ç§å³å¯ï¼Œåˆ™å¯¹åº”æœ‰ä¸¤ç§è§£å†³æ–¹æ¡ˆï¼š
å¢é‡æ›´æ–° é€šè¿‡â€œå†™å±éšœâ€ï¼ˆç±»ä¼¼AOPï¼‰ï¼Œè®°å½•ç”¨æˆ·å°†ç™½è‰²èŠ‚ç‚¹é“¾åˆ°é»‘è‰²èŠ‚ç‚¹çš„æ“ä½œã€‚é‡æ–°æ ‡è®°é˜¶æ®µå°±ä¼šæ ¹æ®è¯¥è®°å½•ä»¥è¿™éƒ¨åˆ†é»‘è‰²èŠ‚ç‚¹ä¸ºæ ¹å†æ‰«æä¸€æ¬¡ã€‚
åŸå§‹å¿«ç…§ åœ¨ç”¨æˆ·çº¿ç¨‹æ–­å¼€ç°ç™½é—´å¼•ç”¨å…³ç³»å‰åŠ å…¥â€œå†™å±éšœâ€ï¼Œå°†è¿™ä¸ªè¦åˆ é™¤çš„å¼•ç”¨è®°å½•ä¸‹æ¥ã€‚å‘æ‰«æç»“æŸä¹‹åï¼Œå†å°†è¿™äº›è®°å½•è¿‡å¾—å¼•ç”¨å…³ç³»ä¸­çš„ç°è‰²å¯¹è±¡ä¸ºæ ¹ï¼Œé‡æ–°æ‰«æä¸€æ¬¡ã€‚
æ€»ç»“ åŸå§‹å¿«ç…§å…³æ³¨çš„æ˜¯å¼•ç”¨åˆ é™¤ï¼Œå¢é‡æ›´æ–°å…³æ³¨çš„æ˜¯å¼•ç”¨å¢åŠ ã€‚ ä½¿ç”¨å¢é‡æ›´æ–°ç®—æ³•ï¼Œé‚£å˜æˆç°è‰²çš„å¯¹è±¡è¿˜è¦é‡æ–°æ‰«æä¸€éï¼Œæ•ˆç‡å¤ªä½äº†ï¼Œæ‰€ä»¥G1åœ¨å¤„ç†å¹¶å‘æ ‡è®°çš„è¿‡ç¨‹æ¯”CMSæ•ˆç‡è¦é«˜ï¼Œè¿™ä¸ªä¸»è¦æ˜¯è§£å†³æ¼æ ‡çš„ç®—æ³•å†³å®šçš„ã€‚ å› æ­¤G1ä¸é‡‡ç”¨å¢é‡æ›´æ–°ã€‚</description></item><item><title>ä¸Šä¸‹æ–‡</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E4%B8%8A%E4%B8%8B%E6%96%87/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E4%B8%8A%E4%B8%8B%E6%96%87/</guid><description>ä¸Šä¸‹æ–‡ ä¸Šä¸‹æ–‡æ˜¯æŒ‡æŸä¸€æ—¶é—´ç‚¹ CPU å¯„å­˜å™¨å’Œç¨‹åºè®¡æ•°å™¨çš„å†…å®¹ã€‚</description></item><item><title>ä¸Šä¸‹æ–‡åˆ‡æ¢</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E4%B8%8A%E4%B8%8B%E6%96%87%E5%88%87%E6%8D%A2/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E4%B8%8A%E4%B8%8B%E6%96%87%E5%88%87%E6%8D%A2/</guid><description>ä¸Šä¸‹æ–‡åˆ‡æ¢ [[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/ä¸Šä¸‹æ–‡|ä¸Šä¸‹æ–‡]]åˆ‡æ¢ï¼ˆæœ‰æ—¶ä¹Ÿç§°åšè¿›ç¨‹åˆ‡æ¢æˆ–ä»»åŠ¡åˆ‡æ¢ï¼‰æ˜¯æŒ‡ CPU ä»ä¸€ä¸ª[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_3-è½¯ä»¶ç³»ç»Ÿ/2_0_2_1_2_3_1-æ“ä½œç³»ç»Ÿ/è¿›ç¨‹|è¿›ç¨‹]]ï¼ˆæˆ–[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_3-è½¯ä»¶ç³»ç»Ÿ/2_0_2_1_2_3_1-æ“ä½œç³»ç»Ÿ/çº¿ç¨‹|çº¿ç¨‹]]ï¼‰åˆ‡æ¢åˆ°å¦ä¸€ä¸ªè¿›ç¨‹ï¼ˆæˆ–çº¿ç¨‹ï¼‰ã€‚</description></item><item><title>ä¸å¯å˜å°ç»“</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E4%B8%8D%E5%8F%AF%E5%8F%98%E5%B0%8F%E7%BB%93/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E4%B8%8D%E5%8F%AF%E5%8F%98%E5%B0%8F%E7%BB%93/</guid><description>ä¸å¯å˜å°ç»“ ä¸å¯å˜ç±»ä½¿ç”¨ [[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/ä¸å¯å˜è®¾è®¡|ä¸å¯å˜è®¾è®¡]] åŸç†æ–¹é¢ [[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/0-è¯­æ³•åŸºç¡€/final|ï¬nal]] æ¨¡å¼æ–¹é¢ [[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_1-è½¯ä»¶æ–¹æ³•å­¦/è®¾è®¡æ¨¡å¼/äº«å…ƒæ¨¡å¼|äº«å…ƒæ¨¡å¼]]</description></item><item><title>ä¸å¯å˜è®¾è®¡</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E4%B8%8D%E5%8F%AF%E5%8F%98%E8%AE%BE%E8%AE%A1/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E4%B8%8D%E5%8F%AF%E5%8F%98%E8%AE%BE%E8%AE%A1/</guid><description>ä¸å¯å˜è®¾è®¡ ä»¥Stringç±»ä¸ºä¾‹ï¼š
1 2 3 4 5 6 7 8 9 10 11 public final class String implements java.io.Serializable, Comparable&amp;lt;String&amp;gt;, CharSequence { /** The value is used for character storage. */ private final char value[]; /** Cache the hash code for the string */ private int hash; // Default to 0 // ... } finalçš„ä½¿ç”¨ å‘ç°è¯¥ç±»ã€ç±»ä¸­æ‰€æœ‰å±æ€§éƒ½æ˜¯ ï¬nal çš„
å±æ€§ç”¨ ï¬nal ä¿®é¥°ä¿è¯äº†è¯¥å±æ€§æ˜¯åªè¯»çš„ï¼Œä¸èƒ½ä¿®æ”¹ ç±»ç”¨ ï¬nal ä¿®é¥°ä¿è¯äº†è¯¥ç±»ä¸­çš„æ–¹æ³•ä¸èƒ½è¢«è¦†ç›–ï¼Œé˜²æ­¢å­ç±»æ— æ„é—´ç ´åä¸å¯å˜æ€§ [[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/ä¿æŠ¤æ€§æ‹·è´|ä¿æŠ¤æ€§æ‹·è´]]</description></item><item><title>ä¸¤é˜¶æ®µç»ˆæ­¢</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_1-%E8%BD%AF%E4%BB%B6%E6%96%B9%E6%B3%95%E5%AD%A6/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E4%B8%A4%E9%98%B6%E6%AE%B5%E7%BB%88%E6%AD%A2/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_1-%E8%BD%AF%E4%BB%B6%E6%96%B9%E6%B3%95%E5%AD%A6/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E4%B8%A4%E9%98%B6%E6%AE%B5%E7%BB%88%E6%AD%A2/</guid><description>ä¸¤é˜¶æ®µç»ˆæ­¢</description></item><item><title>ä¸¤é˜¶æ®µç»ˆæ­¢æ¨¡å¼</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E4%B8%A4%E9%98%B6%E6%AE%B5%E7%BB%88%E6%AD%A2%E6%A8%A1%E5%BC%8F/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E4%B8%A4%E9%98%B6%E6%AE%B5%E7%BB%88%E6%AD%A2%E6%A8%A1%E5%BC%8F/</guid><description>ä¸¤é˜¶æ®µç»ˆæ­¢æ¨¡å¼ Two Phase Termination
è¦ä¼˜é›… [[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_3-è½¯ä»¶ç³»ç»Ÿ/2_0_2_1_2_3_1-æ“ä½œç³»ç»Ÿ/çº¿ç¨‹|çº¿ç¨‹]]T1ä¼˜é›…çš„ç»ˆæ­¢çº¿ç¨‹T2ï¼ŒæŒ‡çš„æ˜¯ç»™T2ä¸€ä¸ªæ–™ç†åäº‹çš„æœºä¼šã€‚
é”™è¯¯æ€è·¯ ä½¿ç”¨çº¿ç¨‹å¯¹è±¡çš„stop()åœæ­¢çº¿ç¨‹ï¼š stopæ–¹æ³•ä¼šçœŸæ­£æ€æ­»çº¿ç¨‹ä¼šå¼ºåˆ¶é‡Šæ”¾CPUèµ„æºå’Œé”ï¼Œä½†æ˜¯ä¸èƒ½ä¿è¯æ¸…ç†å·¥ä½œå®Œæ•´ï¼ˆå¦‚å…³é—­æ–‡ä»¶/è¿æ¥ç­‰ï¼‰ï¼Œä¼šå¯¼è‡´æ•°æ®ä¸åŒæ­¥ç­‰é—®é¢˜ï¼Œä¸å®‰å…¨ã€‚å·²å¼ƒç”¨ã€‚ ä½¿ç”¨System.exit(int)æ–¹æ³•åœæ­¢çº¿ç¨‹ï¼š ç›®çš„æ˜¯åœæ­¢ä¸€ä¸ªçº¿ç¨‹ï¼Œä½†æ˜¯ä¼šè®©æ•´ä¸ªç¨‹åºéƒ½åœæ­¢ã€‚ ä½¿ç”¨æ‰“æ–­æ ‡è®°å®ç° ä¾‹-ç³»ç»ŸçŠ¶æ€å®šæ—¶ç›‘æ§ éœ€è¦æœ‰åœæ­¢ç›‘æ§çš„åŠŸèƒ½ï¼š
![[z-oblib/z2-attachments/Pasted image 20220526162938.png]]
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 package test; import lombok.</description></item><item><title>ä¸­æ–­</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E4%B8%AD%E6%96%AD/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E4%B8%AD%E6%96%AD/</guid><description>ä¸­æ–­ çº¿ç¨‹ä¸­æ–­å³çº¿ç¨‹è¿è¡Œè¿‡ç¨‹ä¸­è¢«å…¶ä»–çº¿ç¨‹ç»™æ‰“æ–­äº†ã€‚
åŸç† ä¸­æ–­æ— æ³•ç›´æ¥ç»ˆæ­¢å¦ä¸€[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_3-è½¯ä»¶ç³»ç»Ÿ/2_0_2_1_2_3_1-æ“ä½œç³»ç»Ÿ/çº¿ç¨‹|çº¿ç¨‹]]ï¼Œåªèƒ½å‘èµ·é€šçŸ¥ã€‚ ä¸­æ–­éœ€è¦è¢«ä¸­æ–­çº¿ç¨‹è‡ªå·±å¤„ç†ã€‚ æ¯ä¸ªå¯¹è±¡æœ‰ä¸€booleanæ ‡è¯†æ˜¯å¦æœ‰ä¸­æ–­è¯·æ±‚ï¼ˆæ¥è‡ªå…¶å®ƒçº¿ç¨‹/è‡ªèº«ï¼‰ã€‚ çº¿ç¨‹ t1 æƒ³ä¸­æ–­çº¿ç¨‹ t2ï¼Œåªéœ€è¦åœ¨çº¿ç¨‹ t1 ä¸­å°†çº¿ç¨‹ t2 å¯¹è±¡çš„ä¸­æ–­æ ‡è¯†ç½®ä¸º trueï¼Œç„¶åçº¿ç¨‹ t2 å¯ä»¥é€‰æ‹©åœ¨åˆé€‚çš„æ—¶å€™å¤„ç†è¯¥ä¸­æ–­è¯·æ±‚ï¼Œç”šè‡³å¯ä»¥ä¸ç†ä¼šè¯¥è¯·æ±‚ï¼Œå°±åƒè¿™ä¸ªçº¿ç¨‹æ²¡æœ‰è¢«ä¸­æ–­ä¸€æ ·ã€‚ java.lang.Thread ç±»æä¾›äº†å‡ ä¸ªæ–¹æ³•æ¥æ“ä½œè¿™ä¸ªä¸­æ–­çŠ¶æ€ï¼Œè¿™äº›æ–¹æ³•åŒ…æ‹¬ï¼š
public static booleanÂ interrupted()ï¼šæµ‹è¯•å½“å‰çº¿ç¨‹æ˜¯å¦å·²ç»ä¸­æ–­ã€‚çº¿ç¨‹çš„ä¸­æ–­çŠ¶æ€ç”±è¯¥æ–¹æ³•æ¸…é™¤ã€‚æ¢å¥è¯è¯´ï¼Œå¦‚æœè¿ç»­ä¸¤æ¬¡è°ƒç”¨è¯¥æ–¹æ³•ï¼Œåˆ™ç¬¬äºŒæ¬¡è°ƒç”¨å°†è¿”å› falseï¼ˆåœ¨ç¬¬ä¸€æ¬¡è°ƒç”¨å·²æ¸…é™¤äº†å…¶ä¸­æ–­çŠ¶æ€ä¹‹åï¼Œä¸”ç¬¬äºŒæ¬¡è°ƒç”¨æ£€éªŒå®Œä¸­æ–­çŠ¶æ€å‰ï¼Œå½“å‰çº¿ç¨‹å†æ¬¡ä¸­æ–­çš„æƒ…å†µé™¤å¤–ï¼‰ã€‚ public booleanÂ isInterrupted()ï¼šæµ‹è¯•ç›®æ ‡çº¿ç¨‹ï¼ˆç”±å…·ä½“Threadå®ä¾‹å†³å®šï¼‰æ˜¯å¦å·²ç»ä¸­æ–­ã€‚çº¿ç¨‹çš„ä¸­æ–­çŠ¶æ€ä¸å—è¯¥æ–¹æ³•çš„å½±å“ã€‚ public voidÂ interrupt()ï¼šä¸­æ–­ç›®æ ‡çº¿ç¨‹ï¼Œç»™ç›®æ ‡çº¿ç¨‹å‘ä¸€ä¸ªä¸­æ–­ä¿¡å·ï¼Œçº¿ç¨‹è¢«æ‰“ä¸Šä¸­æ–­æ ‡è®°å³å°†ä¸­æ–­çŠ¶æ€è®¾ç½®ä¸ºtrueã€‚ å“åº”ä¸­æ–­ å‡è®¾æŸä¸ªçº¿ç¨‹è¦ä¸åœåœ°å¤„ç†æŸä»¶äº‹æƒ…(æ¯”å¦‚ i ä¸€ç›´è‡ªå¢)ï¼Œä½†æ˜¯è¿˜æœ‰ä¸ªè¦æ±‚ï¼šåœ¨å¤„ç†äº‹æƒ…å‰ï¼Œå…ˆè¦æ£€æŸ¥ä¸‹è¿™ä¸ªçº¿ç¨‹æ˜¯å¦è¢«ä¸­æ–­ï¼Œå¦‚æœå·²ç»è¢«ä¸­æ–­ï¼Œå¤„ç†å°±åº”è¯¥ç»“æŸã€‚
ä¸‹é¢æ˜¯ä¸€äº›ä¾‹å­ï¼š
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 public class Run { public static void main(String[] args) { try { MyThread thread = new MyThread(); thread.</description></item><item><title>ä¸´ç•ŒåŒº</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E4%B8%B4%E7%95%8C%E5%8C%BA/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E4%B8%B4%E7%95%8C%E5%8C%BA/</guid><description>ä¸´ç•ŒåŒº critical section
ä¸€æ®µä»£ç å—å†…å¦‚æœå­˜åœ¨å †å…±äº«èµ„æºçš„å¤šçº¿ç¨‹è¯»å†™æ“ä½œï¼Œç§°è¿™æ®µä»£ç å—ä¸ºä¸´ç•ŒåŒºã€‚
1 2 3 4 5 6 7 8 9 10 11 12 13 static int counter = 0; static void increment() // ä¸´ç•ŒåŒº { counter++; } static void decrement() // ä¸´ç•ŒåŒº { counter--; }</description></item><item><title>ä¹è§‚é”</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E4%B9%90%E8%A7%82%E9%94%81/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E4%B9%90%E8%A7%82%E9%94%81/</guid><description>ä¹è§‚é” ä¹è§‚é”åˆç§°ä¸ºâ€œæ— é”â€ï¼Œé¡¾åæ€ä¹‰ï¼Œå®ƒæ˜¯ä¹è§‚æ´¾ã€‚ä¹è§‚é”æ€»æ˜¯å‡è®¾å¯¹å…±äº«èµ„æºçš„è®¿é—®æ²¡æœ‰å†²çªï¼Œ[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_3-è½¯ä»¶ç³»ç»Ÿ/2_0_2_1_2_3_1-æ“ä½œç³»ç»Ÿ/çº¿ç¨‹|çº¿ç¨‹]]å¯ä»¥ä¸åœåœ°æ‰§è¡Œï¼Œæ— éœ€åŠ é”ä¹Ÿæ— éœ€ç­‰å¾…ã€‚è€Œä¸€æ—¦å¤šä¸ªçº¿ç¨‹å‘ç”Ÿå†²çªï¼Œä¹è§‚é”é€šå¸¸æ˜¯ä½¿ç”¨ä¸€ç§ç§°ä¸º[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/CAS|CAS]]çš„æŠ€æœ¯æ¥ä¿è¯çº¿ç¨‹æ‰§è¡Œçš„å®‰å…¨æ€§ã€‚
ç”±äºæ— é”æ“ä½œä¸­æ²¡æœ‰é”çš„å­˜åœ¨ï¼Œå› æ­¤ä¸å¯èƒ½å‡ºç°æ­»é”çš„æƒ…å†µï¼Œä¹Ÿå°±æ˜¯è¯´ä¹è§‚é”å¤©ç”Ÿå…ç–«æ­»é”ã€‚
ä¹è§‚é”å¤šç”¨äºâ€œè¯»å¤šå†™å°‘â€œçš„ç¯å¢ƒï¼Œé¿å…é¢‘ç¹åŠ é”å½±å“æ€§èƒ½ï¼›è€Œ[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_3-è½¯ä»¶ç³»ç»Ÿ/2_0_2_1_2_3_1-æ“ä½œç³»ç»Ÿ/æ‚²è§‚é”|æ‚²è§‚é”]]å¤šç”¨äºâ€å†™å¤šè¯»å°‘â€œçš„ç¯å¢ƒï¼Œé¿å…é¢‘ç¹å¤±è´¥å’Œé‡è¯•å½±å“æ€§èƒ½ã€‚</description></item><item><title>äºŒåˆ†æŸ¥æ‰¾</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_0_2_1-%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_0_2_1-%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE/</guid><description>äºŒåˆ†æŸ¥æ‰¾ https://www.zhihu.com/question/36132386
äºŒåˆ†æŸ¥æ‰¾çš„é‡ç‚¹ å°†æ•°æ®åˆ†æˆä¸‰ä¸ªåŒºé—´ å·¦ ä¸­ å³ å·¦ å³æ˜¯å·²ç»æœç´¢è¿‡çš„åŒºé—´ï¼Œä¸­é—´æ˜¯å¾…æœç´¢åŒºé—´ åŒºé—´å…¨éƒ¨é‡‡ç”¨å·¦é—­å³å¼€ æœç´¢åŒºé—´ æœç´¢çš„è¿‡ç¨‹å°±æ˜¯å°½é‡æ‰©å¤§å·¦ å³ åŒºé—´çš„èŒƒå›´ï¼Œæœ€ç»ˆæ¶ˆç­ä¸­é—´åŒºé—´ å¯èƒ½çš„ç›®æ ‡ä¼šå‡ºç°åœ¨å››ä¸ªä½ç½®ï¼š å·¦åŒºé—´ä¸‹ç•Œ ä¸­åŒºé—´ä¸Šç•Œ ä¸­åŒºé—´ä¸‹ç•Œ å³åŒºé—´ä¸Šç•Œ ![[z-oblib/z2-attachments/Pasted image 20220426105510.png]] å››ç§æƒ…å†µä¸¤ä¸¤å·®åˆ«ä¸€ä½ï¼Œå› æ­¤å¯ä»¥é€šè¿‡ å¦‚ä½•å–ä¸­ç‚¹ 1 2 3 4 5 // é€šç”¨ mid = first + (last - first) / 2; // java &amp;gt;&amp;gt;&amp;gt; ä¸ºå¸¦ç¬¦å·ä½ç§»ï¼Œæº¢å‡ºåˆ°ç¬¦å·ä½çš„æ•°å­—ä¼šç§»å›æ¥ mid = (first+last) &amp;gt;&amp;gt;&amp;gt; 1; å¤„ç†ä¸­ç‚¹ 1 2 3 4 5 6 def lower_bound(array, first, last, value): while first &amp;lt; last: # æœç´¢åŒºé—´[first, last)ä¸ä¸ºç©º mid = first + (last - first) // 2 # é˜²æº¢å‡º if array[mid] &amp;lt; value: first = mid + 1 else: last = mid return first # lastä¹Ÿè¡Œï¼Œå› ä¸ºæ­¤æ—¶é‡åˆ å¯¹ä¸­é—´çš„å¤„ç†å®é™…ä¸Šå°±æ˜¯å†³å®šæŠŠç»ˆç‚¹å½’å…¥å·¦åŒºé—´è¿˜æ˜¯å³åŒºé—´ã€‚</description></item><item><title>äºŒçº§é¡µè¡¨</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_0_1-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E4%BA%8C%E7%BA%A7%E9%A1%B5%E8%A1%A8/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_0_1-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E4%BA%8C%E7%BA%A7%E9%A1%B5%E8%A1%A8/</guid><description>äºŒçº§é¡µè¡¨ äºŒçº§é¡µè¡¨çš„ä½œç”¨ï¼š
é¡µè¡¨æœ¬èº«ä¹Ÿå ç”¨å†…å­˜ç©ºé—´ï¼Œä¸”è¿˜ä¸å°ï¼Œè€Œç¨‹åºè¿è¡Œæ—¶ä¹Ÿä¸ä¸€å®šè¦æŠŠæ‰€æœ‰é¡µè¡¨éƒ½è½½å…¥åˆ°å†…å­˜ã€‚
æ‰€ä»¥è¿é¡µè¡¨æœ¬èº«ä¹Ÿå¯ä»¥éƒ¨åˆ†è½½å…¥å†…å­˜ï¼Œè¿™å°±éœ€è¦å¯¹é¡µè¡¨ä¹Ÿåˆ†æ®µï¼Œå½¢æˆäºŒçº§é¡µè¡¨ç»“æ„ã€‚</description></item><item><title>äº«å…ƒæ¨¡å¼</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_1-%E8%BD%AF%E4%BB%B6%E6%96%B9%E6%B3%95%E5%AD%A6/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E4%BA%AB%E5%85%83%E6%A8%A1%E5%BC%8F/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_1-%E8%BD%AF%E4%BB%B6%E6%96%B9%E6%B3%95%E5%AD%A6/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E4%BA%AB%E5%85%83%E6%A8%A1%E5%BC%8F/</guid><description>äº«å…ƒæ¨¡å¼ å¯ä»¥ç”¨æ¥è§£å†³[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/ä¿æŠ¤æ€§æ‹·è´|ä¿æŠ¤æ€§æ‹·è´]]é¢‘ç¹åˆ›å»ºå¯¹è±¡å¼€é”€è¿‡å¤§çš„é—®é¢˜ã€‚ é‡ç”¨æ•°é‡æœ‰é™çš„åŒä¸€ç±»å¯¹è±¡ã€‚
è‹±æ–‡åç§°ï¼šFlyweight patternã€‚
wikipediaï¼š A ï¬‚yweight is an object that minimizes memory usage by sharing as much data as possible with other similar objects
ç”¨ä¾‹ åŒ…è£…ç±» åœ¨JDKä¸­ Booleanï¼ŒByteï¼ŒShortï¼ŒIntegerï¼ŒLongï¼ŒCharacter ç­‰åŒ…è£…ç±»æä¾›äº† valueOf æ–¹æ³•ï¼Œä¾‹å¦‚ Long çš„ valueOf ä¼šç¼“å­˜ -128~127 ä¹‹é—´çš„ Long å¯¹è±¡ï¼Œåœ¨è¿™ä¸ªèŒƒå›´ä¹‹é—´ä¼šé‡ç”¨å¯¹è±¡ï¼Œå¤§äºè¿™ä¸ªèŒƒå›´ï¼Œæ‰ä¼šæ–°å»º Long å¯¹è±¡ï¼š
1 2 3 4 5 6 7 public static Long valueOf(long l) { final int offset = 128; if (l &amp;gt;= -128 &amp;amp;&amp;amp; l &amp;lt;= 127) { // will cache return LongCache.</description></item><item><title>ä»»åŠ¡è°ƒåº¦çº¿ç¨‹æ± </title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E4%BB%BB%E5%8A%A1%E8%B0%83%E5%BA%A6%E7%BA%BF%E7%A8%8B%E6%B1%A0/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E4%BB%BB%E5%8A%A1%E8%B0%83%E5%BA%A6%E7%BA%BF%E7%A8%8B%E6%B1%A0/</guid><description>ä»»åŠ¡è°ƒåº¦çº¿ç¨‹æ±  ç”¨æ¥ä»£æ›¿[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/Timer|Timer]]ã€‚
ScheduledExecutorService 1 2 3 4 5 6 7 8 9 ScheduledExecutorService executor = Executors.newScheduledThreadPool(2); // æ·»åŠ ä¸¤ä¸ªä»»åŠ¡ï¼Œå¸Œæœ›å®ƒä»¬éƒ½åœ¨ 1s åæ‰§è¡Œ executor.schedule(() -&amp;gt; { System.out.println(&amp;#34;ä»»åŠ¡1ï¼Œæ‰§è¡Œæ—¶é—´ï¼š&amp;#34; + new Date()); try { Thread.sleep(2000); } catch (InterruptedException e) { } }, 1000, TimeUnit.MILLISECONDS); executor.schedule(() -&amp;gt; { System.out.println(&amp;#34;ä»»åŠ¡2ï¼Œæ‰§è¡Œæ—¶é—´ï¼š&amp;#34; + new Date()); }, 1000, TimeUnit.MILLISECONDS); scheduleAtFixedRate 1 2 3 4 5 6 7 8 9 ScheduledExecutorService executor = Executors.newScheduledThreadPool(2); // æ·»åŠ ä¸¤ä¸ªä»»åŠ¡ï¼Œå¸Œæœ›å®ƒä»¬éƒ½åœ¨ 1s åæ‰§è¡Œ executor.</description></item><item><title>ä¼ªå…±äº«</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E4%BC%AA%E5%85%B1%E4%BA%AB/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E4%BC%AA%E5%85%B1%E4%BA%AB/</guid><description>ä¼ªå…±äº« ç»™æ•°æ®åŠ å¡«å……è®©æ•°ç»„çš„æ¯ä¸ªå…ƒç´ åœ¨ç¼“å­˜ä¸­å¼ºåˆ¶æ¢è¡Œï¼Œå°†cpuç¼“å­˜ä¸­çš„æ•°æ®æ‹†åˆ†æˆå¤šè¡Œï¼Œé˜²æ­¢æ•°æ®æŒ¨åœ¨ä¸€èµ·åè¢«è¿åå¯¼è‡´ç¼“å­˜é›†ä½“å¤±æ•ˆã€‚
å› ä¸º CPU ä¸ å†…å­˜çš„é€Ÿåº¦å·®å¼‚å¾ˆå¤§ï¼Œéœ€è¦é é¢„è¯»æ•°æ®è‡³ç¼“å­˜æ¥æå‡æ•ˆç‡ã€‚ è€Œç¼“å­˜ä»¥ç¼“å­˜è¡Œä¸ºå•ä½ï¼Œæ¯ä¸ªç¼“å­˜è¡Œå¯¹åº”ç€ä¸€å—å†…å­˜ï¼Œä¸€èˆ¬æ˜¯ 64 byteï¼ˆ8 ä¸ª longï¼‰ï¼Œç¼“å­˜çš„åŠ å…¥ä¼šé€ æˆæ•°æ®å‰¯æœ¬çš„äº§ç”Ÿï¼Œå³åŒä¸€ä»½æ•°æ®ä¼šç¼“å­˜åœ¨ä¸åŒæ ¸å¿ƒçš„ç¼“å­˜è¡Œä¸­ã€‚ CPU è¦ä¿è¯æ•°æ®çš„ä¸€è‡´æ€§ï¼Œå¦‚æœæŸä¸ª CPU æ ¸å¿ƒæ›´æ”¹äº†æ•°æ®ï¼Œå…¶å®ƒ CPU æ ¸å¿ƒå¯¹åº”çš„æ•´ä¸ªç¼“å­˜è¡Œå¿…é¡»å¤±æ•ˆï¼Œé™ä½æ•ˆç‡ã€‚
![[z-oblib/z2-attachments/Pasted image 20220602143831.png]]
å› ä¸º Cell æ˜¯æ•°ç»„å½¢å¼ï¼Œåœ¨å†…å­˜ä¸­æ˜¯è¿ç»­å­˜å‚¨çš„ï¼Œä¸€ä¸ª Cell ä¸º 24 å­—èŠ‚ï¼ˆ16 å­—èŠ‚çš„å¯¹è±¡å¤´å’Œ 8 å­—èŠ‚çš„ valueï¼‰ï¼Œå›  æ­¤ç¼“å­˜è¡Œå¯ä»¥å­˜ä¸‹ 2 ä¸ªçš„ Cell å¯¹è±¡ã€‚è¿™æ ·é—®é¢˜æ¥äº†ï¼š
Core-0 è¦ä¿®æ”¹ Cell[0] Core-1 è¦ä¿®æ”¹ Cell[1] æ— è®ºè°ä¿®æ”¹æˆåŠŸï¼Œéƒ½ä¼šå¯¼è‡´å¯¹æ–¹ Core çš„ç¼“å­˜è¡Œå¤±æ•ˆï¼Œæ¯”å¦‚ Core-0 ä¸­ Cell[0]=6000, Cell[1]=8000 è¦ç´¯åŠ  Cell[0]=6001, Cell[1]=8000 ï¼Œè¿™æ—¶ä¼šè®© Core-1 çš„ç¼“å­˜è¡Œå¤±æ•ˆã€‚
è§£å†³ @sun.misc.Contended ç”¨æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå®ƒçš„åŸç†æ˜¯åœ¨ä½¿ç”¨æ­¤æ³¨è§£çš„å¯¹è±¡æˆ–å­—æ®µçš„å‰åå„å¢åŠ  128 å­—èŠ‚å¤§å°çš„ paddingï¼Œä»è€Œè®© CPU å°†å¯¹è±¡é¢„è¯»è‡³ç¼“å­˜æ—¶å ç”¨ä¸åŒçš„ç¼“å­˜è¡Œï¼Œè¿™æ ·ï¼Œä¸ä¼šé€ æˆå¯¹æ–¹ç¼“å­˜è¡Œçš„å¤±æ•ˆã€‚
![[z-oblib/z2-attachments/Pasted image 20220602143930.png]]</description></item><item><title>ä¿æŠ¤æ€§æ‹·è´</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E4%BF%9D%E6%8A%A4%E6%80%A7%E6%8B%B7%E8%B4%9D/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E4%BF%9D%E6%8A%A4%E6%80%A7%E6%8B%B7%E8%B4%9D/</guid><description>ä¿æŠ¤æ€§æ‹·è´ å…ˆå¤åˆ¶åˆ°æœ¬åœ°ï¼Œå†åšä¿®æ”¹
ä½¿ç”¨å­—ç¬¦ä¸²æ—¶ï¼Œä¹Ÿæœ‰ä¸€äº›è·Ÿä¿®æ”¹ç›¸å…³çš„æ–¹æ³•å•Šï¼Œæ¯”å¦‚ substring ç­‰ï¼Œé‚£ä¹ˆä¸‹é¢å°±çœ‹ä¸€çœ‹è¿™äº›æ–¹æ³•æ˜¯å¦‚ä½•å®ç°çš„ï¼Œå°±ä»¥ substring ä¸ºä¾‹ï¼š
1 2 3 4 5 6 7 8 9 10 11 12 13 public String substring(int beginIndex) { // è¾¹ç•Œæ£€æŸ¥ if (beginIndex &amp;lt; 0) { throw new StringIndexOutOfBoundsException(beginIndex); } int subLen = value.length - beginIndex; if (subLen &amp;lt; 0) { throw new StringIndexOutOfBoundsException(subLen); } // newä¸€ä¸ªString return (beginIndex == 0) ? this : new String(value, beginIndex, subLen); } å‘ç°å…¶å†…éƒ¨æ˜¯è°ƒç”¨ String çš„æ„é€ æ–¹æ³•åˆ›å»ºäº†ä¸€ä¸ªæ–°å­—ç¬¦ä¸²ï¼Œå†è¿›å…¥è¿™ä¸ªæ„é€ çœ‹çœ‹ï¼Œæ˜¯å¦å¯¹ ï¬nal char[] value åšå‡º äº†ä¿®æ”¹ï¼š</description></item><item><title>ä¿æŠ¤æ€§æš‚åœ</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_1-%E8%BD%AF%E4%BB%B6%E6%96%B9%E6%B3%95%E5%AD%A6/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E4%BF%9D%E6%8A%A4%E6%80%A7%E6%9A%82%E5%81%9C/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_1-%E8%BD%AF%E4%BB%B6%E6%96%B9%E6%B3%95%E5%AD%A6/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E4%BF%9D%E6%8A%A4%E6%80%A7%E6%9A%82%E5%81%9C/</guid><description>ä¿æŠ¤æ€§æš‚åœ åŸºæœ¬å®ç° Guarded Suspensionï¼šç”¨äºä¸€ä¸ª[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_3-è½¯ä»¶ç³»ç»Ÿ/2_0_2_1_2_3_1-æ“ä½œç³»ç»Ÿ/çº¿ç¨‹|çº¿ç¨‹]]ç­‰å¾…å¦ä¸€ä¸ªçº¿ç¨‹çš„æ‰§è¡Œç»“æœï¼Œåªé€‚ç”¨äºäº§ç”Ÿä¸€ä¸ªæ¶ˆæ¯çš„æƒ…å†µã€‚
æœ‰ä¸€ä¸ªç»“æœéœ€è¦ä»ä¸€ä¸ªçº¿ç¨‹ä¼ é€’åˆ°å¦ä¸€ä¸ªçº¿ç¨‹ï¼Œè®©ä»–ä»¬å…³è”åŒä¸€ä¸ª GuardedObjectã€‚ å¦‚æœæœ‰ç»“æœä¸æ–­ä»ä¸€ä¸ªçº¿ç¨‹åˆ°å¦ä¸€ä¸ªçº¿ç¨‹é‚£ä¹ˆå¯ä»¥ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆè§ç”Ÿäº§è€…/æ¶ˆè´¹è€…ï¼‰ã€‚ JDK ä¸­ï¼Œ[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/join|join]] çš„å®ç°ã€Future çš„å®ç°ï¼Œé‡‡ç”¨çš„å°±æ˜¯æ­¤æ¨¡å¼ã€‚ å› ä¸ºè¦ç­‰å¾…å¦ä¸€æ–¹çš„ç»“æœï¼Œå› æ­¤å½’ç±»åˆ°[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_3-è½¯ä»¶ç³»ç»Ÿ/2_0_2_1_2_3_1-æ“ä½œç³»ç»Ÿ/åŒæ­¥|åŒæ­¥]]æ¨¡å¼ã€‚ ![[z-oblib/z2-attachments/Pasted image 20220528230352.png]]
äº§ç”Ÿç»“æœçš„çº¿ç¨‹å’Œæ¶ˆè´¹ç»“æœçš„çº¿ç¨‹è¦ä¸€ä¸€å¯¹åº”ã€‚
å®ç° 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 @Slf4j public class Test10GuardedSuspention { public static void main(String[] args) { // T1 ç­‰å¾… T2 ä¸‹è½½ç»“æœ GuardedObj go = new GuardedObj(); new Thread(()-&amp;gt;{ log.</description></item><item><title>ä¿¡å·</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E4%BF%A1%E5%8F%B7/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E4%BF%A1%E5%8F%B7/</guid><description>ä¿¡å· Linuxä¸­çš„ç»å¤§å¤šæ•°ä¿¡å·éƒ½æ˜¯ç”±å†…æ ¸å‘é€çš„ï¼Œæ‰€ä»¥åœ¨å‘é€ä¿¡å·ç»™æŸ[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_3-è½¯ä»¶ç³»ç»Ÿ/2_0_2_1_2_3_1-æ“ä½œç³»ç»Ÿ/è¿›ç¨‹|è¿›ç¨‹]]ä¹‹å‰ï¼Œéœ€è¦å…ˆé™·å…¥å†…æ ¸ã€‚
Linuxä¸­å®šä¹‰äº†å¾ˆå¤šä¿¡å·ç±»å‹ï¼Œè¿™äº›ä¿¡å·éƒ½æœ‰é»˜è®¤çš„å¤„ç†æ–¹å¼ï¼ˆä¾‹å¦‚çº¢ç¯äº®çš„ä¿¡å·ï¼Œäººçš„é»˜è®¤å¤„ç†æ–¹å¼æ˜¯åœä¸‹ï¼‰ï¼Œä½†ç¨‹åºå†…ä¹Ÿå¯ä»¥è‡ªå®šä¹‰ä¿¡å·çš„å¤„ç†æ–¹å¼ï¼ˆä¾‹å¦‚ï¼Œçº¢ç¯äº®äº†åä¸åœï¼‰ã€‚å½“å†…æ ¸å°†ç›¸å…³ä¿¡å·å‘é€ç»™è¿›ç¨‹ï¼Œè¯¥è¿›ç¨‹æ¥æ”¶åˆ°è¿™äº›ä¿¡å·åï¼Œä¼šè§¦å‘å¯¹åº”çš„ä¿¡å·å¤„ç†ç¨‹åºå»å¤„ç†è¯¥ä¿¡å·ï¼Œä»è€Œæ‰“æ–­è¯¥è¿›ç¨‹çš„æ­£å¸¸æ‰§è¡Œæµç¨‹ã€‚
åœ¨shellä¸­ï¼Œä¹Ÿæ”¯æŒä¿¡å·æœºåˆ¶ï¼Œå¯é€šè¿‡killå‘½ä»¤å‘é€ä¿¡å·ç»™æŒ‡å®šè¿›ç¨‹ã€‚å¯èƒ½è¿™é‡Œä¼šå‡ºç°ä¸€ä¸ªç–‘æƒ‘ï¼Œåˆšæ‰è¯´ä¿¡å·ç»å¤§å¤šæ•°æ˜¯ç”±å†…æ ¸å‘é€çš„ï¼Œä¸ºä»€ä¹ˆkillå‘½ä»¤ï¼ˆbashä¸‹æœ‰ä¸¤ä¸ªkillå‘½ä»¤ï¼Œä¸€ä¸ªæ˜¯bashå†…ç½®killå‘½ä»¤ï¼Œä¸€ä¸ªæ˜¯å¤–ç½®killå‘½ä»¤ï¼Œä½†æ— è®ºå¦‚ä½•ï¼Œéƒ½æ˜¯ç”¨æˆ·è¿›ç¨‹ï¼‰å¯¹åº”çš„è¿›ç¨‹èƒ½å¤Ÿå‘é€ä¿¡å·ç»™å…¶å®ƒè¿›ç¨‹ï¼Ÿè¿™æ˜¯å› ä¸ºkillå‘é€çš„ä¿¡å·å…ˆæ˜¯ä¼ é€’ç»™å†…æ ¸çš„ï¼Œå†…æ ¸å†å°†è¿™ä¸ªä¿¡å·ä¼ é€’ç»™å¯¹åº”è¿›ç¨‹ã€‚æ‰€ä»¥è¿™é‡Œéœ€è¦è¿›è¡Œä¸€æ¬¡[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/ä¸Šä¸‹æ–‡åˆ‡æ¢|ä¸Šä¸‹æ–‡åˆ‡æ¢]]ã€‚
![[z-oblib/z2-attachments/Pasted image 20220803161416.png]]</description></item><item><title>ä¿¡å·é‡</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E4%BF%A1%E5%8F%B7%E9%87%8F/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E4%BF%A1%E5%8F%B7%E9%87%8F/</guid><description>ä¿¡å·é‡ ä¿¡å·é‡ï¼ˆ[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/Semaphore|Semaphore]]ï¼‰ä¹Ÿç§°ä¸ºä¿¡å·ç¯ï¼Œå…¸æ•…æ¥æºäºè·å…°ï¼šç«è½¦æ ¹æ®æ——æ ‡æ¥å†³å®šæ˜¯å¦é€šè¡Œã€‚ é€šè¿‡çº¢ç»¿ç¯ç†è§£[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_3-è½¯ä»¶ç³»ç»Ÿ/2_0_2_1_2_3_1-æ“ä½œç³»ç»Ÿ/ä¿¡å·|ä¿¡å·]]å’Œä¿¡å·é‡ï¼Œæ„Ÿè§‰å®ƒä»¬ä¼¼ä¹æ˜¯ä¸€æ ·çš„ã€‚ä½†æ˜¯ï¼Œä¿¡å·é‡æœºåˆ¶æ˜¯æ ¹æ®çº¢ç»¿ç¯çš„äº‹ä»¶è®©äººç­‰å¾…ï¼ˆè¿›ç¨‹é˜»å¡ï¼‰æˆ–ä¸ç­‰å¾…ï¼ˆè¿›ç¨‹ç»§ç»­è¿è¡Œï¼‰ï¼Œåªæœ‰è¿™ä¸¤ç§è¡Œä¸ºï¼›è€Œä¿¡å·æœºåˆ¶æ˜¯æ ¹æ®çº¢ç»¿ç¯äº‹ä»¶åšå‡ºä»»ä½•å¯èƒ½çš„å¤„ç†ï¼Œå¹¶ä¸ä¸€å®šæ˜¯ç­‰å¾…ï¼ˆé˜»å¡ï¼‰æˆ–å‰è¡Œï¼ˆä¸é˜»å¡ï¼‰ã€‚
![[z-oblib/z2-attachments/Pasted image 20220803161603.png]]
ä¿¡å·é‡æœ‰å¾ˆå¤šç§å˜ä½“ï¼Œä¸‹é¢ç®€å•æè¿°å…¶ä¸­ä¸€ç§ä¿¡å·é‡çš„è§„åˆ™ï¼š
åœ¨è·å…°æ–‡ä¸­ï¼Œé€šè¿‡å«passerenï¼Œé‡Šæ”¾å«vrijgevenï¼ŒPVæ“ä½œå› æ­¤å¾—åã€‚
å¦‚æœä¸€ä¸ªè¿›ç¨‹è¯·æ±‚Pæ“ä½œ(å‡1æ“ä½œï¼Œå³è¯·æ±‚ä¸€ä¸ªä¿¡å·ç¯)ï¼Œå¦‚æœå‡å»ä¹‹åä¿¡å·é‡çš„æ•°å€¼ä¸ºè´Ÿæ•°ï¼Œåˆ™è¯¥è¿›ç¨‹è¢«é˜»å¡ï¼Œå¦‚æœå‡å»ä¹‹åä¸º0æˆ–æ­£æ•°ï¼Œåˆ™æ”¾è¡Œè¯¥è¿›ç¨‹ å¦‚æœä¸€ä¸ªè¿›ç¨‹è¯·æ±‚Væ“ä½œ(åŠ 1æ“ä½œï¼Œå³é‡Šæ”¾æˆ–å¢åŠ ä¸€ä¸ªä¿¡å·ç¯)ï¼Œè¿›ç¨‹ç›´æ¥æ”¾è¡Œ å¦‚æœè¯·æ±‚Væ“ä½œï¼Œå¦‚æœåŠ 1ä¹‹åä»ä¸º0æˆ–è´Ÿæ•°ï¼Œåˆ™æ”¾è¡Œè¯¥è¿›ç¨‹çš„åŒæ—¶è¿˜å”¤é†’å¦ä¸€ä¸ªè¢«é˜»å¡çš„è¿›ç¨‹ã€‚å¦‚æœåŠ 1åä¸ºæ­£æ•°ï¼Œåˆ™ç›´æ¥æ·»åŠ ä¸€ä¸ªä¿¡å·ç¯èµ„æº æ€»ç»“èµ·æ¥å¾ˆç®€å•ï¼šå¦‚æœå½“å‰æ²¡æœ‰ä¿¡å·ç¯èµ„æº(å°äºæˆ–ç­‰äº0)ï¼Œé‚£ä¹ˆæ¶ˆè´¹ä¿¡å·ç¯(PåŸè¯­)çš„è¿›ç¨‹å°±ä¼šè¢«é˜»å¡ï¼›å¦‚æœæœ‰ä¿¡å·ç¯èµ„æº(å¤§äº0)ï¼Œå°±ç›´æ¥æ”¾è¡Œã€‚å¦‚æœä¸€ä¸ªè¿›ç¨‹æ˜¯æ¥ç”Ÿäº§ä¿¡å·ç¯èµ„æºçš„(VåŸè¯­)ï¼Œé‚£ä¹ˆè¿™ä¸ªè¿›ç¨‹å½“ç„¶è¦æ”¾è¡Œï¼›å› ä¸ºæ·»åŠ äº†ä¸€ä¸ªä¿¡å·ç¯ï¼Œé‚£ä¹ˆè¿˜å¯ä»¥æ‹¥æœ‰å”¤é†’ä¸€ä¸ªè¢«é˜»å¡è¿›ç¨‹çš„èƒ½åŠ›(å¦‚æœæœ‰è¢«é˜»å¡è¿›ç¨‹çš„è¯)ã€‚
æœ€ç®€å•çš„ä¿¡å·é‡å½“ç„¶æ˜¯åˆå§‹æ—¶åªä½¿ç”¨1ä¸ªä¿¡å·ç¯ï¼Œä»è€Œå®ç°äº’æ–¥é”ï¼ˆä¹Ÿç§°ä¸ºäº’æ–¥é‡ï¼‰æœºåˆ¶ï¼šPæ˜¯ç”³è¯·é”æ“ä½œï¼Œåªæœ‰åœ¨æœ‰å€¼ä¸º1çš„æ—¶å€™æ‰èƒ½ç”³è¯·é”ï¼Œå¦åˆ™è¢«é˜»å¡ï¼›Væ˜¯é‡Šæ”¾é”ï¼Œä¸€ç›´è¢«æ”¾è¡Œã€‚</description></item><item><title>åå‘é”</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E5%81%8F%E5%90%91%E9%94%81/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E5%81%8F%E5%90%91%E9%94%81/</guid><description>åå‘é” å­˜åœ¨ç¼˜ç”± è½»é‡çº§é”åœ¨æ²¡æœ‰ç«äº‰æ—¶ï¼Œæ¯æ¬¡[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/è½»é‡çº§é”#è·å–é”|åœ¨5.2é‡å…¥é”æ—¶]]éƒ½è¦é‡å¤æ‰§è¡Œ[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/CAS|CAS]]æ“ä½œï¼Œä¾‹å¦‚ï¼š
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 static final Object obj = new Object(); public static void m1() { synchronized( obj ) { // åŒæ­¥å— A m2(); } } public static void m2() { synchronized( obj ) { // åŒæ­¥å— B m3(); } } public static void m3() { synchronized( obj ) { // åŒæ­¥å— C } } å¯¹åº”è½»é‡çº§é”ï¼š</description></item><item><title>å…±äº«å†…å­˜</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E5%85%B1%E4%BA%AB%E5%86%85%E5%AD%98/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E5%85%B1%E4%BA%AB%E5%86%85%E5%AD%98/</guid><description>å…±äº«å†…å­˜ å…±äº«å†…å­˜ï¼ˆShared Memoryï¼‰æ˜¯ç›´æ¥ä»å†…æ ¸ç»´æŠ¤çš„å†…å­˜ä¸­åˆ’åˆ†ä¸€ç‰‡å†…å­˜ï¼Œå¹¶å°†è¯¥å†…å­˜æ˜ å°„åˆ°ä¸€ä¸ªæˆ–å¤šä¸ª[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_3-è½¯ä»¶ç³»ç»Ÿ/2_0_2_1_2_3_1-æ“ä½œç³»ç»Ÿ/è¿›ç¨‹|è¿›ç¨‹]]ä¸­ã€‚
å› ä¸ºå¯èƒ½å¤šä¸ªè¿›ç¨‹æ˜ å°„åˆ°åŒä¸€å…±äº«å†…å­˜ï¼Œæ‰€ä»¥æŸè¿›ç¨‹å¯¹æ­¤å†…å­˜æ•°æ®çš„ä¿®æ”¹ä¼šç›´æ¥å½±å“å…¶å®ƒè¿›ç¨‹ï¼Œè¿™æ ·å°±èƒ½åœ¨è¿›ç¨‹ä¹‹é—´ä¼ é€’æ¶ˆæ¯ã€‚ä½†ä¹Ÿæ­£å› ä¸ºå¦‚æ­¤ï¼Œåœ¨ä½¿ç”¨å…±äº«å†…å­˜æ—¶ï¼Œåº”å½“ä¿è¯æ²¡æœ‰ä¸¤ä¸ªæˆ–ä»¥ä¸Šçš„è¿›ç¨‹åŒæ—¶ä¿®æ”¹å…±äº«å†…å­˜æ•°æ®ã€‚
å…±äº«å†…å­˜æ˜¯æ•ˆç‡æœ€é«˜çš„è¿›ç¨‹é—´é€šä¿¡æ–¹å¼ï¼Œå®ƒå®Œå…¨å†…å­˜åŒ–æ“ä½œï¼Œä¸”æ²¡æœ‰ä»»ä½•å†…å­˜æ‹·è´è¡Œä¸ºï¼Œæ­¤å¤–ï¼Œå†…å­˜æ˜ å°„åˆ°ä¸åŒè¿›ç¨‹ä¹‹åï¼Œæ“ä½œç³»ç»Ÿå°±ä¸å†å‚ä¸è¯¥ç‰‡å†…å­˜çš„æ“ä½œï¼Œç”¨æˆ·è¿›ç¨‹å¯ä»¥æœ‰æƒè®¿é—®è¿™æ®µå†…å­˜ã€‚
å†…å­˜å…±äº«å’Œ[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_3-è½¯ä»¶ç³»ç»Ÿ/2_0_2_1_2_3_1-æ“ä½œç³»ç»Ÿ/æ–‡ä»¶æ˜ å°„|æ–‡ä»¶æ˜ å°„]]éå¸¸åƒï¼Œä¸åŒä¹‹å¤„å°±åœ¨äºå…±äº«å†…å­˜æ²¡æœ‰å¯¹å…·ä½“çš„ç£ç›˜æ–‡ä»¶è¿›è¡Œæ˜ å°„ï¼Œè€Œæ˜¯ç›´æ¥æ˜ å°„ç‰©ç†å†…å­˜åˆ°è¿›ç¨‹ä¸­ã€‚æ‰€ä»¥ï¼Œå®ƒä¹Ÿæ˜ å°„åœ¨è¿›ç¨‹å †æ ˆä¸­é—´çš„é‚£ç‰‡æœªåˆ†é…å†…å­˜ä¸Šã€‚å¦‚å›¾ã€‚
![[z-oblib/z2-attachments/Pasted image 20220803160824.png]]</description></item><item><title>å†…å­˜æ¨¡å‹æ€»ç»“</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B%E6%80%BB%E7%BB%93/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B%E6%80%BB%E7%BB%93/</guid><description>å†…å­˜æ¨¡å‹æ€»ç»“ é‡ç‚¹è®¾è®¡åˆ°[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/1-é«˜çº§ç‰¹æ€§/JMM|JMM]]ä¸­ï¼š
[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/å¯è§æ€§|å¯è§æ€§]] - ç”± JVM ç¼“å­˜ä¼˜åŒ–å¼•èµ· [[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/æœ‰åºæ€§|æœ‰åºæ€§]] - ç”± JVM [[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_0_1-è®¡ç®—æœºç»„æˆåŸç†/æŒ‡ä»¤é‡æ’åº|æŒ‡ä»¤é‡æ’åº]]ä¼˜åŒ–å¼•èµ· [[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/happens-before|happens-before]] è§„åˆ™ åŸç†æ–¹é¢ CPU æŒ‡ä»¤[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_3-è½¯ä»¶ç³»ç»Ÿ/2_0_2_1_2_3_1-æ“ä½œç³»ç»Ÿ/å¹¶è¡Œ|å¹¶è¡Œ]] [[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/1-é«˜çº§ç‰¹æ€§/volatile|volatile]] æ¨¡å¼æ–¹é¢ [[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_1-è½¯ä»¶æ–¹æ³•å­¦/è®¾è®¡æ¨¡å¼/ä¸¤é˜¶æ®µç»ˆæ­¢|ä¸¤é˜¶æ®µç»ˆæ­¢]]æ¨¡å¼çš„ [[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/1-é«˜çº§ç‰¹æ€§/volatile|volatile]] æ”¹è¿› [[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_3-è½¯ä»¶ç³»ç»Ÿ/2_0_2_1_2_3_1-æ“ä½œç³»ç»Ÿ/åŒæ­¥|åŒæ­¥]]æ¨¡å¼ä¹‹ [[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_1-è½¯ä»¶æ–¹æ³•å­¦/è®¾è®¡æ¨¡å¼/Balking|balking]]</description></item><item><title>å†…éƒ¨ç±»</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/0-%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/%E5%86%85%E9%83%A8%E7%B1%BB/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/0-%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/%E5%86%85%E9%83%A8%E7%B1%BB/</guid><description>å†…éƒ¨ç±» è¢«å®šä¹‰åœ¨å¦ä¸€ä¸ªç±»çš„å†…éƒ¨ï¼Œæ‰€ä»¥ç§°ä¸ºå†…éƒ¨ç±»ï¼ˆNested Classï¼‰ã€‚Javaçš„å†…éƒ¨ç±»åˆ†ä¸ºå¥½å‡ ç§ï¼Œé€šå¸¸æƒ…å†µç”¨å¾—ä¸å¤šï¼Œä½†ä¹Ÿéœ€è¦äº†è§£å®ƒä»¬æ˜¯å¦‚ä½•ä½¿ç”¨çš„ã€‚
Inner Class 1 2 3 4 5 class Outer { class Inner { // å®šä¹‰äº†ä¸€ä¸ªInner Class } } ä¸Šè¿°å®šä¹‰çš„Outeræ˜¯ä¸€ä¸ªæ™®é€šç±»ï¼Œè€ŒInneræ˜¯ä¸€ä¸ªInner Classï¼Œå®ƒä¸æ™®é€šç±»æœ‰ä¸ªæœ€å¤§çš„ä¸åŒï¼Œå°±æ˜¯Inner Classçš„å®ä¾‹ä¸èƒ½å•ç‹¬å­˜åœ¨ï¼Œå¿…é¡»ä¾é™„äºä¸€ä¸ªOuter Classçš„å®ä¾‹ã€‚ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 public class Main { public static void main(String[] args) { Outer outer = new Outer(&amp;#34;Nested&amp;#34;); // å®ä¾‹åŒ–ä¸€ä¸ªOuter Outer.Inner inner = outer.</description></item><item><title>å†’æ³¡æ’åº</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_0_2_1-%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E5%86%92%E6%B3%A1%E6%8E%92%E5%BA%8F/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_0_2_1-%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E5%86%92%E6%B3%A1%E6%8E%92%E5%BA%8F/</guid><description>å†’æ³¡æ’åº</description></item><item><title>åˆ›å»ºå’Œè¿è¡Œçº¿ç¨‹</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E5%88%9B%E5%BB%BA%E5%92%8C%E8%BF%90%E8%A1%8C%E7%BA%BF%E7%A8%8B/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E5%88%9B%E5%BB%BA%E5%92%8C%E8%BF%90%E8%A1%8C%E7%BA%BF%E7%A8%8B/</guid><description>åˆ›å»ºå’Œè¿è¡Œçº¿ç¨‹ åˆ›å»ºæ—¶éƒ¨åˆ†ä½¿ç”¨äº†[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/1-é«˜çº§ç‰¹æ€§/lambda|lambda]]ç®€åŒ–ä»£ç ï¼Œä¸ºäº†ä¾¿äºç†è§£æœªå…¨éƒ¨ä½¿ç”¨ã€‚ æ–¹æ³•1 ç›´æ¥ä½¿ç”¨Thread 1 2 3 4 5 6 7 Thread t1 = new Thread() { @Override public void run() { log.debug(&amp;#34;running&amp;#34;); } }; t1.start(); æ–¹æ³•2 Threadé…åˆRunnable 1 2 3 Runnable runnable = () -&amp;gt; log.debug(&amp;#34;runnable&amp;#34;); // lambda Thread t2 = new Thread(runnable); t2.start(); æ–¹æ³•3 Threadé…åˆFutureTask [[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/FutureTask|FutureTask]]éœ€è¦ç”¨[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/Callable|Callable]]è¿›è¡Œå¯ä»¥å¤„ç†è¿”å›å€¼ã€‚
1 2 3 4 5 6 7 8 9 FutureTask&amp;lt;Integer&amp;gt; task = new FutureTask&amp;lt;&amp;gt;(new Callable&amp;lt;Integer&amp;gt;() { @Override public Integer call() throws Exception { log.</description></item><item><title>åŠ¨æ€ä»£ç†</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/1-%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7/%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/1-%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7/%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86/</guid><description>åŠ¨æ€ä»£ç† æ¡ˆä¾‹ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 public class DynamicProxySample { interface Greet { Object sayHello(String name); } public static void main(String[] args) { InvocationHandler handler = new InvocationHandler() { @Override public Object invoke(Object proxy, Method method, Object[] args) throws Throwable { System.out.println(&amp;#34;method: &amp;#34; + method.getName()); return args[0]; } }; Greet proxy = (Greet) Proxy.newProxyInstance(Greet.class.getClassLoader(), new Class[]{Greet.</description></item><item><title>åå˜</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/1-%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7/%E5%8D%8F%E5%8F%98/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/1-%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7/%E5%8D%8F%E5%8F%98/</guid><description>åå˜ å­ç±»å‹å¯ä»¥éšæ€§çš„è½¬æ¢ä¸ºçˆ¶ç±»å‹ã€‚</description></item><item><title>åè®®æ•°æ®å•å…ƒ</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_3-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E5%8D%8F%E8%AE%AE%E6%95%B0%E6%8D%AE%E5%8D%95%E5%85%83/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_3-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E5%8D%8F%E8%AE%AE%E6%95%B0%E6%8D%AE%E5%8D%95%E5%85%83/</guid><description>åè®®æ•°æ®å•å…ƒ Actually, there are five words commonly used when we talk about layers of reference models (or protocol stacks):Â data,Â segment,Â packet,Â frameÂ andÂ bit. And the term PDU (Protocol Data Unit) is a generic term used to refer to the packets in different layers of the OSI model. Thus PDU gives an abstract idea of the data packets. The PDU has a different meaning in different layers still we can use it as a common term.</description></item><item><title>å•ä¾‹æ¨¡å¼</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_1-%E8%BD%AF%E4%BB%B6%E6%96%B9%E6%B3%95%E5%AD%A6/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_1-%E8%BD%AF%E4%BB%B6%E6%96%B9%E6%B3%95%E5%AD%A6/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/</guid><description>å•ä¾‹æ¨¡å¼ çº¿ç¨‹å®‰å…¨çš„å®ç° æ‡’æ±‰å¼ï¼š [[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_1-è½¯ä»¶æ–¹æ³•å­¦/è®¾è®¡æ¨¡å¼/Balking|balking]]æ¨¡å¼ï¼š
1 2 3 4 5 6 7 8 9 10 11 12 13 public final class Singleton { private Singleton() { } private static Singleton INSTANCE = null; public static synchronized Singleton getInstance() { if (INSTANCE == null) { INSTANCE = new Singleton(); } return INSTANCE; } } åŒé‡æ ¡éªŒé” ç”±æ‡’æ±‰æ¨¡å¼æ”¹è¿›
å­˜åœ¨é—®é¢˜ç‰ˆ å¯ä»¥å‘ç°ä¸Šé¢çš„å®ç°é™¤äº†ç¬¬ä¸€æ¬¡å’Œç¬¬äºŒæ¬¡å¿…é¡»è¦é”ï¼Œåç»­åªè¦ç®€å•åˆ¤æ–­æ ‡å¿—ä½å³å¯ï¼Œæ‰€ä»¥å¤–é¢å¤šåŠ ä¸€å±‚åˆ¤æ–­æ ‡å¿—ï¼Œé˜²æ­¢åç»­ä¸å¿…è¦çš„é”æ“ä½œï¼š
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 public final class Singleton { private Singleton() { } private static Singleton INSTANCE = null; public static Singleton getInstance() { // é¦–æ¬¡è®¿é—®ä¼š[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_3-è½¯ä»¶ç³»ç»Ÿ/2_0_2_1_2_3_1-æ“ä½œç³»ç»Ÿ/åŒæ­¥|åŒæ­¥]]ï¼Œä½†ä¹‹åçš„è®¿é—®å°±æ²¡æœ‰synchronized if(INSTANCE == null) { synchronized(Singleton.</description></item><item><title>å•è°ƒæ ˆ</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_0_2_1-%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E5%8D%95%E8%B0%83%E6%A0%88/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_0_2_1-%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E5%8D%95%E8%B0%83%E6%A0%88/</guid><description>å•è°ƒæ ˆ https://www.cnblogs.com/liang24/p/14200734.html #TODO</description></item><item><title>åŸå­å¼•ç”¨</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E5%8E%9F%E5%AD%90%E5%BC%95%E7%94%A8/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E5%8E%9F%E5%AD%90%E5%BC%95%E7%94%A8/</guid><description>åŸå­å¼•ç”¨ AtomicReference AtomicMarkableReference AtomicStampedReference 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 class DecimalAccountSafeCas implements DecimalAccount { AtomicReference&amp;lt;BigDecimal&amp;gt; ref; public DecimalAccountSafeCas(BigDecimal balance) { ref = new AtomicReference&amp;lt;&amp;gt;(balance); } @Override public BigDecimal getBalance() { return ref.get(); } @Override public void withdraw(BigDecimal amount) { while (true) { BigDecimal prev = ref.get(); BigDecimal next = prev.</description></item><item><title>åŸå­æ€§</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E5%8E%9F%E5%AD%90%E6%80%A7/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E5%8E%9F%E5%AD%90%E6%80%A7/</guid><description>åŸå­æ€§</description></item><item><title>åŸå­æ“ä½œ</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/Java%E5%8E%9F%E5%AD%90%E6%93%8D%E4%BD%9C/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/Java%E5%8E%9F%E5%AD%90%E6%93%8D%E4%BD%9C/</guid><description>åŸå­æ“ä½œ JDKæä¾›äº†ä¸€äº›ç”¨äºåŸå­æ“ä½œçš„ç±»ï¼Œåœ¨java.util.concurrent.atomicåŒ…ä¸‹é¢ã€‚åœ¨JDK 11ä¸­ï¼Œæœ‰å¦‚ä¸‹17ä¸ªç±»ï¼š ![[z-oblib/z2-attachments/åŸå­ç±» 1.jpg]] ä»åå­—å°±å¯ä»¥çœ‹å¾—å‡ºæ¥è¿™äº›ç±»å¤§æ¦‚çš„ç”¨é€”ï¼š
åŸå­æ›´æ–°åŸºæœ¬ç±»å‹ åŸå­æ›´æ–°æ•°ç»„ åŸå­æ›´æ–°å¼•ç”¨ åŸå­æ›´æ–°å­—æ®µï¼ˆå±æ€§ï¼‰ ä»¥AtomicIntegerçš„getAndAdd(int delta)æ–¹æ³•ä¸ºä¾‹ å®é™…å°±æ˜¯è°ƒç”¨nativeæ–¹æ³•ï¼Œè·å–æŸä¸ªå¯¹è±¡å†…å­˜ç©ºé—´åç§»offsetå¤„çš„å˜é‡ï¼Œå¾ªç¯å°è¯•è·å–è¯¥å˜é‡çš„å€¼æ˜¯å¦ä¸çº¿ç¨‹æŒæœ‰å€¼ä¸€è‡´ï¼Œä¸€è‡´åˆ™æ›¿æ¢æˆç›®æ ‡å€¼ï¼Œä¸ä¸€è‡´è¡¨ç¤ºæœ‰å…¶å®ƒçº¿ç¨‹ä¿®æ”¹è¿‡äº†ã€‚
å…ˆçœ‹çœ‹è¿™ä¸ªæ–¹æ³•çš„æºç ï¼š
1 2 3 public final int getAndAdd(int delta) { return U.getAndAddInt(this, VALUE, delta); } è¿™é‡Œçš„Uå…¶å®å°±æ˜¯ä¸€ä¸ªUnsafeå¯¹è±¡ï¼š
1 private static final jdk.internal.misc.Unsafe U = jdk.internal.misc.Unsafe.getUnsafe(); æ‰€ä»¥å…¶å®AtomicIntegerç±»çš„getAndAdd(int delta)æ–¹æ³•æ˜¯è°ƒç”¨Unsafeç±»çš„æ–¹æ³•æ¥å®ç°çš„ï¼š
1 2 3 4 5 6 7 8 @HotSpotIntrinsicCandidate public final int getAndAddInt(Object o, long offset, int delta) { int v; do { v = getIntVolatile(o, offset); } while (!</description></item><item><title>åŸå­æ•°ç»„</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E5%8E%9F%E5%AD%90%E6%95%B0%E7%BB%84/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E5%8E%9F%E5%AD%90%E6%95%B0%E7%BB%84/</guid><description>åŸå­æ•°ç»„ AtomicIntegerArray AtomicLongArray AtomicReferenceArray 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 /** å‚æ•°1ï¼Œæä¾›æ•°ç»„ã€å¯ä»¥æ˜¯çº¿ç¨‹ä¸å®‰å…¨æ•°ç»„æˆ–çº¿ç¨‹å®‰å…¨æ•°ç»„ å‚æ•°2ï¼Œè·å–æ•°ç»„é•¿åº¦çš„æ–¹æ³• å‚æ•°3ï¼Œè‡ªå¢æ–¹æ³•ï¼Œå›ä¼  array, index å‚æ•°4ï¼Œæ‰“å°æ•°ç»„çš„æ–¹æ³• */ // supplier æä¾›è€… æ— ä¸­ç”Ÿæœ‰ ()-&amp;gt;ç»“æœ // function å‡½æ•° ä¸€ä¸ªå‚æ•°ä¸€ä¸ªç»“æœ (å‚æ•°)-&amp;gt;ç»“æœ , BiFunction (å‚æ•°1,å‚æ•°2)-&amp;gt;ç»“æœ // consumer æ¶ˆè´¹è€… ä¸€ä¸ªå‚æ•°æ²¡ç»“æœ (å‚æ•°)-&amp;gt;void, BiConsumer (å‚æ•°1,å‚æ•°2)-&amp;gt; private static &amp;lt;T&amp;gt; void demo( Supplier&amp;lt;T&amp;gt; arraySupplier, Function&amp;lt;T, Integer&amp;gt; lengthFun, BiConsumer&amp;lt;T, Integer&amp;gt; putConsumer, Consumer&amp;lt;T&amp;gt; printConsumer ) { List&amp;lt;Thread&amp;gt; ts = new ArrayList&amp;lt;&amp;gt;(); T array = arraySupplier.</description></item><item><title>åŸå­æ•´æ•°</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E5%8E%9F%E5%AD%90%E6%95%B4%E6%95%B0/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E5%8E%9F%E5%AD%90%E6%95%B4%E6%95%B0/</guid><description>åŸå­æ•´æ•° J.U.C å¹¶å‘åŒ…æä¾›äº†ï¼š
AtomicBoolean AtomicInteger AtomicLong ä»¥ AtomicInteger ä¸ºä¾‹ï¼š 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 AtomicInteger i = new AtomicInteger(0); // è·å–å¹¶è‡ªå¢ï¼ˆi = 0, ç»“æœ i = 1, è¿”å› 0ï¼‰ï¼Œç±»ä¼¼äº i++ System.out.println(i.getAndIncrement()); // è‡ªå¢å¹¶è·å–ï¼ˆi = 1, ç»“æœ i = 2, è¿”å› 2ï¼‰ï¼Œç±»ä¼¼äº ++i System.</description></item><item><title>åŸå­ç´¯åŠ å™¨</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E5%8E%9F%E5%AD%90%E7%B4%AF%E5%8A%A0%E5%99%A8/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E5%8E%9F%E5%AD%90%E7%B4%AF%E5%8A%A0%E5%99%A8/</guid><description>åŸå­ç´¯åŠ å™¨ æ€§èƒ½æå‡çš„åŸå› å¾ˆç®€å•ï¼Œå°±æ˜¯åœ¨æœ‰ç«äº‰æ—¶ï¼Œè®¾ç½®å¤šä¸ªç´¯åŠ å•å…ƒï¼ŒTherad-0 ç´¯åŠ  Cell[0]ï¼Œè€Œ Thread-1 ç´¯åŠ Cell[1]&amp;hellip; æœ€åå°†ç»“æœæ±‡æ€»ã€‚è¿™æ ·å®ƒä»¬åœ¨ç´¯åŠ æ—¶æ“ä½œçš„ä¸åŒçš„ Cell å˜é‡ï¼Œå› æ­¤å‡å°‘äº† CAS é‡è¯•å¤±è´¥ï¼Œä»è€Œæé«˜æ€§èƒ½ã€‚
ç´¯åŠ å•å…ƒä¸ä¼šè¶…è¿‡cpuçš„æ ¸å¿ƒæ•°ï¼Œæ ¸å¿ƒæ•°è¶Šå¤šæå‡è¶Šæ˜æ˜¾ã€‚
æºç åˆ†æ #TODO</description></item><item><title>åŒäº²å§”æ´¾</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/1-%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7/%E5%8F%8C%E4%BA%B2%E5%A7%94%E6%B4%BE/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/1-%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7/%E5%8F%8C%E4%BA%B2%E5%A7%94%E6%B4%BE/</guid><description>åŒäº²å§”æ´¾ https://blog.csdn.net/weixin_36586120/article/details/117457014
å®šä¹‰ ç±»åŠ è½½å™¨åŠ è½½ä¸€ä¸ªç±»æ—¶ï¼Œä¼šå…ˆå°†å…¶é€çº§ä¸Šäº¤ç»™çˆ¶çº§åŠ è½½å™¨å°è¯•åŠ è½½ çˆ¶å­å…³ç³»ä¸æ˜¯ç»§æ‰¿ç»´æŠ¤ï¼Œè€Œæ˜¯ç»„åˆï¼Œæ¯ä¸ªç±»åŠ è½½å™¨éƒ½æŒæœ‰ä¸€ä¸ª parent å­—æ®µï¼ŒæŒ‡å‘çˆ¶åŠ è½½å™¨ã€‚ çˆ¶çº§åŠ è½½å™¨å…ˆæ£€æŸ¥æ˜¯å¦å·²åŠ è½½ï¼Œå†å°è¯•é€’å½’ä¸Šäº¤ è‹¥æ— æ³•å¤„ç†å†å‘ä¸‹å§”æ´¾åŠ è½½ä»»åŠ¡ã€‚ ![[z-oblib/z2-attachments/20210601230727770.png]]
ç›®çš„ åŒäº²å§”æ´¾ä¿è¯ç±»åŠ è½½å™¨ï¼Œè‡ªä¸‹è€Œä¸Šçš„å§”æ´¾ï¼Œåˆè‡ªä¸Šè€Œä¸‹çš„åŠ è½½ï¼Œä¿è¯æ¯ä¸€ä¸ªç±»åœ¨å„ä¸ªç±»åŠ è½½å™¨ä¸­éƒ½æ˜¯åŒä¸€ä¸ªç±»ã€‚
ç ´å #TODO</description></item><item><title>åŒå‘è®¤è¯</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_3-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E5%8F%8C%E5%90%91%E8%AE%A4%E8%AF%81/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_3-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E5%8F%8C%E5%90%91%E8%AE%A4%E8%AF%81/</guid><description>åŒå‘è®¤è¯</description></item><item><title>åŒå±‚not_existsåµŒå¥—</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/sql/%E5%8F%8C%E5%B1%82not_exists%E5%B5%8C%E5%A5%97/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/sql/%E5%8F%8C%E5%B1%82not_exists%E5%B5%8C%E5%A5%97/</guid><description>åŒå±‚not_existsåµŒå¥— SQL ä¸­çš„ EXISTS åˆ°åº•åšäº†ä»€ä¹ˆï¼Ÿ - çŸ¥ä¹ (zhihu.com) SQL åŒå±‚ not exist åµŒå¥—
WHERE åšäº†ä»€ä¹ˆ 1 2 3 SELECTSno,SnameFROMStudentWHERESdept=&amp;#39;IS&amp;#39; DBMS ä¼šæ‰«æ è¡¨ä¸­çš„æ¯ä¸€æ¡è®°å½• åˆ¤æ–­åé¢çš„é€»è¾‘è¡¨è¾¾å¼çš„å€¼æ˜¯å¦ä¸º True å¦‚æœä¸º Trueï¼Œåˆ™å°†å½“å‰è¿™æ¡è®°å½•æ”¾åˆ°ç»“æœé›†é‡Œé¢å» å¦‚æœé€»è¾‘è¡¨è¾¾å¼çš„å€¼ä¸º False åˆ™ä¸æ”¾ ç›¸å…³å­æŸ¥è¯¢ æŸ¥è¯¢æ¯ä¸ªå­¦ç”Ÿè¶…è¿‡å…¶é€‰ä¿®çš„æ‰€æœ‰è¯¾ç¨‹çš„å¹³å‡æˆç»©çš„è¯¾ç¨‹çš„è¯¾ç¨‹å·:
1 2 3 4 5 6 7 8 SELECTCnoFROMSCxWHEREGrade&amp;gt;=(SELECTAVG(Grade)FROMSCyWHEREy.Sno=x.Sno) æ‰«æçˆ¶æŸ¥è¯¢ä¸­æ•°æ®æ¥æºï¼ˆå¦‚ SC è¡¨ï¼‰ä¸­çš„æ¯ä¸€æ¡è®°å½• å°†å½“å‰è¿™æ¡è®°å½•ä¸­çš„ï¼Œåœ¨å­æŸ¥è¯¢ä¸­ä¼šç”¨åˆ°çš„å€¼(Grade)ä»£å…¥åˆ°å­æŸ¥è¯¢ä¸­å» æ‰§è¡Œå­æŸ¥è¯¢å¹¶å¾—åˆ°ç»“æœï¼ˆå¯ä»¥çœ‹æˆæ˜¯è¿”å›å€¼ï¼‰ å†å°†è¿™ä¸ªç»“æœä»£å…¥åˆ°çˆ¶æŸ¥è¯¢çš„æ¡ä»¶ä¸­(Grade &amp;gt;=) åˆ¤æ–­çˆ¶æŸ¥è¯¢çš„æ¡ä»¶è¡¨è¾¾å¼çš„å€¼æ˜¯å¦ä¸º True (WHERE èµ·ä½œç”¨) è‹¥ä¸º Trueï¼Œåˆ™å°†å½“å‰ SC è¡¨ä¸­çš„è¿™æ¡è®°å½•ï¼ˆç»è¿‡ SELECT å¤„ç†ï¼‰åæ”¾åˆ°ç»“æœé›†ä¸­å» è‹¥ä¸º False åˆ™ä¸æ”¾ (NOT) EXISTS åšäº†ä»€ä¹ˆ è‹¥å­˜åœ¨:</description></item><item><title>å˜é‡å‘½åè§„èŒƒ</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux/%E5%8F%98%E9%87%8F%E5%91%BD%E5%90%8D%E8%A7%84%E8%8C%83/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux/%E5%8F%98%E9%87%8F%E5%91%BD%E5%90%8D%E8%A7%84%E8%8C%83/</guid><description>å˜é‡å‘½åè§„èŒƒ H hdr = HeaDeR = header å¸¸å‡ºç°åœ¨[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_3-è½¯ä»¶ç³»ç»Ÿ/2_0_2_1_2_3_1-æ“ä½œç³»ç»Ÿ/linux/ELF|elf]]ç»“æ„å®šä¹‰ä¸­ï¼Œå¦‚shdrä¸º section header R rel = relocation = é‡å®šä½ rel.textæŒ‡textæ®µå¯¹åº”çš„[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_3-è½¯ä»¶ç³»ç»Ÿ/2_0_2_1_2_3_1-æ“ä½œç³»ç»Ÿ/linux/é‡å®šä½è¡¨|é‡å®šä½è¡¨]]</description></item><item><title>å˜é‡çš„çº¿ç¨‹å®‰å…¨</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E5%8F%98%E9%87%8F%E7%9A%84%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E5%8F%98%E9%87%8F%E7%9A%84%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8/</guid><description>å˜é‡çš„çº¿ç¨‹å®‰å…¨ æˆå‘˜å˜é‡ å¦‚æœå®ƒä»¬æ²¡æœ‰å…±äº«ï¼Œåˆ™[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_3-è½¯ä»¶ç³»ç»Ÿ/2_0_2_1_2_3_1-æ“ä½œç³»ç»Ÿ/çº¿ç¨‹|çº¿ç¨‹]]å®‰å…¨ å¦‚æœå®ƒä»¬è¢«å…±äº«äº†ï¼Œæ ¹æ®å®ƒä»¬çš„çŠ¶æ€æ˜¯å¦èƒ½å¤Ÿæ”¹å˜ï¼Œåˆåˆ†ä¸¤ç§æƒ…å†µ å¦‚æœåªæœ‰è¯»æ“ä½œï¼Œåˆ™çº¿ç¨‹å®‰å…¨ å¦‚æœæœ‰è¯»å†™æ“ä½œï¼Œåˆ™è¿™æ®µä»£ç æ˜¯[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_3-è½¯ä»¶ç³»ç»Ÿ/2_0_2_1_2_3_1-æ“ä½œç³»ç»Ÿ/ä¸´ç•ŒåŒº|ä¸´ç•ŒåŒº]]ï¼Œéœ€è¦è€ƒè™‘çº¿ç¨‹å®‰å…¨ å±€éƒ¨å˜é‡ å±€éƒ¨å˜é‡æ˜¯çº¿ç¨‹å®‰å…¨ å±€éƒ¨å˜é‡å¼•ç”¨çš„å¯¹è±¡ä¸ä¸€å®šçº¿ç¨‹å®‰å…¨ å¦‚æœè¯¥å¯¹è±¡æ²¡æœ‰é€ƒç¦»æ–¹æ³•çš„ä½œç”¨è®¿é—®ï¼Œå®ƒæ˜¯çº¿ç¨‹å®‰å…¨çš„ å¦‚æœè¯¥å¯¹è±¡é€ƒç¦»æ–¹æ³•çš„ä½œç”¨èŒƒå›´ï¼Œéœ€è¦è€ƒè™‘çº¿ç¨‹å®‰å…¨ åˆ†æ éå¼•ç”¨å±€éƒ¨å˜é‡ 1 2 3 4 public static void test1() { int i = 10; i++; } æ¯ä¸ªçº¿ç¨‹è°ƒç”¨ test1() æ–¹æ³•æ—¶å±€éƒ¨å˜é‡ iï¼Œä¼šåœ¨æ¯ä¸ªçº¿ç¨‹çš„æ ˆå¸§å†…å­˜ä¸­è¢«åˆ›å»ºå¤šä»½ï¼Œå› æ­¤ä¸å­˜åœ¨å…±äº«ã€‚
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 public static void test1(); descriptor: ()V flags: ACC_PUBLIC, ACC_STATIC Code: stack=1, locals=1, args_size=0 0: bipush 10 2: istore_0 3: iinc 0, 1 6: return LineNumberTable: line 10: 0 line 11: 3 line 12: 6 LocalVariableTable: Start Length Slot Name Signature 3 4 0 i I !</description></item><item><title>å¯è§æ€§</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E5%8F%AF%E8%A7%81%E6%80%A7/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E5%8F%AF%E8%A7%81%E6%80%A7/</guid><description>å¯è§æ€§ ä¸¾ä¾‹ main çº¿ç¨‹å¯¹ run å˜é‡çš„ä¿®æ”¹å¯¹äº t çº¿ç¨‹ä¸å¯è§ï¼Œå¯¼è‡´äº† t çº¿ç¨‹æ— æ³•åœæ­¢ï¼š
1 2 3 4 5 6 7 8 9 10 11 12 13 static boolean run = true; public static void main(String[] args) throws InterruptedException { Thread t = new Thread(()-&amp;gt;{ while(run){ // .... } }); t.start(); sleep(1); run = false; // çº¿ç¨‹tä¸ä¼šå¦‚é¢„æƒ³çš„åœä¸‹æ¥ } åˆå§‹çŠ¶æ€ï¼Œ t çº¿ç¨‹åˆšå¼€å§‹ä»ä¸»å†…å­˜è¯»å–äº† run çš„å€¼åˆ°å·¥ä½œå†…å­˜: ![[z-oblib/z2-attachments/Pasted image 20220530204318.png]]
å› ä¸º t çº¿ç¨‹è¦é¢‘ç¹ä»ä¸»å†…å­˜ä¸­è¯»å– run çš„å€¼ï¼ŒJIT ç¼–è¯‘å™¨ä¼šå°† run çš„å€¼ç¼“å­˜è‡³è‡ªå·±å·¥ä½œå†…å­˜ä¸­çš„é«˜é€Ÿç¼“å­˜ä¸­ï¼Œå‡å°‘å¯¹ä¸»å­˜ä¸­ run çš„è®¿é—®ï¼Œæé«˜æ•ˆç‡: !</description></item><item><title>åŒæ­¥</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E5%90%8C%E6%AD%A5/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E5%90%8C%E6%AD%A5/</guid><description>åŒæ­¥ æ‰€æœ‰çš„æ‰§è¡Œé¡ºåºéƒ½ä¸¥æ ¼åœ°å’Œä»£ç ä¹¦å†™çš„é¡ºåºä¸€è‡´ã€‚
ä»¥è°ƒç”¨æ–¹è§’åº¦ éœ€è¦ç­‰å¾…ç»“æœè¿”å›ï¼Œæ‰èƒ½ç»§ç»­è¿è¡Œå°±æ˜¯åŒæ­¥ã€‚
çº¿ç¨‹åŒæ­¥ çº¿ç¨‹åŒæ­¥æ˜¯çº¿ç¨‹ä¹‹é—´æŒ‰ç…§ä¸€å®šçš„é¡ºåºæ‰§è¡Œã€‚
ä¼˜ç‚¹ åŒæ­¥æœ€å¤§çš„ä¼˜ç‚¹æ˜¯æ€è·¯æ¸…æ™°ã€‚ä½ æ°¸è¿œå¯ä»¥çŸ¥é“ä½ çš„ç¨‹åºæ˜¯æŒ‰ç…§æ€æ ·çš„é¡ºåºæ‰§è¡Œçš„ï¼Œä¸ç”¨æ‹…å¿ƒä»»ä½•æ„æ–™ä¹‹å¤–çš„æƒ…å†µã€‚
ç¼ºç‚¹ åœ¨æŸäº›æƒ…å¢ƒä¸‹ï¼Œå®ƒä¼šå¸¦æ¥æ€§èƒ½çš„æµªè´¹ã€‚
ä»¥ä¸€ä¸ªç”Ÿæ´»ä¸­çš„åœºæ™¯ä¸ºä¾‹ï¼šä½ åœ¨ç½‘ä¸Šä¸‹è½½ä¸€ä¸ªæ–‡ä»¶ï¼Œä½†æ˜¯æ–‡ä»¶å¾ˆå¤§ï¼Œéœ€è¦å¾ˆé•¿æ—¶é—´æ‰èƒ½ä¸‹å®Œã€‚è¿™æ—¶å€™ï¼Œä½ è‚¯å®šä¸ä¼šç›¯ç€è¿›åº¦æ¡ä¸€ç‚¹ç‚¹èµ°ï¼Œè€Œæ˜¯å»åšç‚¹åˆ«çš„äº‹æƒ…ï¼Œè¯»ä¸€ä¼šä¹¦ï¼Œçœ‹ä¸€ä¼šç”µå½±ï¼Œä¹‹ç±»çš„ã€‚
ä½†å¦‚æœæœ‰ä¸€ä¸ªå®Œå…¨â€œåŒæ­¥â€çš„äººï¼Œä»–ä¸ºè‡ªå·±è®¾å®šçš„ç¨‹åºæ˜¯ä¸‹è½½è¿™ä¸ªæ–‡ä»¶ï¼Œç„¶åè¿è¡Œå®ƒï¼Œè¿™æ ·çš„è¯ï¼Œä»–ä¸ºäº†ä¸è®©è‡ªå·±çš„è¿è¡Œé€»è¾‘ä¹±æ‰ï¼Œå°±ä¼šä¸€ç›´å®ˆåœ¨ç”µè„‘å‰ï¼Œç›´åˆ°æ–‡ä»¶ä¸‹è½½å®Œæˆæ‰åšä¸‹ä¸€æ­¥çš„å·¥ä½œã€‚æ­£å¸¸äººè‚¯å®šä¸èƒ½å¿å—è¿™æ ·æ— èŠçš„ç­‰å¾…ï¼Œä¹Ÿä¸ä¼šå¸Œæœ›è‡ªå·±çš„ç¨‹åºåœ¨è¿™ç§æ— èŠçš„äº‹ä¸Šæµªè´¹æ—¶é—´ã€‚</description></item><item><title>å“²å­¦å®¶å°±é¤é—®é¢˜</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E5%93%B2%E5%AD%A6%E5%AE%B6%E5%B0%B1%E9%A4%90%E9%97%AE%E9%A2%98/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E5%93%B2%E5%AD%A6%E5%AE%B6%E5%B0%B1%E9%A4%90%E9%97%AE%E9%A2%98/</guid><description>å“²å­¦å®¶å°±é¤é—®é¢˜ ![[z-oblib/z2-attachments/Pasted image 20220529223523.png]]
æœ‰äº”ä½å“²å­¦å®¶ï¼Œå›´ååœ¨åœ†æ¡Œæ—ï¼š
ä»–ä»¬åªåšä¸¤ä»¶äº‹ï¼Œæ€è€ƒå’Œåƒé¥­ï¼Œæ€è€ƒä¸€ä¼šåƒå£é¥­ï¼Œåƒå®Œé¥­åæ¥ç€æ€è€ƒã€‚ åƒé¥­æ—¶è¦ç”¨ä¸¤æ ¹ç­·å­åƒï¼Œæ¡Œä¸Šå…±æœ‰ 5 æ ¹ç­·å­ï¼Œæ¯ä½å“²å­¦å®¶å·¦å³æ‰‹è¾¹å„æœ‰ä¸€æ ¹ç­·å­ã€‚ å¦‚æœç­·å­è¢«èº«è¾¹çš„äººæ‹¿ç€ï¼Œè‡ªå·±å°±å¾—ç­‰å¾… 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 package test; import lombok.</description></item><item><title>å››æ¬¡æŒ¥æ‰‹</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_3-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E5%9B%9B%E6%AC%A1%E6%8C%A5%E6%89%8B/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_3-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E5%9B%9B%E6%AC%A1%E6%8C%A5%E6%89%8B/</guid><description>å››æ¬¡æŒ¥æ‰‹ æˆ‘è¦èµ°äº†ï¼šå®¢æˆ·ç«¯å®Œæˆæ‰€æœ‰æ•°æ®ä¼ è¾“ï¼Œå‘æœåŠ¡ç«¯å‘é€ä¸€ä¸ªFIN=1çš„ç»ˆæ­¢è¿æ¥æŠ¥æ–‡ï¼Œå¹¶è®¾ç½®åºåˆ—å·ä¸ºä¼ è¾“æ•°æ®çš„æœ€åä¸€ä¸ªå­—èŠ‚åºå·ï¼Œå‘é€åå®¢æˆ·ç«¯è¿›å…¥FIN-Waitä¸€é˜¶æ®µã€‚ çŸ¥é“äº†ï¼Œæœ€åä¸€ç‚¹ä¸œè¥¿ç»™ä½ æ‰“åŒ…å¸¦ä¸Šï¼Œç¨ç­‰ï¼šæœåŠ¡ç«¯æ¥æ”¶åˆ°ç»ˆæ­¢è¿æ¥æŠ¥æ–‡ï¼Œå¹¶è¿”å›ç»™å®¢æˆ·ç«¯ä¸€ä¸ªACKç¡®è®¤æŠ¥æ–‡ï¼Œæ­¤æ—¶å®¢æˆ·ç«¯è¿›å…¥FIN-WaitäºŒé˜¶æ®µï¼Œå®¢æˆ·ç«¯æ— æ³•å†è¿›è¡Œæ•°æ®ä¼ è¾“ï¼Œç„¶è€ŒæœåŠ¡ç«¯å¯èƒ½è¿˜å­˜åœ¨æ²¡æœ‰å‘é€ç»™å®¢æˆ·ç«¯çš„æ•°æ®ï¼Œå› æ­¤ä¸èƒ½ç«‹åˆ»å…³é—­è¿æ¥ã€‚ æ‰€æœ‰ä¸œè¥¿éƒ½åœ¨è¿™é‡Œäº†ï¼Œæ‹¿å¥½ï¼šæœåŠ¡ç«¯åœ¨å‘é€å®Œæ‰€æœ‰æ•°æ®åï¼Œå†å‘é€ä¸€ä¸ªACK=1ï¼ŒFIN=1çš„ç»ˆæ­¢ç¡®è®¤ç»™å®¢æˆ·ç«¯ï¼Œæ­¤æ—¶æœåŠ¡ç«¯è¿›å…¥LAST-ACKçŠ¶æ€ã€‚ å¥½çš„ï¼Œä½ å¿™å§2MSLä¸æ‰¾æˆ‘ï¼Œæˆ‘å°±è‡ªå·±èµ°äº†ï¼šå®¢æˆ·ç«¯æ”¶åˆ°å“åº”åï¼Œè¿”å›ç»™æœåŠ¡ç«¯ä¸€ä¸ªACK=1çš„å“åº”ï¼Œå¹¶è¿›å…¥TIME-WAITçŠ¶æ€ï¼Œç­‰å¾…æ—¶é—´ä¸º2MSLï¼Œå³ä¸¤å€çš„æœ€å¤§æ•°æ®æ®µä¼ è¾“æ—¶é—´ã€‚</description></item><item><title>å›è°ƒ</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E5%9B%9E%E8%B0%83/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E5%9B%9E%E8%B0%83/</guid><description>å›è°ƒ Aç±»aæ–¹æ³•è°ƒç”¨Bç±»çš„bæ–¹æ³•ï¼Œbæ–¹æ³•å†è°ƒç”¨Aç±»çš„cæ–¹æ³• å°±æ˜¯ä¸å…‰æŠŠå·¥ä½œå†…å®¹äº¤ç»™åˆ«çš„çº¿ç¨‹åšï¼Œè¿˜è¦æŠŠç»“æœå¤„ç†ä¹Ÿäº¤ç»™åˆ«çš„çº¿ç¨‹åšã€‚
å›è°ƒçš„æœ¬è´¨ï¼Œæ˜¯å°†ä¸€ä¸ªä»»åŠ¡åˆ†æˆä¸¤éƒ¨åˆ†ï¼Œåœ¨è€—æ—¶æ“ä½œä¹‹å‰çš„éƒ¨åˆ†ï¼Œå’Œè€—æ—¶æ“ä½œä¹‹åçš„éƒ¨åˆ†ï¼Œåè€…æ˜¯å‰è€…çš„ç»§ç»­ï¼Œæˆ–è€…å«åš[[ç»­ä½“]]ï¼ˆcontinuationï¼‰ã€‚å›è°ƒå¼å°±æ˜¯æŠŠç»­ä½“å†™æˆå›è°ƒå‡½æ•°çš„å½¢å¼ï¼Œä¼ é€’åˆ°å…¶ä»–åœ°æ–¹ï¼Œè¿™ç§æ“ä½œåˆå«åšç»­ä½“ä¼ é€’ï¼ˆcontinuation-passingï¼‰ã€‚ä»è¿™ä¸ªå±‚é¢ä¸Šçœ‹ï¼Œå›è°ƒæ˜¯ç»­ä½“ä¼ é€’é£æ ¼ï¼ˆContinuation-Passing Style, CPSï¼‰çš„ä¸€ç§ã€‚
ä¸¾ä¾‹ ç°åœ¨é¢†å¯¼è¦å‘˜å·¥Aåšä¸€ä»¶äº‹ï¼Œç»™ä»–å‘å¸ƒäº†ä»»åŠ¡ï¼Œéœ€è¦å‘˜å·¥Aåšå®Œåå†é€šçŸ¥é¢†å¯¼ã€‚
å¯¹äºé¢†å¯¼æ¥è¯´ï¼šå‘å¸ƒä»»åŠ¡ï¼ˆfabuTaskï¼‰,è·å¾—ç»“æœï¼ˆresultï¼‰
å¯¹äºå‘˜å·¥æ¥è¯´ï¼šå¤„ç†ä»»åŠ¡ï¼ˆdoSomthingï¼‰,é€šçŸ¥é¢†å¯¼ç»“æœï¼ˆresultï¼‰
ä»»åŠ¡å‘å¸ƒè€… ä»»åŠ¡å‘å¸ƒè€…å®šä¹‰äº†å›è°ƒå‡½æ•°ï¼Œå›è°ƒå‡½æ•°çš„å‚æ•°å°±æ˜¯æœªæ¥ä»»åŠ¡æ‰§è¡Œè€…æäº¤çš„ç»“æœã€‚
1 2 3 4 5 6 7 /** * å›è°ƒçš„æ–¹æ³• * */ public interface CallBack { void result(String result); } é¢†å¯¼å‘å¸ƒçš„ä»»åŠ¡ï¼šè®©å‘˜å·¥åšäº‹ï¼š
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 /** * é¢†å¯¼å‘å¸ƒä»»åŠ¡ã€è·å¾—ç»“æœ * */ public class Manager implements CallBack{ @Override public void result(String result) { System.</description></item><item><title>åŸºåœ°å€</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux/%E5%9F%BA%E5%9C%B0%E5%9D%80/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux/%E5%9F%BA%E5%9C%B0%E5%9D%80/</guid><description>åŸºåœ°å€ è®¡ç®— linux - ELFçš„åŸºåœ°å€ | ç å†œä¿±ä¹éƒ¨ - Golangä¸­å›½ - Goè¯­è¨€ä¸­æ–‡ç¤¾åŒº (mlog.club) ELF æ–‡ä»¶ - CTF Wiki (ctf-wiki.org)
æ–‡ä»¶çš„é»˜è®¤åŠ è½½åŸºåœ°å€ é€šè¿‡ readelf -l a.out å¯ä»¥æŸ¥çœ‹åˆ°ç¨‹åºçš„å¤´ä¿¡æ¯ï¼Œç¬¬ä¸€ä¸ªç±»å‹ä¸ºLOADçš„æ®µçš„è™šæ‹Ÿåœ°å€å°±æ˜¯åŸºåœ°å€ï¼š ![[z-oblib/z2-attachments/1L)((}ZXMQ(U$39~Z`AM53R.png]]
ä½†è¿™ä¸ªåœ°å€å¯èƒ½å¹¶ä¸æ˜¯ç¨‹åºå†…å­˜é•œåƒä¸­å®é™…çš„è™šæ‹Ÿåœ°å€ã€‚
å†…å­˜é•œåƒçš„åŸºåœ°å€ åœ°å€æ— å…³ä»£ç ä½¿ç”¨æ®µä¹‹é—´çš„ç›¸å¯¹åœ°å€æ¥è¿›è¡Œå¯»å€ï¼Œå†…å­˜ä¸­çš„è™šæ‹Ÿåœ°å€ä¹‹é—´çš„å·®å¿…é¡»ä¸æ–‡ä»¶ä¸­çš„è™šæ‹Ÿåœ°å€ä¹‹é—´çš„å·®ç›¸åŒ¹é…ã€‚
å†…å­˜ä¸­ä»»ä½•æ®µçš„è™šæ‹Ÿåœ°å€ä¸æ–‡ä»¶ä¸­å¯¹åº”çš„è™šæ‹Ÿåœ°å€ä¹‹é—´çš„å·®å€¼å¯¹äºä»»ä½•ä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶æˆ–å…±äº«å¯¹è±¡æ¥è¯´æ˜¯ä¸€ä¸ªå•ä¸€å¸¸é‡å€¼ã€‚è¿™ä¸ªå·®å€¼å°±æ˜¯åŸºåœ°å€ï¼ŒåŸºåœ°å€çš„ä¸€ä¸ªç”¨é€”å°±æ˜¯åœ¨åŠ¨æ€é“¾æ¥æœŸé—´é‡æ–°å®šä½ç¨‹åºã€‚
è¦è®¡ç®—åŸºåœ°å€ï¼Œé¦–å…ˆæ‹¿åˆ°æ–‡ä»¶é»˜è®¤åŠ è½½åŸºåœ°å€ï¼Œä¹‹åæŠŠè¯¥åœ°å€ç¼©å°ä¸ºä¸ä¹‹æœ€è¿‘çš„æœ€å¤§é¡µé¢çš„æ•´æ•°å€å³æ˜¯å†…å­˜åŸºåœ°å€ã€‚æ ¹æ®è¦åŠ è½½åˆ°å†…å­˜ä¸­çš„æ–‡ä»¶çš„ç±»å‹ï¼Œå†…å­˜åœ°å€å¯èƒ½ä¸ p_vaddr ç›¸åŒä¹Ÿå¯èƒ½ä¸åŒã€‚</description></item><item><title>åŸºæœ¬è¯­æ³•</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/</guid><description>åŸºæœ¬è¯­æ³•</description></item><item><title>å¤šæŠŠé”</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E5%A4%9A%E6%8A%8A%E9%94%81/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E5%A4%9A%E6%8A%8A%E9%94%81/</guid><description>å¤šæŠŠé” ä»£ç æ¼”ç¤º 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 class BigRoom { public void sleep() { synchronized (this) { log.debug(&amp;#34;sleeping 2 å°æ—¶&amp;#34;); Sleeper.sleep(2); } } public void study() { synchronized (this) { log.debug(&amp;#34;study 1 å°æ—¶&amp;#34;); Sleeper.sleep(1); } } } ç»†åˆ†é”çš„ç²’åº¦ï¼šä¸¤ä¸ªç‹¬ç«‹çš„åŠŸèƒ½ç”¨äº†åŒä¸€æŠŠé”ï¼Œå¯¼è‡´[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_3-è½¯ä»¶ç³»ç»Ÿ/2_0_2_1_2_3_1-æ“ä½œç³»ç»Ÿ/å¹¶å‘|å¹¶å‘]]åº¦ä¸‹é™ï¼Œæ”¹è¿›ï¼š
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 class BigRoom { private final Object studyRoom = new Object(); private final Object bedRoom = new Object(); public void sleep() { synchronized (bedRoom) { log.</description></item><item><title>å¥—æ¥å­—</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E5%A5%97%E6%8E%A5%E5%AD%97/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E5%A5%97%E6%8E%A5%E5%AD%97/</guid><description>å¥—æ¥å­— å¥—æ¥å­—ï¼ˆSocketï¼‰ç”¨äºåè°ƒä¸åŒè®¡ç®—æœºä¸Šçš„[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_3-è½¯ä»¶ç³»ç»Ÿ/2_0_2_1_2_3_1-æ“ä½œç³»ç»Ÿ/è¿›ç¨‹|è¿›ç¨‹]]é—´é€šä¿¡ï¼Œä¹Ÿå°±æ˜¯åŸºäºç½‘ç»œçš„é€šä¿¡ã€‚å½“ç„¶ï¼Œä¹Ÿå¯ä»¥åœ¨æœ¬æœºä¸Šä½¿ç”¨å¥—æ¥å­—è¿›è¡Œè¿›ç¨‹é—´çš„é€šä¿¡ã€‚
å¥—æ¥å­—é€šä¿¡çš„æ–¹å¼éå¸¸å¤šï¼Œæœ‰UnixåŸŸå¥—æ¥å­—ã€TCPå¥—æ¥å­—ã€UDPå¥—æ¥å­—ã€é“¾è·¯å±‚å¥—æ¥å­—ç­‰ç­‰ã€‚ä½†æœ€å¸¸ç”¨çš„è‚¯å®šæ˜¯TCPå¥—æ¥å­—ã€‚æ‰€ä»¥ï¼Œè¿™é‡Œä»‹ç»ä¸‹TCP Socketé€šä¿¡æ–¹å¼ï¼Œç¨åå†å•ç‹¬ä»‹ç»UnixåŸŸå¥—æ¥å­—ã€‚
TCP Socketç”¨äºå®¢æˆ·ç«¯ã€æœåŠ¡ç«¯çš„åŸºäºTCPåè®®çš„é€šä¿¡ï¼Œæ‰€ä»¥åœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯å‡éœ€è¦åˆ›å»ºä¸€ä¸ªå¥—æ¥å­—ã€‚åˆ›å»ºTCPå¥—æ¥å­—æ—¶ä¼šè¿”å›è¿™ä¸ªå¥—æ¥å­—çš„æ–‡ä»¶æè¿°ç¬¦ï¼Œå¯é€šè¿‡è¿™ä¸ª[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_3-è½¯ä»¶ç³»ç»Ÿ/2_0_2_1_2_3_1-æ“ä½œç³»ç»Ÿ/æ–‡ä»¶æè¿°ç¬¦|æ–‡ä»¶æè¿°ç¬¦]]å¯¹å¥—æ¥å­—è¿›è¡Œè¯»å’Œå†™æ“ä½œã€‚
å¯¹æ¯”ä¸€ä¸‹ï¼Œå½“ä¸€ä¸ªç¨‹åºéœ€è¦å¯¹ä¸€ä¸ªç£ç›˜æ–‡ä»¶åŒæ—¶è¿›è¡Œè¯»å†™æ“ä½œï¼ˆåœ¨å‘½ä»¤è¡Œä¸‹ä¼¼ä¹æ²¡æœ‰æ‰¾åˆ°è¿™ç§å‘½ä»¤ï¼Œä½†é€šè¿‡ç¼–ç¨‹æ–¹å¼æ˜¯å¾ˆå®¹æ˜“å®ç°çš„ï¼‰æ—¶ï¼Œç”±äºåªé€šè¿‡å•ä¸ªæ–‡ä»¶æè¿°ç¬¦åŒæ—¶è´Ÿè´£è¯»å’Œå†™ï¼Œå¾ˆå¯èƒ½éœ€è¦é€šè¿‡ä¸æ–­ç§»åŠ¨æ–‡ä»¶æŒ‡é’ˆçš„æ–¹å¼æ¥æ”¹å˜è¯»å†™çš„ä½ç½®ï¼Œå¦åˆ™æ•°æ®å¾ˆå®¹æ˜“é”™ä¹±ã€‚
è€ŒTCPå¥—æ¥å­—ä¹Ÿæ˜¯é€šè¿‡å•ä¸ªæ–‡ä»¶æè¿°ç¬¦è¿›è¡Œè¯»å†™å¥—æ¥å­—çš„ï¼Œä¸ºäº†ä¿è¯è¯»å’Œå†™çš„ä½ç½®ä¸é”™ä¹±ï¼Œæ“ä½œç³»ç»Ÿåœ¨å†…æ ¸ç©ºé—´ä¸ºæ¯ä¸ªTCPå¥—æ¥å­—ç»´æŠ¤äº†ä¸¤ä¸ªbufferç©ºé—´ï¼Œä¸€ä¸ªbufferç”¨äºå†™ã€ä¸€ä¸ªbufferç”¨äºè¯»ã€‚æä¾›è¯»çš„bufferç©ºé—´ç§°ä¸ºrecv bufferï¼Œæä¾›å†™çš„bufferç©ºé—´ç§°ä¸ºsend bufferï¼Œå®ƒä»¬ç»Ÿç§°ä¸ºsocket bufferã€‚
æ‰€ä»¥ï¼ŒæœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯é€šè¿‡ä¸¤ä¸ªå¥—æ¥å­—é€šä¿¡å°±ç®€å•äº†ï¼Œä¸€ç«¯å‘send bufferå†™æ•°æ®ï¼Œè¯¥bufferçš„æ•°æ®ä¼šé€šè¿‡å·²ç»å»ºç«‹å¥½çš„TCPè¿æ¥å‘é€åˆ°å¦ä¸€ç«¯çš„recv bufferï¼Œäºæ˜¯å¦ä¸€ç«¯åªéœ€ä»recv bufferä¸­è¯»æ•°æ®å³å¯å®ç°ä¸åŒè®¡ç®—æœºä¸Šçš„è¿›ç¨‹é—´é€šä¿¡ã€‚è¿‡ç¨‹å¦‚å›¾ã€‚
![[z-oblib/z2-attachments/Pasted image 20220803132920.png]]</description></item><item><title>å§”æ´¾</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_1-%E8%BD%AF%E4%BB%B6%E6%96%B9%E6%B3%95%E5%AD%A6/%E7%BC%96%E7%A8%8B%E6%80%9D%E6%83%B3/%E5%A7%94%E6%B4%BE/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_1-%E8%BD%AF%E4%BB%B6%E6%96%B9%E6%B3%95%E5%AD%A6/%E7%BC%96%E7%A8%8B%E6%80%9D%E6%83%B3/%E5%A7%94%E6%B4%BE/</guid><description>å§”æ´¾ A å§”æ´¾ B åšæŸäº‹ï¼Œåˆ™ B å†…ä¼šæœ‰ A çš„å®ä¾‹ï¼Œå¹¶è°ƒç”¨ A çš„æ–¹æ³•ã€‚
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 // Java program to illustrate // delegation class RealPrinter { // the &amp;#34;delegate&amp;#34; void print() { System.out.println(&amp;#34;The Delegate&amp;#34;); } } class Printer { // the &amp;#34;delegator&amp;#34; RealPrinter p = new RealPrinter(); // create the delegate void print() { p.</description></item><item><title>å­—æ®µæ›´æ–°å™¨</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E5%AD%97%E6%AE%B5%E6%9B%B4%E6%96%B0%E5%99%A8/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E5%AD%97%E6%AE%B5%E6%9B%B4%E6%96%B0%E5%99%A8/</guid><description>å­—æ®µæ›´æ–°å™¨ AtomicReferenceFieldUpdater // åŸŸ å­—æ®µ AtomicIntegerFieldUpdater AtomicLongFieldUpdater åˆ©ç”¨å­—æ®µæ›´æ–°å™¨ï¼Œå¯ä»¥é’ˆå¯¹å¯¹è±¡çš„æŸä¸ªåŸŸï¼ˆFieldï¼‰è¿›è¡ŒåŸå­æ“ä½œï¼Œåªèƒ½é…åˆ volatile ä¿®é¥°çš„å­—æ®µä½¿ç”¨ï¼Œå¦åˆ™ä¼šå‡ºç°å¼‚å¸¸
#TODO</description></item><item><title>å­—ç¬¦ä¸²è¡¨</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux/%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%A1%A8/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux/%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%A1%A8/</guid><description>å­—ç¬¦ä¸²è¡¨ å­—ç¬¦ä¸²è¡¨èŠ‚åŒ…å«ä»¥ç©ºå­—ç¬¦ç»“å°¾çš„å­—ç¬¦åºåˆ—ï¼Œé€šå¸¸ç§°ä¸ºå­—ç¬¦ä¸²ã€‚ç›®æ ‡æ–‡ä»¶ä½¿ç”¨è¿™äº›å­—ç¬¦ä¸²è¡¨ç¤ºç¬¦å·å’ŒèŠ‚çš„åç§°ã€‚å¯ä»¥å°†å­—ç¬¦ä¸²ä½œä¸ºå­—ç¬¦ä¸²è¡¨èŠ‚çš„ç´¢å¼•è¿›è¡Œå¼•ç”¨ã€‚
ç¬¬ä¸€ä¸ªå­—èŠ‚ï¼ˆç´¢å¼•é›¶ï¼‰åŒ…å«ç©ºå­—ç¬¦ã€‚åŒæ ·ï¼Œå­—ç¬¦ä¸²è¡¨çš„æœ€åä¸€ä¸ªå­—èŠ‚ä¹ŸåŒ…å«ç©ºå­—ç¬¦ï¼Œä»è€Œç¡®ä¿æ‰€æœ‰å­—ç¬¦ä¸²éƒ½ä»¥ç©ºå­—ç¬¦ç»“å°¾ã€‚æ ¹æ®ä¸Šä¸‹æ–‡ï¼Œç´¢å¼•ä¸ºé›¶çš„å­—ç¬¦ä¸²ä¸ä¼šæŒ‡å®šä»»ä½•åç§°æˆ–æŒ‡å®šç©ºåç§°ã€‚
å…è®¸ä½¿ç”¨ç©ºå­—ç¬¦ä¸²è¡¨èŠ‚ã€‚èŠ‚å¤´çš„Â sh_sizeÂ æˆå‘˜å€¼ä¸ºé›¶ã€‚å¯¹äºç©ºå­—ç¬¦ä¸²è¡¨ï¼Œéé›¶ç´¢å¼•æ— æ•ˆã€‚
èŠ‚å¤´çš„Â sh_nameÂ æˆå‘˜åŒ…å«èŠ‚å¤´å­—ç¬¦ä¸²è¡¨çš„èŠ‚ç´¢å¼•ã€‚èŠ‚å¤´å­—ç¬¦ä¸²è¡¨ç”± ELF å¤´çš„Â e_shstrndxÂ æˆå‘˜æŒ‡å®šã€‚ä¸‹å›¾æ˜¾ç¤ºäº†å…·æœ‰Â 25Â ä¸ªå­—èŠ‚çš„å­—ç¬¦ä¸²è¡¨ï¼Œå¹¶ä¸”å…¶å­—ç¬¦ä¸²ä¸å„ç§ç´¢å¼•å…³è”ã€‚
ä¸¾ä¾‹ ELF å­—ç¬¦ä¸²è¡¨ï¼š ![[z-oblib/z2-attachments/Pasted image 20220911030139.png]]
Â ELF å­—ç¬¦ä¸²è¡¨ç´¢å¼•ï¼š
ç´¢å¼• å­—ç¬¦ä¸² 0 æ—  1 name 7 Variable 11 able 16 able 24 ç©ºå­—ç¬¦ä¸² ç‰¹ç‚¹ å­—ç¬¦ä¸²è¡¨ç´¢å¼•å¯ä»¥æŒ‡å‘èŠ‚ä¸­çš„ä»»ä½•å­—èŠ‚ã€‚ä¸€ä¸ªå­—ç¬¦ä¸²å¯ä»¥å‡ºç°å¤šæ¬¡ã€‚å¯ä»¥å­˜åœ¨å¯¹å­å­—ç¬¦ä¸²çš„å¼•ç”¨ã€‚ä¸€ä¸ªå­—ç¬¦ä¸²å¯ä»¥å¤šæ¬¡å¼•ç”¨ã€‚å¦å¤–ï¼Œè¿˜å…è®¸ä½¿ç”¨æœªå¼•ç”¨çš„å­—ç¬¦ä¸²ã€‚</description></item><item><title>å¯„å­˜å™¨ï¼Œtestï¼Œcmpå‰–æ</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/%E6%B1%87%E7%BC%96/%E5%AF%84%E5%AD%98%E5%99%A8testcmp%E5%89%96%E6%9E%90/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/%E6%B1%87%E7%BC%96/%E5%AF%84%E5%AD%98%E5%99%A8testcmp%E5%89%96%E6%9E%90/</guid><description>å¯„å­˜å™¨ï¼Œtestï¼Œcmpå‰–æ çŠ¶æ€å¯„å­˜å™¨ é¦–å…ˆå¤ä¹ ä¸€ä¸‹çŠ¶æ€å¯„å­˜å™¨.
PSW(Program Status Word)ç¨‹åºçŠ¶æ€å­—(å³æ ‡å¿—)å¯„å­˜å™¨,æ˜¯ä¸€ä¸ª16ä½å¯„å­˜å™¨,ç”±æ¡ä»¶ç æ ‡å¿—(flag)å’Œæ§åˆ¶æ ‡å¿—æ„æˆ,å¦‚ä¸‹æ‰€ç¤ºï¼š
![[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/æ±‡ç¼–/z-attachments/Pasted image 20220917161214.png]]
æ¡ä»¶ç ï¼š
OF(Overflow Flag)æº¢å‡ºæ ‡å¿— æº¢å‡ºæ—¶ä¸º1ï¼Œå¦åˆ™ç½®0 æ ‡æ˜ä¸€ä¸ªæº¢å‡ºäº†çš„è®¡ç®— SF(Sign Flag)ç¬¦å·æ ‡å¿— ç»“æœä¸ºè´Ÿæ—¶ç½®1ï¼Œå¦åˆ™ç½®0 ZF(Zero Flag)é›¶æ ‡å¿—, è¿ç®—ç»“æœä¸º0æ—¶ç½®1ï¼Œå¦åˆ™ç½®0 CF(Carry Flag)è¿›ä½æ ‡å¿— è¿›ä½æ—¶ç½®1ï¼Œå¦åˆ™ç½®0 æ³¨æ„:Carryæ ‡å¿—ä¸­å­˜æ”¾è®¡ç®—åæœ€å³çš„ä½ AF(Auxiliary carry Flag)è¾…åŠ©è¿›ä½æ ‡å¿— è®°å½•è¿ç®—æ—¶ç¬¬3ä½(åŠä¸ªå­—èŠ‚)äº§ç”Ÿçš„è¿›ä½ç½® æœ‰è¿›ä½æ—¶1,å¦åˆ™ç½®0ã€‚ PF(Parity Flag)å¥‡å¶æ ‡å¿— ç»“æœæ“ä½œæ•°ä¸­1çš„ä¸ªæ•°ä¸ºå¶æ•°æ—¶ç½®1ï¼Œå¦åˆ™ç½®0 æ§åˆ¶æ ‡å¿—ä½ï¼š
DF(Direction Flag)æ–¹å‘æ ‡å¿— åœ¨ä¸²å¤„ç†æŒ‡ä»¤ä¸­æ§åˆ¶ä¿¡æ¯çš„æ–¹å‘ IF(Interrupt Flag)ä¸­æ–­æ ‡å¿— TF(Trap Flag)é™·äº•æ ‡å¿— testå’ŒcmpæŒ‡ä»¤è¿è¡Œåéƒ½ä¼šè®¾ç½®æ ‡å¿—ä½.
test test æ˜¯é€»è¾‘è¿ç®—ç¬¦</description></item><item><title>å¯¹è±¡å†…å­˜æ„æˆ</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/1-%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7/%E5%AF%B9%E8%B1%A1%E5%86%85%E5%AD%98%E6%9E%84%E6%88%90/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/1-%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7/%E5%AF%B9%E8%B1%A1%E5%86%85%E5%AD%98%E6%9E%84%E6%88%90/</guid><description>å¯¹è±¡å†…å­˜æ„æˆ Java ä¸­é€šè¿‡ new å…³é”®å­—åˆ›å»ºä¸€ä¸ªç±»çš„å®ä¾‹å¯¹è±¡ï¼Œå¯¹è±¡å­˜äºå†…å­˜çš„å †ä¸­å¹¶ç»™å…¶åˆ†é…ä¸€ä¸ªå†…å­˜åœ°å€ã€‚ ![[z-oblib/z2-attachments/Pasted image 20220428151815.png]] åœ¨ JVM ä¸­ï¼ŒJavaå¯¹è±¡ä¿å­˜åœ¨å †ä¸­æ—¶ï¼Œç”±ä»¥ä¸‹ä¸‰éƒ¨åˆ†ç»„æˆï¼š
[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/1-é«˜çº§ç‰¹æ€§/å¯¹è±¡å¤´|å¯¹è±¡å¤´]]ï¼ˆobject headerï¼‰ï¼šåŒ…æ‹¬äº†å…³äºå †å¯¹è±¡çš„å¸ƒå±€ã€ç±»å‹ã€GCçŠ¶æ€ã€åŒæ­¥çŠ¶æ€å’Œæ ‡è¯†å“ˆå¸Œç çš„åŸºæœ¬ä¿¡æ¯ã€‚Javaå¯¹è±¡å’Œvmå†…éƒ¨å¯¹è±¡éƒ½æœ‰ä¸€ä¸ªå…±åŒçš„å¯¹è±¡å¤´æ ¼å¼ã€‚ å®ä¾‹æ•°æ®ï¼ˆInstance Dataï¼‰ï¼šä¸»è¦æ˜¯å­˜æ”¾ç±»çš„æ•°æ®ä¿¡æ¯ï¼Œçˆ¶ç±»çš„ä¿¡æ¯ï¼Œå¯¹è±¡å­—æ®µå±æ€§ä¿¡æ¯ã€‚ å¯¹é½å¡«å……ï¼ˆPaddingï¼‰ï¼šä¸ºäº†å­—èŠ‚å¯¹é½ï¼Œå¡«å……çš„æ•°æ®ï¼Œä¸æ˜¯å¿…é¡»çš„ã€‚ ![[z-oblib/z2-attachments/Pasted image 20220428151834.png]]</description></item><item><title>å¯¹è±¡å¤´</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/1-%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7/%E5%AF%B9%E8%B1%A1%E5%A4%B4/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/1-%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7/%E5%AF%B9%E8%B1%A1%E5%A4%B4/</guid><description>å¯¹è±¡å¤´ ![[z-oblib/z2-attachments/Pasted image 20220428151706.png]]
åœ¨JVMä¸­ï¼Œå¯¹è±¡åœ¨å†…å­˜ä¸­é™¤äº†æœ¬èº«çš„æ•°æ®å¤–è¿˜ä¼šæœ‰ä¸ªå¯¹è±¡å¤´ï¼Œå¯¹äºæ™®é€šå¯¹è±¡è€Œè¨€ï¼Œå…¶å¯¹è±¡å¤´ä¸­æœ‰ä¸¤ç±»ä¿¡æ¯ï¼šmark wordå’Œç±»å‹æŒ‡é’ˆã€‚å¦å¤–å¯¹äºæ•°ç»„è€Œè¨€è¿˜ä¼šæœ‰ä¸€ä»½è®°å½•æ•°ç»„é•¿åº¦çš„æ•°æ®ã€‚ç±»å‹æŒ‡é’ˆæ˜¯æŒ‡å‘è¯¥å¯¹è±¡æ‰€å±ç±»å¯¹è±¡çš„æŒ‡é’ˆã€‚
æ™®é€šå¯¹è±¡ 1 2 3 4 5 |--------------------------------------------------------------| | Object Header (64 bits) | |------------------------------------|-------------------------| | Mark Word (32 bits) | Klass Word (32 bits) | |------------------------------------|-------------------------| æ•°ç»„å¯¹è±¡ 1 2 3 4 5 |------------------------------------------------------------------------------| | Object Header (96 bits) | |------------------------------|----------------------|------------------------| | Mark Word(32bits) | Klass Word(32bits) | array length(32bits) | |------------------------------|----------------------|------------------------| Mark Word [[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/1-é«˜çº§ç‰¹æ€§/Mark Word|Mark Word]]</description></item><item><title>å¯¹è±¡çš„å¼•ç”¨</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/1-%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7/%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%BC%95%E7%94%A8/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/1-%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7/%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%BC%95%E7%94%A8/</guid><description>å¯¹è±¡çš„å¼•ç”¨ å¼•ç”¨ç±»å‹ è¢«åƒåœ¾å›æ”¶æ—¶é—´ ç”¨é€” ç”Ÿå­˜æ—¶é—´ å¼ºå¼•ç”¨ ä»æ¥ä¸ä¼š å¯¹è±¡çš„ä¸€èˆ¬çŠ¶æ€ JVMåœæ­¢è¿è¡Œæ—¶ç»ˆæ­¢ è½¯å¼•ç”¨ å½“å†…å­˜ä¸è¶³æ—¶ å¯¹è±¡ç¼“å­˜ å†…å­˜ä¸è¶³æ—¶ç»ˆæ­¢ å¼±å¼•ç”¨ æ­£å¸¸åƒåœ¾å›æ”¶æ—¶ å¯¹è±¡ç¼“å­˜ åƒåœ¾å›æ”¶åç»ˆæ­¢ è™šå¼•ç”¨ æ­£å¸¸åƒåœ¾å›æ”¶æ—¶ è·Ÿè¸ªå¯¹è±¡çš„åƒåœ¾å›æ”¶ åƒåœ¾å›æ”¶åç»ˆæ­¢ https://juejin.cn/post/6844903665241686029
ä»JDK 1.2ç‰ˆæœ¬å¼€å§‹ï¼Œå¯¹è±¡çš„å¼•ç”¨è¢«åˆ’åˆ†ä¸º4ç§çº§åˆ«ï¼Œä»è€Œä½¿ç¨‹åºèƒ½æ›´åŠ çµæ´»åœ°æ§åˆ¶å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸã€‚è¿™4ç§çº§åˆ«ç”±é«˜åˆ°ä½ä¾æ¬¡ä¸ºï¼šå¼ºå¼•ç”¨ã€è½¯å¼•ç”¨ã€å¼±å¼•ç”¨å’Œè™šå¼•ç”¨ã€‚
![[z-oblib/z2-attachments/16576be9ee015804~tplv-t2oaga2asx-zoom-in-crop-mark-1304-0-0-0.webp]]
å¼ºå¼•ç”¨ å¼ºå¼•ç”¨æ˜¯ä½¿ç”¨æœ€æ™®éçš„å¼•ç”¨ã€‚å¦‚æœä¸€ä¸ªå¯¹è±¡å…·æœ‰å¼ºå¼•ç”¨ï¼Œé‚£åƒåœ¾å›æ”¶å™¨ç»ä¸ä¼šå›æ”¶å®ƒã€‚å¦‚ä¸‹ï¼š
å½“å†…å­˜ç©ºé—´ä¸è¶³æ—¶ï¼ŒJavaè™šæ‹Ÿæœºå®æ„¿æŠ›å‡ºOutOfMemoryErroré”™è¯¯ï¼Œä½¿ç¨‹åºå¼‚å¸¸ç»ˆæ­¢ï¼Œä¹Ÿä¸ä¼šé éšæ„å›æ”¶å…·æœ‰å¼ºå¼•ç”¨çš„å¯¹è±¡æ¥è§£å†³å†…å­˜ä¸è¶³çš„é—®é¢˜ã€‚ å¦‚æœå¼ºå¼•ç”¨å¯¹è±¡ä¸ä½¿ç”¨æ—¶ï¼Œéœ€è¦å¼±åŒ–ä»è€Œä½¿GCèƒ½å¤Ÿå›æ”¶ï¼Œå¦‚ä¸‹ï¼š
1 strongReference = null; æ˜¾å¼åœ°è®¾ç½®strongReferenceå¯¹è±¡ä¸ºnullï¼Œæˆ–è®©å…¶è¶…å‡ºå¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸèŒƒå›´ï¼Œåˆ™gcè®¤ä¸ºè¯¥å¯¹è±¡ä¸å­˜åœ¨å¼•ç”¨ï¼Œè¿™æ—¶å°±å¯ä»¥å›æ”¶è¿™ä¸ªå¯¹è±¡ã€‚å…·ä½“ä»€ä¹ˆæ—¶å€™æ”¶é›†è¿™è¦å–å†³äºGCç®—æ³•ã€‚
1 2 3 4 public void test() { Object strongReference = new Object(); // çœç•¥å…¶ä»–æ“ä½œ } åœ¨ä¸€ä¸ªæ–¹æ³•çš„å†…éƒ¨æœ‰ä¸€ä¸ªå¼ºå¼•ç”¨ï¼Œè¿™ä¸ªå¼•ç”¨ä¿å­˜åœ¨Javaæ ˆä¸­ï¼Œè€ŒçœŸæ­£çš„å¼•ç”¨å†…å®¹(Object)ä¿å­˜åœ¨Javaå †ä¸­ã€‚ å½“è¿™ä¸ªæ–¹æ³•è¿è¡Œå®Œæˆåï¼Œå°±ä¼šé€€å‡ºæ–¹æ³•æ ˆï¼Œåˆ™å¼•ç”¨å¯¹è±¡çš„å¼•ç”¨æ•°ä¸º0ï¼Œè¿™ä¸ªå¯¹è±¡ä¼šè¢«å›æ”¶ã€‚</description></item><item><title>å¯»å€æ–¹å¼</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84/%E5%AF%BB%E5%9D%80%E6%96%B9%E5%BC%8F/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84/%E5%AF%BB%E5%9D%80%E6%96%B9%E5%BC%8F/</guid><description>å¯»å€æ–¹å¼ å¯»å€æ–¹å¼: æŒ‡ä»¤ä¸­æŒ‡æ˜æ“ä½œæ•°å­˜æ”¾ä½ç½®çš„è¡¨è¾¾æ–¹å¼.
æŒ‡ä»¤ä¸­æ“ä½œæ•°çš„æ•°æ®å­˜æ”¾ä½ç½®æƒ…å†µ å­˜æ”¾æŒ‡ä»¤ä¸­ (ç«‹å³æ•°) æ“ä½œæ•°åŒ…å«åœ¨æŒ‡ä»¤ä¸­ å¤‡æ“ä½œæ•°æ®ç›´æ¥è¡¨ç¤ºåœ¨æŒ‡ä»¤çš„æ“ä½œæ•°å­—æ®µä¸­ ç´§è·Ÿåœ¨æ“ä½œç ä¹‹å ä¾‹å¦‚ MOV AL, 10H å­˜æ”¾äºå¯„å­˜å™¨ä¸­ (å¯„å­˜å™¨æ“ä½œæ•°) æ•°æ®å­˜æ”¾åœ¨ CPU çš„ä¸€ä¸ªå¯„å­˜å™¨ä¸­ ä¾‹å¦‚ INC CX å­˜æ”¾äºå­˜å‚¨å™¨ä¸­ (å­˜å‚¨å™¨æ“ä½œæ•°) æ•°æ®å†å†…å­˜æˆ– I/I ç«¯å£ä¸­ å­˜æ”¾æ•°æ®çš„åç§»åœ°å€ä»¥æŸç§æ–¹å¼è¡¨ç¤ºåœ¨æŒ‡ä»¤ä¸­ ä¾‹å¦‚ MOV AX, [2500H] å…¶ä¸­ [2500] ä¸ºå­˜å‚¨å™¨æ“ä½œæ•° å­˜å‚¨å™¨æ“ä½œæ•°ä¸­æ“ä½œçš„æ•°å­—æ®µæŒ‡ç¤ºæ­¤æ“ä½œæ•°çš„åç§»åœ°å€ æ®µåœ°å€ç”±æŸä¸ªæ®µå¯„å­˜å™¨æä¾› é»˜è®¤ä¸º DS æä¾› å¯»å€æ–¹å¼åˆ†ç±» ç«‹å³æ•°å¯»å€ æ“ä½œæ•°ä¸ºç«‹å³æ•° ç›´æ¥å­˜æ”¾åœ¨æŒ‡ä»¤çš„æ“ä½œæ•°å­—æ®µ åªå…è®¸æºæ“ä½œæ•°ä¸ºç«‹å³æ•° ç›®æ ‡æ“ä½œæ•°å¿…é¡»æ˜¯å¯„å­˜å™¨æˆ–å­˜å‚¨å•å…ƒ ç»™å¯„å­˜å™¨æˆ–å­˜å‚¨å•å…ƒèµ‹å€¼ å¯„å­˜å™¨å¯»å€ ç›´æ¥åœ¨æŒ‡ä»¤ä¸­å†™å‡ºå¯„å­˜å™¨åç§° å­˜å‚¨å™¨å¯»å€ ç›´æ¥å¯»å€ æ“ä½œæ•°å­˜åœ¨å†…å­˜ä¸­, æ“ä½œæ•°çš„åç§»åœ°å€ç›´æ¥è¡¨ç¤ºåœ¨æŒ‡ä»¤ä¸­ è¡¨ç¤ºæ ¼å¼: [åç§»åœ°å€] é»˜è®¤æ“ä½œæ•°å­˜æ”¾åœ¨å†…å­˜çš„æ•°æ®æ®µä¸­ ä¾‹å¦‚ MOV AL, [1064H] æ®µè¶…è¶ŠæŒ‡æ˜ä½¿ç”¨çš„æ®µ å¯„å­˜å™¨é—´æ¥å¯»å€ åŸºå€åŠ å˜å€å¯»å€ ç›¸å¯¹åŠ åŸºå€å˜å€å¯»å€</description></item><item><title>å¯¼å…¥è¡¨</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux/%E5%AF%BC%E5%85%A5%E8%A1%A8/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux/%E5%AF%BC%E5%85%A5%E8%A1%A8/</guid><description>å¯¼å…¥è¡¨ (34æ¡æ¶ˆæ¯) PEå¯¼å…¥è¡¨å’ŒIATè¡¨çš„åŸç†åŠå·¥ä½œå…³ç³»_C4ckeçš„åšå®¢-CSDNåšå®¢_peæ–‡ä»¶iatè¡¨
åˆ†ç±» IAT: Import Address Table å¯¼å…¥ï¼ˆå‡½æ•°ï¼‰åœ°å€è¡¨ INT: Import Name Table å¯¼å…¥ï¼ˆå‡½æ•°ï¼‰åç§°è¡¨ ç»“æ„ Import Descriptor å¯¼å…¥è¡¨ï¼Œæ˜¯è®°å½•PEæ–‡ä»¶ä¸­ç”¨åˆ°çš„åŠ¨æ€è¿æ¥åº“çš„é›†åˆï¼Œä¸€ä¸ªdllåº“åœ¨å¯¼å…¥è¡¨ä¸­å ç”¨ä¸€ä¸ªå…ƒç´ ä¿¡æ¯çš„ä½ç½®ï¼Œè¿™ä¸ªå…ƒç´ æè¿°äº†è¯¥å¯¼å…¥dllçš„å…·ä½“ä¿¡æ¯ã€‚å¦‚dllçš„æœ€æ–°ä¿®æ”¹æ—¶é—´ã€dllä¸­å‡½æ•°çš„åå­—/åºå·ã€dllåŠ è½½åçš„å‡½æ•°åœ°å€ç­‰ã€‚è€Œä¸€ä¸ªå…ƒç´ å³ä¸€ä¸ªç»“æ„ä½“ï¼Œä¸€ä¸ªå¯¼å…¥è¡¨å³è¯¥ç»“æ„ä½“çš„æ•°ç»„ï¼Œå…¶ç»“æ„ä½“å¦‚ä¸‹æ‰€ç¤ºï¼š
1 2 3 4 5 6 7 8 9 10 typedef struct _IMAGE_IMPORT_DESCRIPTOR { union { DWORD Characteristics; //å¯¼å…¥è¡¨ç»“æŸæ ‡å¿— DWORD OriginalFirstThunk; //RVAæŒ‡å‘ä¸€ä¸ªç»“æ„ä½“æ•°ç»„(INTè¡¨) }; DWORD TimeDateStamp; //æ—¶é—´æˆ³ DWORD ForwarderChain; // -1 if no forwarders DWORD Name; //RVAæŒ‡å‘dllåå­—ï¼Œä»¥0ç»“å°¾ DWORD FirstThunk; //RVAæŒ‡å‘ä¸€ä¸ªç»“æ„ä½“æ•°ç»„(IATè¡¨) } IMAGE_IMPORT_DESCRIPTOR, *PIMAGE_IMPORT_DESCRIPTOR; ä½œç”¨ è¯´åˆ°å¯¼å…¥è¡¨ï¼Œè‚¯å®šå°±æ˜¯å¯¹åº”å¯¼å‡ºè¡¨ã€‚è€Œå¯¼å‡ºè¡¨çš„ä½œç”¨æ˜¯è‡ªèº«æä¾›ä¸€å¼ æ¸…å•ï¼Œè¡¨æ˜è‡ªå·±åˆå“ªäº›å‡½æ•°ï¼Œå¤§å¤šæ˜¯dllä¸ºexeæä¾›å‡½æ•°ï¼Œå­˜åœ¨å¯¼å‡ºè¡¨ã€‚é‚£ç›¸åï¼Œexeä¸ºäº†è¡¨æ˜è‡ªèº«éœ€è¦å“ªäº›dllçš„å‡½æ•°ï¼Œä¹Ÿä¼šç”Ÿæˆä¸€å¼ è¡¨ï¼Œé‚£è¿™å¼ è¡¨å°±æ˜¯å¯¼å…¥è¡¨ã€‚</description></item><item><title>å¯¼å‡ºè¡¨</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux/%E5%AF%BC%E5%87%BA%E8%A1%A8/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux/%E5%AF%BC%E5%87%BA%E8%A1%A8/</guid><description>å¯¼å‡ºè¡¨ å¯¼å‡ºè¡¨çš„ä½œç”¨æ˜¯è‡ªèº«æä¾›ä¸€å¼ æ¸…å•ï¼Œè¡¨æ˜è‡ªå·±åˆå“ªäº›å‡½æ•°ï¼Œå¤§å¤šæ˜¯dllä¸ºexeæä¾›å‡½æ•°ï¼Œå­˜åœ¨å¯¼å‡ºè¡¨ã€‚</description></item><item><title>å·¥ä½œçº¿ç¨‹</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_1-%E8%BD%AF%E4%BB%B6%E6%96%B9%E6%B3%95%E5%AD%A6/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E5%B7%A5%E4%BD%9C%E7%BA%BF%E7%A8%8B/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_1-%E8%BD%AF%E4%BB%B6%E6%96%B9%E6%B3%95%E5%AD%A6/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E5%B7%A5%E4%BD%9C%E7%BA%BF%E7%A8%8B/</guid><description>å·¥ä½œçº¿ç¨‹ å®šä¹‰ è®©æœ‰é™çš„å·¥ä½œ[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_3-è½¯ä»¶ç³»ç»Ÿ/2_0_2_1_2_3_1-æ“ä½œç³»ç»Ÿ/çº¿ç¨‹|çº¿ç¨‹]]ï¼ˆWorker Threadï¼‰æ¥è½®æµ[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_3-è½¯ä»¶ç³»ç»Ÿ/2_0_2_1_2_3_1-æ“ä½œç³»ç»Ÿ/å¼‚æ­¥|å¼‚æ­¥]]å¤„ç†æ— é™å¤šçš„ä»»åŠ¡ã€‚ä¹Ÿå¯ä»¥å°†å…¶å½’ç±»ä¸ºåˆ†å·¥æ¨¡å¼ï¼Œå®ƒçš„å…¸å‹å®ç° å°±æ˜¯[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/çº¿ç¨‹æ± |çº¿ç¨‹æ± ]]ï¼Œä¹Ÿä½“ç°äº†ç»å…¸è®¾è®¡æ¨¡å¼ä¸­çš„[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_1-è½¯ä»¶æ–¹æ³•å­¦/è®¾è®¡æ¨¡å¼/äº«å…ƒæ¨¡å¼|äº«å…ƒæ¨¡å¼]]ã€‚
ä¾‹å¦‚ï¼Œæµ·åº•æçš„æœåŠ¡å‘˜ï¼ˆçº¿ç¨‹ï¼‰ï¼Œè½®æµå¤„ç†æ¯ä½å®¢äººçš„ç‚¹é¤ï¼ˆä»»åŠ¡ï¼‰ï¼Œå¦‚æœä¸ºæ¯ä½å®¢äººéƒ½é…ä¸€åä¸“å±çš„æœåŠ¡å‘˜ï¼Œé‚£ä¹ˆæˆæœ¬å°±å¤ªé«˜äº†ï¼ˆå¯¹æ¯”å¦ä¸€ç§å¤šçº¿ç¨‹è®¾è®¡æ¨¡å¼ï¼šThread-Per-Messageï¼‰ã€‚
æ³¨æ„ï¼Œä¸åŒä»»åŠ¡ç±»å‹åº”è¯¥ä½¿ç”¨ä¸åŒçš„çº¿ç¨‹æ± ï¼Œè¿™æ ·èƒ½å¤Ÿé¿å…[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_1-è½¯ä»¶æ–¹æ³•å­¦/è®¾è®¡æ¨¡å¼/å·¥ä½œçº¿ç¨‹#é¥¥é¥¿|é¥¥é¥¿]]ï¼Œå¹¶èƒ½æå‡æ•ˆç‡ã€‚
ä¾‹å¦‚ï¼Œå¦‚æœä¸€ä¸ªé¤é¦†çš„å·¥äººæ—¢è¦æ‹›å‘¼å®¢äººï¼ˆä»»åŠ¡ç±»å‹Aï¼‰ï¼Œåˆè¦åˆ°åå¨åšèœï¼ˆä»»åŠ¡ç±»å‹Bï¼‰æ˜¾ç„¶æ•ˆç‡ä¸å’‹åœ°ï¼Œåˆ†æˆæœåŠ¡å‘˜ï¼ˆçº¿ç¨‹æ± Aï¼‰ä¸å¨å¸ˆï¼ˆçº¿ç¨‹æ± Bï¼‰æ›´ä¸ºåˆç†ï¼Œå½“ç„¶ä½ èƒ½æƒ³åˆ°æ›´ç»†è‡´çš„åˆ†å·¥ã€‚
é¥¥é¥¿ å›ºå®šå¤§å°çº¿ç¨‹æ± ä¼šæœ‰é¥¥é¥¿ç°è±¡ï¼š
ä¸¤ä¸ªå·¥äººæ˜¯åŒä¸€ä¸ªçº¿ç¨‹æ± ä¸­çš„ä¸¤ä¸ªçº¿ç¨‹ ä»–ä»¬è¦åšçš„äº‹æƒ…æ˜¯ï¼šä¸ºå®¢äººç‚¹é¤å’Œåˆ°åå¨åšèœï¼Œè¿™æ˜¯ä¸¤ä¸ªé˜¶æ®µçš„å·¥ä½œ å®¢äººç‚¹é¤ï¼šå¿…é¡»å…ˆç‚¹å®Œé¤ï¼Œç­‰èœåšå¥½ï¼Œä¸Šèœï¼Œåœ¨æ­¤æœŸé—´å¤„ç†ç‚¹é¤çš„å·¥äººå¿…é¡»ç­‰å¾… åå¨åšèœï¼šæ²¡å•¥è¯´çš„ï¼Œåšå°±æ˜¯äº† æ¯”å¦‚å·¥äººA å¤„ç†äº†ç‚¹é¤ä»»åŠ¡ï¼Œæ¥ä¸‹æ¥å®ƒè¦ç­‰ç€ å·¥äººB æŠŠèœåšå¥½ï¼Œç„¶åä¸Šèœï¼Œä»–ä¿©ä¹Ÿé…åˆçš„è›®å¥½ ä½†ç°åœ¨åŒæ—¶æ¥äº†ä¸¤ä¸ªå®¢äººï¼Œè¿™ä¸ªæ—¶å€™å·¥äººA å’Œå·¥äººB éƒ½å»å¤„ç†ç‚¹é¤äº†ï¼Œè¿™æ—¶æ²¡äººåšé¥­äº†ï¼Œé¥¥é¥¿ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 public class TestDeadLock { static final List&amp;lt;String&amp;gt; MENU = Arrays.</description></item><item><title>å·¥å‚æ¨¡å¼</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_1-%E8%BD%AF%E4%BB%B6%E6%96%B9%E6%B3%95%E5%AD%A6/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_1-%E8%BD%AF%E4%BB%B6%E6%96%B9%E6%B3%95%E5%AD%A6/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F/</guid><description>å·¥å‚æ¨¡å¼ ä½œç”¨ æŠŠå¯¹è±¡çš„åˆ›å»ºå’Œä½¿ç”¨è¿‡ç¨‹åˆ†å‰²å¼€æ¥ï¼š å°†å¯¹è±¡å®ä¾‹åŒ–çš„åŠ¨ä½œè§£è€¦åˆ°ä¸€ä¸ªå·¥å‚ä¸­ï¼Œåç»­è¦ä¿®æ”¹æˆ–æ·»åŠ å…¶å®ƒå®ä¾‹ï¼Œåªéœ€è¦ä¿®æ”¹å·¥å‚æ–¹æ³•ã€‚
ä¾‹å¦‚ï¼š
å¦‚æœå¯¹ç±»Açš„åŠŸèƒ½è¿›è¡Œä¿®æ”¹ï¼Œè¡ç”Ÿå‡ºå­ç±»Bç»§æ‰¿è‡ªåŸå§‹ç±»Aï¼Œåˆ™éœ€è¦åœ¨æ‰€æœ‰å®ä¾‹åŒ–Açš„åœ°æ–¹ä¿®æ”¹å®ä¾‹åŒ–ä»£ç ã€‚
è€Œæœ‰å·¥å‚æ–¹æ³•åï¼Œåªéœ€è¦ä¿®æ”¹å·¥å‚ä¸­çš„äº‹ä»¶ï¼Œå°†åŸæ¥return new A() æ”¹ä¸º return new B()å³å¯ã€‚
æ™®é€šå·¥å‚ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 interface fruit{ public abstract void eat(); } class Apple implements fruit{ public void eat(){ System.out.println(&amp;#34;Apple&amp;#34;); } } class Orange implements fruit{ public void eat(){ System.</description></item><item><title>å¹¶å‘</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E5%B9%B6%E5%8F%91/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E5%B9%B6%E5%8F%91/</guid><description>å¹¶å‘ å¹¶å‘ï¼ˆconcurrentï¼‰æ˜¯åŒä¸€æ—¶é—´åº”å¯¹ï¼ˆdealing withï¼‰å¤šä»¶äº‹æƒ…çš„èƒ½åŠ›ã€‚ æ“ä½œç³»ç»Ÿé€šè¿‡ä»»åŠ¡è°ƒåº¦å™¨ç»„ä»¶ï¼Œå°†CPUçš„æ—¶é—´ç‰‡ï¼ˆwinä¸‹æœ€å°15msï¼‰åˆ†ç»™ä¸åŒçš„ä»»åŠ¡ä½¿ç”¨ã€‚CPUåœ¨å¤šä¸ªä»»åŠ¡ä¹‹é—´å¿«é€Ÿåˆ‡æ¢ï¼Œæ—¶é—´éå¸¸çŸ­ï¼Œè®©äººäº§ç”Ÿäº†ä¸€ç§å¤šä¸ªä»»åŠ¡åœ¨åŒæ—¶æ‰§è¡Œçš„é”™è§‰ï¼Œå®é™…ä¸Šä»»åŠ¡è¿˜æ˜¯ä¸²è¡Œæ‰§è¡Œã€‚
![[z-oblib/z2-attachments/Pasted image 20220525143804.png]]</description></item><item><title>å¹¶å‘é›†åˆå®¹å™¨</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E5%B9%B6%E5%8F%91%E9%9B%86%E5%90%88%E5%AE%B9%E5%99%A8/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E5%B9%B6%E5%8F%91%E9%9B%86%E5%90%88%E5%AE%B9%E5%99%A8/</guid><description>å¹¶å‘é›†åˆå®¹å™¨ å¹¶å‘å®¹å™¨æ˜¯Java 5 æä¾›çš„åœ¨å¤šçº¿ç¨‹ç¼–ç¨‹ä¸‹ç”¨äºä»£æ›¿åŒæ­¥å®¹å™¨ï¼Œé’ˆå¯¹ä¸åŒçš„åº”ç”¨åœºæ™¯è¿›è¡Œè®¾è®¡ï¼Œæé«˜å®¹å™¨çš„å¹¶å‘è®¿é—®æ€§ï¼ŒåŒæ—¶å®šä¹‰äº†çº¿ç¨‹å®‰å…¨çš„å¤åˆæ“ä½œã€‚
æˆ‘ä»¬çŸ¥é“åœ¨java.utilåŒ…ä¸‹æä¾›äº†ä¸€äº›å®¹å™¨ç±»ï¼Œè€ŒVectorå’ŒHashTableæ˜¯çº¿ç¨‹å®‰å…¨çš„å®¹å™¨ç±»ï¼Œä½†æ˜¯è¿™äº›å®¹å™¨å®ç°åŒæ­¥çš„æ–¹å¼æ˜¯é€šè¿‡å¯¹æ–¹æ³•åŠ é”(sychronized)æ–¹å¼å®ç°çš„ï¼Œè¿™æ ·è¯»å†™å‡éœ€è¦é”æ“ä½œï¼Œå¯¼è‡´æ€§èƒ½ä½ä¸‹ã€‚
è€Œå³ä½¿æ˜¯Vectorè¿™æ ·çº¿ç¨‹å®‰å…¨çš„ç±»ï¼Œåœ¨é¢å¯¹å¤šçº¿ç¨‹ä¸‹çš„å¤åˆæ“ä½œçš„æ—¶å€™ä¹Ÿæ˜¯éœ€è¦é€šè¿‡å®¢æˆ·ç«¯åŠ é”çš„æ–¹å¼ä¿è¯åŸå­æ€§ã€‚å¦‚ä¸‹é¢ä¾‹å­è¯´æ˜ï¼š
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 public class TestVector { private Vector&amp;lt;String&amp;gt; vector; //æ–¹æ³•ä¸€ public Object getLast(Vector vector) { int lastIndex = vector.size() - 1; return vector.get(lastIndex); } //æ–¹æ³•äºŒ public void deleteLast(Vector vector) { int lastIndex = vector.</description></item><item><title>å¹¶æŸ¥é›†</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_0_2_1-%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E5%B9%B6%E6%9F%A5%E9%9B%86/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_0_2_1-%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E5%B9%B6%E6%9F%A5%E9%9B%86/</guid><description>å¹¶æŸ¥é›† å¹¶æŸ¥é›†å¸¸ç”¨æ¥è§£å†³è¿é€šæ€§çš„é—®é¢˜ï¼Œå³å°†ä¸€ä¸ªå›¾ä¸­è¿é€šçš„éƒ¨åˆ†åˆ’åˆ†å‡ºæ¥ã€‚å½“æˆ‘ä»¬åˆ¤æ–­å›¾ä¸­ä¸¤ä¸ªç‚¹ä¹‹é—´æ˜¯å¦å­˜åœ¨è·¯å¾„æ—¶ï¼Œå°±å¯ä»¥æ ¹æ®åˆ¤æ–­ä»–ä»¬æ˜¯å¦åœ¨ä¸€ä¸ªè¿é€šåŒºåŸŸã€‚
è§£é‡Š å¹¶æŸ¥é›†å…¶å®å®Œæˆäº†ä¸¤ä¸ªæ“ä½œ æŸ¥æ‰¾ä¸€ä¸ªå…ƒç´ çš„æ ¹æ˜¯è° åˆå¹¶ä¸¤ä¸ªä¸åŒçš„æ ‘ ç”¨å¤„ å¹¶æŸ¥é›†åˆå§‹åŒ– å¹¶æŸ¥é›†ä¸€èˆ¬æ˜¯ç”¨ä¸€ä¸ªä¸€ç»´æ•°ç»„æ¥å­˜å‚¨çš„ï¼Œå…¶ä¸­pre[i]=iè¡¨ç¤ºè‡ªå·±å’Œè‡ªå·±æ˜¯è¿é€šçš„ï¼Œä¹Ÿå°±æ˜¯è¯´è¿˜æ²¡æœ‰å¾€ç‚¹ä¹‹é—´æ·»åŠ è·¯å¾„ã€‚
![[z-oblib/z2-attachments/Pasted image 20220506195441.png]]
find() æ‰¾èŠ‚ç‚¹å¯¹åº”æ ¹èŠ‚ç‚¹ 1 2 3 4 5 6 7 // æ‰¾æŸä¸ªèŠ‚ç‚¹çš„æ ¹èŠ‚ç‚¹ int find(int x) { while (fams[x]!=x) // å¦‚æœçˆ¶èŠ‚ç‚¹æŒ‡å‘è‡ªå·±ï¼Œåˆ™ä¸ºæ ¹ï¼Œå¦åˆ™ç»§ç»­æ‰¾ x = fams[x]; return x; } è·¯å¾„å‹ç¼© æˆ‘ä»¬ä½¿ç”¨äº†å¤ªå¤šæ²¡ç”¨çš„ä¿¡æ¯ï¼Œæˆ‘çš„ç¥–å…ˆæ˜¯è°ä¸æˆ‘çˆ¶äº²æ˜¯è°æ²¡ä»€ä¹ˆå…³ç³»ï¼Œè¿™æ ·ä¸€å±‚ä¸€å±‚æ‰¾å¤ªæµªè´¹æ—¶é—´ï¼Œä¸å¦‚æˆ‘ç›´æ¥å½“ç¥–å…ˆçš„å„¿å­ï¼Œé—®ä¸€æ¬¡å°±å¯ä»¥å‡ºç»“æœäº†ã€‚ç”šè‡³ç¥–å…ˆæ˜¯è°éƒ½æ— æ‰€è°“ï¼Œåªè¦è¿™ä¸ªäººå¯ä»¥ä»£è¡¨æˆ‘ä»¬å®¶æ—å°±èƒ½å¾—åˆ°æƒ³è¦çš„æ•ˆæœã€‚æŠŠåœ¨è·¯å¾„ä¸Šçš„æ¯ä¸ªèŠ‚ç‚¹éƒ½ç›´æ¥è¿æ¥åˆ°æ ¹ä¸Šï¼Œè¿™å°±æ˜¯è·¯å¾„å‹ç¼©ã€‚
![[z-oblib/z2-attachments/Pasted image 20220508192509.png]]
1 2 3 4 5 int find(int x) { if (x != fa[x]) // x ä¸æ˜¯è‡ªèº«çš„çˆ¶äº²ï¼Œå³ x ä¸æ˜¯è¯¥é›†åˆçš„ä»£è¡¨ fa[x] = find(fa[x]); // æŸ¥æ‰¾ x çš„ç¥–å…ˆç›´åˆ°æ‰¾åˆ°ä»£è¡¨ï¼Œäºæ˜¯é¡ºæ‰‹è·¯å¾„å‹ç¼© return fa[x]; } join/union() å‘å„å­æ ‘æ·»åŠ èŠ‚ç‚¹ ä¸»è¦æ˜¯ç”¨æ¥å¾€å­˜æ”¾å¹¶æŸ¥é›†çš„ä¸€ç»´æ•°ç»„ä¸­æ·»åŠ è·¯å¾„çš„ï¼Œå…ˆåˆ¤æ–­ä¸¤ä¸ªç‚¹ä¹‹é—´æ˜¯å¦è¿é€šï¼Œå¦‚æœè¿é€šå°±ä¸ç”¨æ·»åŠ è·¯å¾„äº†ï¼Œå¦‚æœä¸è¿é€šé‚£ä¹ˆå°†ä¸¤ä¸ªç‚¹çš„æ ¹èŠ‚ç‚¹è¿åœ¨ä¸€èµ·ã€‚</description></item><item><title>å¹¶è¡Œ</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E5%B9%B6%E8%A1%8C/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E5%B9%B6%E8%A1%8C/</guid><description>å¹¶è¡Œ å¹¶è¡Œï¼ˆparallelï¼‰æ˜¯åŒä¸€æ—¶é—´åŠ¨æ‰‹åšï¼ˆdoingï¼‰å¤šä»¶äº‹æƒ…çš„èƒ½åŠ›ã€‚ ä¸¤ä¸ªCPUæ ¸å¿ƒçœŸæ­£åŒæ—¶è¿è¡Œä¸¤ä¸ªä»»åŠ¡ï¼ˆçº¿ç¨‹ï¼‰ã€‚
![[z-oblib/z2-attachments/Pasted image 20220525143900.png]]</description></item><item><title>å¼€é—­åŸåˆ™</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/1-%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7/%E5%BC%80%E9%97%AD%E5%8E%9F%E5%88%99/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/1-%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7/%E5%BC%80%E9%97%AD%E5%8E%9F%E5%88%99/</guid><description>å¼€é—­åŸåˆ™ å¼€é—­åŸåˆ™ï¼ˆOpen-Closed Principle, OCPï¼‰æ˜¯æŒ‡ä¸€ä¸ªè½¯ä»¶å®ä½“å¦‚ç±»ã€æ¨¡å—å’Œå‡½æ•°åº”è¯¥å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­ã€‚
é—­åˆåŸåˆ™ ä¸æƒ³å‘å¤–æš´éœ²çš„è®¾ç½®æˆfinal/privateã€‚</description></item><item><title>å¼‚å¸¸</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/0-%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/%E5%BC%82%E5%B8%B8/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/0-%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/%E5%BC%82%E5%B8%B8/</guid><description>å¼‚å¸¸ é€šå¸¸ï¼ŒJavaçš„å¼‚å¸¸(åŒ…æ‹¬Exceptionå’ŒError)åˆ†ä¸ºï¼š
æ£€æŸ¥å¼‚å¸¸ï¼ˆchecked exceptionsï¼‰ éæ£€æŸ¥çš„å¼‚å¸¸ï¼ˆunchecked exceptionsï¼‰ã€‚ å…¶ä¸­æ ¹æ®Exceptionå¼‚å¸¸è¿›è¡Œåˆ’åˆ†ï¼Œå¯åˆ†ä¸ºï¼š è¿è¡Œæ—¶å¼‚å¸¸ éè¿è¡Œæ—¶å¼‚å¸¸ æ£€æŸ¥å¼‚å¸¸ å°±æ˜¯ç¼–è¯‘å™¨è¦æ±‚ä½ å¿…é¡»å¤„ç½®çš„å¼‚å¸¸ã€‚ä¸çŸ¥é“ä½ ç¼–ç¨‹çš„æ—¶å€™æœ‰æ²¡æœ‰é‡åˆ°è¿‡ï¼Œä½ å†™çš„æŸæ®µä»£ç ï¼Œç¼–è¯‘å™¨è¦æ±‚ä½ å¿…é¡»è¦å¯¹è¿™æ®µä»£ç try&amp;hellip;catchï¼Œæˆ–è€…throws exceptionï¼Œå¦‚æœä½ é‡è§è¿‡ï¼Œæ²¡é”™ï¼Œè¿™å°±æ˜¯æ£€æŸ¥å¼‚å¸¸ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä½ ä»£ç è¿˜æ²¡è¿è¡Œå‘¢ï¼Œç¼–è¯‘å™¨å°±ä¼šæ£€æŸ¥ä½ çš„ä»£ç ï¼Œä¼šä¸ä¼šå‡ºç°å¼‚å¸¸ï¼Œè¦æ±‚ä½ å¯¹å¯èƒ½å‡ºç°çš„å¼‚å¸¸å¿…é¡»åšå‡ºç›¸åº”çš„å¤„ç†ã€‚
å¤„ç† 1ã€ç»§ç»­æŠ›å‡ºï¼Œæ¶ˆæçš„æ–¹æ³•ï¼Œä¸€ç›´å¯ä»¥æŠ›åˆ°javaè™šæ‹Ÿæœºæ¥å¤„ç†ï¼Œå°±æ˜¯é€šè¿‡throws exceptionæŠ›å‡ºã€‚
2ã€ç”¨try&amp;hellip;catchæ•è·
æ³¨æ„ï¼Œå¯¹äºæ£€æŸ¥çš„å¼‚å¸¸å¿…é¡»å¤„ç†ï¼Œæˆ–è€…å¿…é¡»æ•è·æˆ–è€…å¿…é¡»æŠ›å‡º
åˆ†ç±» é™¤äº†RuntimeExceptionä¸å…¶å­ç±»ï¼Œä»¥åŠé”™è¯¯ï¼ˆErrorï¼‰ï¼Œå…¶ä»–çš„éƒ½æ˜¯æ£€æŸ¥å¼‚å¸¸ï¼ˆç»å¯¹çš„å¤§å®¶æ—ï¼‰ã€‚
éæ£€æŸ¥å¼‚å¸¸ ç¼–è¯‘å™¨ä¸è¦æ±‚å¼ºåˆ¶å¤„ç½®çš„å¼‚å¸¸ï¼Œè™½ç„¶ä½ æœ‰å¯èƒ½å‡ºç°é”™è¯¯ï¼Œä½†æ˜¯æˆ‘ä¸ä¼šåœ¨ç¼–è¯‘çš„æ—¶å€™æ£€æŸ¥ï¼Œæ²¡å¿…è¦ï¼Œä¹Ÿä¸å¯èƒ½ã€‚
å¤„ç† 1ã€æ•è·
2ã€ç»§ç»­æŠ›å‡º
3ã€ä¸å¤„ç†
ä¸€èˆ¬æˆ‘ä»¬æ˜¯ä¸å¤„ç†çš„ï¼Œå› ä¸ºä½ å¾ˆéš¾åˆ¤æ–­ä¼šå‡ºä»€ä¹ˆé—®é¢˜ï¼Œè€Œä¸”æœ‰äº›å¼‚å¸¸ä½ ä¹Ÿæ— æ³•è¿è¡Œæ—¶å¤„ç†ï¼Œæ¯”å¦‚ç©ºæŒ‡é’ˆï¼Œéœ€è¦äººæ‰‹åŠ¨çš„å»æŸ¥æ‰¾ã€‚
è€Œä¸”ï¼Œæ•æ‰å¼‚å¸¸å¹¶å¤„ç†çš„ä»£ä»·è¿œè¿œå¤§äºç›´æ¥æŠ›å‡ºã€‚
ä¸ºä½•å­˜åœ¨ ä½ æƒ³æƒ³éæ£€æŸ¥å¼‚å¸¸éƒ½æœ‰å“ªäº›ï¼ŸNullPointerExceptionï¼ŒIndexOutOfBoundsExceptionï¼ŒVirtualMachineErrorç­‰ï¼Œè¿™äº›å¼‚å¸¸ä½ ç¼–è¯‘çš„æ—¶å€™æ£€æŸ¥å—ï¼Ÿå†è¯´äº†ï¼Œæ˜æ˜å¯ä»¥è¿è¡Œæ—¶æ£€æŸ¥ï¼Œéƒ½åœ¨ç¼–è¯‘çš„æ—¶å€™æ£€æŸ¥ï¼Œä½ å†™çš„ä»£ç è¿˜èƒ½çœ‹å—ï¼Ÿè€Œä¸”æœ‰äº›å¼‚å¸¸åªèƒ½åœ¨è¿è¡Œæ—¶æ‰èƒ½æ£€æŸ¥å‡ºæ¥ï¼Œæ¯”å¦‚ç©ºæŒ‡é’ˆï¼Œå †æº¢å‡ºç­‰ã€‚
åˆ†ç±» RuntimeExceptionä¸å…¶å­ç±»ï¼Œä»¥åŠé”™è¯¯ï¼ˆErrorï¼‰ã€‚
è¿è¡Œæ—¶å¼‚å¸¸ éƒ½æ˜¯RuntimeExceptionç±»åŠå…¶å­ç±»å¼‚å¸¸ï¼Œå¦‚NullPointerException(ç©ºæŒ‡é’ˆå¼‚å¸¸)ã€IndexOutOfBoundsException(ä¸‹æ ‡è¶Šç•Œå¼‚å¸¸)ç­‰ï¼Œè¿™äº›å¼‚å¸¸æ˜¯éæ£€æŸ¥å¼‚å¸¸ï¼Œç¨‹åºä¸­å¯ä»¥é€‰æ‹©æ•è·å¤„ç†ï¼Œä¹Ÿå¯ä»¥ä¸å¤„ç†ã€‚è¿™äº›å¼‚å¸¸ä¸€èˆ¬æ˜¯ç”±ç¨‹åºé€»è¾‘é”™è¯¯å¼•èµ·çš„ï¼Œç¨‹åºåº”è¯¥ä»é€»è¾‘è§’åº¦å°½å¯èƒ½é¿å…è¿™ç±»å¼‚å¸¸çš„å‘ç”Ÿã€‚
è¿è¡Œæ—¶å¼‚å¸¸çš„ç‰¹ç‚¹æ˜¯Javaç¼–è¯‘å™¨ä¸ä¼šæ£€æŸ¥å®ƒï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå½“ç¨‹åºä¸­å¯èƒ½å‡ºç°è¿™ç±»å¼‚å¸¸ï¼Œå³ä½¿æ²¡æœ‰ç”¨try-catchè¯­å¥æ•è·å®ƒï¼Œä¹Ÿæ²¡æœ‰ç”¨throwså­å¥å£°æ˜æŠ›å‡ºå®ƒï¼Œä¹Ÿä¼šç¼–è¯‘é€šè¿‡ã€‚
éè¿è¡Œæ—¶å¼‚å¸¸ æ˜¯RuntimeExceptionä»¥å¤–çš„å¼‚å¸¸ï¼Œç±»å‹ä¸Šéƒ½å±äºExceptionç±»åŠå…¶å­ç±»ã€‚ä»ç¨‹åºè¯­æ³•è§’åº¦è®²æ˜¯å¿…é¡»è¿›è¡Œå¤„ç†çš„å¼‚å¸¸ï¼Œå¦‚æœä¸å¤„ç†ï¼Œç¨‹åºå°±ä¸èƒ½ç¼–è¯‘é€šè¿‡ã€‚å¦‚IOExceptionã€SQLExceptionç­‰ä»¥åŠç”¨æˆ·è‡ªå®šä¹‰çš„Exceptionå¼‚å¸¸ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ä¸è¦è‡ªå®šä¹‰æ£€æŸ¥å¼‚å¸¸ã€‚</description></item><item><title>å¼‚æ­¥</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E5%BC%82%E6%AD%A5/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E5%BC%82%E6%AD%A5/</guid><description>å¼‚æ­¥ ä»¥è°ƒç”¨æ–¹è§’åº¦ ä¸éœ€è¦ç­‰å¾…ç»“æœè¿”å›ï¼Œå°±èƒ½ç»§ç»­è¿è¡Œå°±æ˜¯å¼‚æ­¥ã€‚</description></item><item><title>å¿«é€Ÿå–æ¨¡</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_0_2_1-%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E5%BF%AB%E9%80%9F%E5%8F%96%E6%A8%A1/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_0_2_1-%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E5%BF%AB%E9%80%9F%E5%8F%96%E6%A8%A1/</guid><description>å¿«é€Ÿå–æ¨¡ ä½¿ç”¨ä½è¿ç®—ä»£æ›¿å–æ¨¡ï¼š å‰æï¼šbä¸º2^n $a % b == a &amp;amp; (b - 1)$
åŸç† $X % 2^n = X &amp;amp; (2^n - 1)$
å‡è®¾ n ä¸º 3ï¼Œåˆ™ 2^3 = 8ï¼Œè¡¨ç¤ºæˆ 2 è¿›åˆ¶å°±æ˜¯ 1000ã€‚2^3 - 1 = 7 ï¼Œå³ 0111ã€‚
æ­¤æ—¶ $X &amp;amp; (2^3 - 1)$ å°±ç›¸å½“äºå– X çš„ 2 è¿›åˆ¶çš„æœ€åä¸‰ä½æ•°ã€‚</description></item><item><title>å¿«é€Ÿå¹‚</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_0_2_1-%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E5%BF%AB%E9%80%9F%E5%B9%82/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_0_2_1-%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E5%BF%AB%E9%80%9F%E5%B9%82/</guid><description>å¿«é€Ÿå¹‚ äºŒåˆ†çš„æ€æƒ³ã€‚
æŒ‡æ•°è½¬æ¢ä¸ºäºŒè¿›åˆ¶ äºŒè¿›åˆ¶æ ‘åˆå¯ä»¥æ‹†åˆ†æˆ1 2 4 8&amp;hellip;çš„å’Œ è€Œ1 2 4 8&amp;hellip;ä¹‹é—´éƒ½æ˜¯ X2çš„å…³ç³»ï¼Œæ¯ä¸€ä½éƒ½æ˜¯å‰ä¸€ä½çš„2å€ï¼Œè®¡ç®—æ›´é«˜ä½åªç”¨x2 è¿™æ ·æ—¶é—´å¤æ‚åº¦å°±é™ä½äº† åŒæ ·çš„æ€è·¯å¯ä»¥å®ç°å¿«é€Ÿä¹˜ï¼Œåªè¦å°†éƒ¨åˆ†ä¹˜æ³•æ¢æˆåŠ æ³•å³å¯ã€‚
åŸºæœ¬æ–¹æ³• 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 public class FastPower { // é€’å½’ static int byRecursion(int base, int exponent) { if (exponent==0) // æŒ‡æ•°ä¸º0 return 1; if (exponent % 2 == 1) { // æŒ‡æ•°ä¸ºå¥‡æ•° return byRecursion(base, exponent-1) * base; } int tmp = byRecursion(base, exponent/2); // æŒ‡æ•°ä¸ºå¶æ•° return tmp * tmp; // é™¤ä»¥2åï¼Œæ—¶é—´å¤æ‚åº¦é™ä¸º log(n)ï¼Œä¸ç”¨é‡å¤ç®—ä¸¤æ¬¡byRecursion(base, exponent/2)äº†ã€‚ } // è¿­ä»£ static int byIteration(int base, int exponent) { int ans = 1; while(exponent&amp;gt;0) { if ((exponent &amp;amp; 1) == 1) { // åˆ¤æ–­æŒ‡æ•°æœ€ä½ä½æ˜¯å¦ä¸º1ï¼Œæ˜¯çš„è¯åˆ™å°†å½“å‰ ans *= base; // åº•æ•°ç›¸ä¹˜æŒ‡æ•°ç›¸åŠ  } base *= base; // ä¸æ–­è®¡ç®—å‡º x^2 x^4 x*8 .</description></item><item><title>å¿«é€Ÿæ’åº</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_0_2_1-%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_0_2_1-%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F/</guid><description>å¿«é€Ÿæ’åº å¿«é€Ÿæ’åºæ˜¯[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_0_2_1-æ•°æ®ç»“æ„ä¸ç®—æ³•/å†’æ³¡æ’åº|å†’æ³¡æ’åº]]çš„æ”¹è¿›ç‰ˆæœ¬ã€‚
å¿«æ’çš„æ¯ä¸€è½®éƒ½æ˜¯è®²ä¸€ä¸ªåŸºæ•°å½’ä¸ºï¼Œæ‰€ä»¥å¤–å±‚è¦å¾ªç¯næ¬¡ï¼š ![[z-oblib/z2-attachments/3.9-1.png]]
æ—¶é—´å¤æ‚åº¦ å¿«é€Ÿæ’åºä¹‹æ‰€æ¯”è¾ƒå¿«ï¼Œå› ä¸ºç›¸æ¯”å†’æ³¡æ’åºï¼Œæ¯æ¬¡äº¤æ¢æ˜¯è·³è·ƒå¼çš„ã€‚ æ¯æ¬¡æ’åºçš„æ—¶å€™è®¾ç½®ä¸€ä¸ªåŸºå‡†ç‚¹ï¼Œå°†å°äºç­‰äºåŸºå‡†ç‚¹çš„æ•°å…¨éƒ¨æ”¾åˆ°åŸºå‡†ç‚¹çš„å·¦è¾¹ï¼Œå°†å¤§äºç­‰äºåŸºå‡†ç‚¹çš„æ•°å…¨éƒ¨æ”¾åˆ°åŸºå‡†ç‚¹çš„å³è¾¹ã€‚ è¿™æ ·åœ¨æ¯æ¬¡äº¤æ¢çš„æ—¶å€™å°±ä¸ä¼šåƒå†’æ³¡æ’åºä¸€æ ·æ¯æ¬¡åªèƒ½åœ¨ç›¸é‚»çš„æ•°ä¹‹é—´è¿›è¡Œäº¤æ¢ï¼Œäº¤æ¢çš„è·ç¦»å°±å¤§çš„å¤šäº†ã€‚ å½“ç„¶åœ¨æœ€åçš„æƒ…å†µä¸‹ï¼Œä»å¯èƒ½æ˜¯ç›¸é‚»çš„ä¸¤ä¸ªæ•°è¿›è¡Œäº†äº¤æ¢ã€‚ å› æ­¤å¿«é€Ÿæ’åºçš„æœ€å·®æ—¶é—´å¤æ‚åº¦å’Œå†’æ³¡æ’åºæ˜¯ä¸€æ ·çš„éƒ½æ˜¯ O(N2)ï¼Œå®ƒçš„å¹³å‡æ—¶é—´å¤æ‚åº¦ä¸º O(NlogN)ã€‚ å…¶å®å¿«é€Ÿæ’åºæ˜¯åŸºäºä¸€ç§å«åšâ€œäºŒåˆ†â€çš„æ€æƒ³ã€‚
å®ç° åŒæŒ‡é’ˆç‰ˆ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 // å¿«é€Ÿæ’åº public void quickSort(int left, int right) { // å­é›†åªæœ‰ä¸€ä¸ªå…ƒç´ æ—§æ²¡å¿…è¦ç»§ç»­åˆ‡åˆ†å¿«æ’äº† int lens = right - left + 1; if (lens&amp;lt;2) return; int base = num[left]; // å–åŒºé—´ç¬¬ä¸€ä¸ªå…ƒç´ ä½œbaseå€¼ int curLeft = left; // è®°å½•å½“å‰å·¦åŒºé—´ä¸‹æ ‡ï¼Œç”¨äºé€’å½’ int curRight = right; // è®°å½•å½“å‰å³åŒºé—´ä¸‹æ ‡ï¼Œç”¨äºé€’å½’ boolean leftReady = false, rightReady = false; // æ ‡å¿—æ˜¯å¦æ‰¾åˆ°éœ€è¦äº¤æ¢çš„æ•° while (left!</description></item><item><title>æ‚²è§‚é”</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%82%B2%E8%A7%82%E9%94%81/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%82%B2%E8%A7%82%E9%94%81/</guid><description>æ‚²è§‚é” æ‚²è§‚é”å°±æ˜¯æˆ‘ä»¬å¸¸è¯´çš„é”ã€‚å¯¹äºæ‚²è§‚é”æ¥è¯´ï¼Œå®ƒæ€»æ˜¯è®¤ä¸ºæ¯æ¬¡è®¿é—®å…±äº«èµ„æºæ—¶ä¼šå‘ç”Ÿå†²çªï¼Œæ‰€ä»¥å¿…é¡»å¯¹æ¯æ¬¡æ•°æ®æ“ä½œåŠ ä¸Šé”ï¼Œä»¥ä¿è¯ä¸´ç•ŒåŒºçš„ç¨‹åºåŒä¸€æ—¶é—´åªèƒ½æœ‰ä¸€ä¸ª[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_3-è½¯ä»¶ç³»ç»Ÿ/2_0_2_1_2_3_1-æ“ä½œç³»ç»Ÿ/çº¿ç¨‹|çº¿ç¨‹]]åœ¨æ‰§è¡Œã€‚</description></item><item><title>æŒ‡ä»¤çº§å¹¶è¡Œ</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_0_1-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E6%8C%87%E4%BB%A4%E7%BA%A7%E5%B9%B6%E8%A1%8C/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_0_1-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E6%8C%87%E4%BB%A4%E7%BA%A7%E5%B9%B6%E8%A1%8C/</guid><description>æŒ‡ä»¤çº§å¹¶è¡Œ åè¯è§£é‡Š Clock Cycle Time ä¸»é¢‘çš„æ¦‚å¿µå¤§å®¶æ¥è§¦çš„æ¯”è¾ƒå¤šï¼Œè€Œ CPU çš„ Clock Cycle Timeï¼ˆæ—¶é’Ÿå‘¨æœŸæ—¶é—´ï¼‰ï¼Œç­‰äºä¸»é¢‘çš„å€’æ•°ï¼Œæ„æ€æ˜¯ CPU èƒ½å¤Ÿè¯†åˆ«çš„æœ€å°æ—¶é—´å•ä½ï¼Œæ¯”å¦‚è¯´ 4G ä¸»é¢‘çš„ CPU çš„ Clock Cycle Time å°±æ˜¯ 0.25 nsï¼Œä½œä¸ºå¯¹æ¯”ï¼Œæˆ‘ä»¬å¢™ä¸ŠæŒ‚é’Ÿçš„Cycle Time æ˜¯ 1sã€‚ ä¾‹å¦‚ï¼Œè¿è¡Œä¸€æ¡åŠ æ³•æŒ‡ä»¤ä¸€èˆ¬éœ€è¦ä¸€ä¸ªæ—¶é’Ÿå‘¨æœŸæ—¶é—´ã€‚
CPI æœ‰çš„æŒ‡ä»¤éœ€è¦æ›´å¤šçš„æ—¶é’Ÿå‘¨æœŸæ—¶é—´ï¼Œæ‰€ä»¥å¼•å‡ºäº† CPI ï¼ˆCycles Per Instructionï¼‰æŒ‡ä»¤å¹³å‡æ—¶é’Ÿå‘¨æœŸæ•°ã€‚
IPC IPCï¼ˆInstruction Per Clock Cycleï¼‰ å³ CPI çš„å€’æ•°ï¼Œè¡¨ç¤ºæ¯ä¸ªæ—¶é’Ÿå‘¨æœŸèƒ½å¤Ÿè¿è¡Œçš„æŒ‡ä»¤æ•°ã€‚
CPU æ‰§è¡Œæ—¶é—´ ç¨‹åºçš„ CPU æ‰§è¡Œæ—¶é—´ï¼Œå³æˆ‘ä»¬å‰é¢æåˆ°çš„ user + system æ—¶é—´ï¼Œå¯ä»¥ç”¨ä¸‹é¢çš„å…¬å¼æ¥è¡¨ç¤ºã€‚ ç¨‹åº CPU æ‰§è¡Œæ—¶é—´ = æŒ‡ä»¤æ•° * CPI * Clock Cycle Time
é±¼ç½å¤´çš„æ•…äº‹ åŠ å·¥ä¸€æ¡é±¼éœ€è¦ 50 åˆ†é’Ÿï¼Œåªèƒ½ä¸€æ¡é±¼ã€ä¸€æ¡é±¼é¡ºåºåŠ å·¥&amp;hellip; ![[z-oblib/z2-attachments/Pasted image 20220531001400.png]]
å¯ä»¥å°†æ¯ä¸ªé±¼ç½å¤´çš„åŠ å·¥æµç¨‹ç»†åˆ†ä¸º 5 ä¸ªæ­¥éª¤ï¼š</description></item><item><title>æŒ‡ä»¤é‡æ’åº</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_0_1-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E6%8C%87%E4%BB%A4%E9%87%8D%E6%8E%92%E5%BA%8F/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_0_1-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E6%8C%87%E4%BB%A4%E9%87%8D%E6%8E%92%E5%BA%8F/</guid><description>æŒ‡ä»¤é‡æ’åº è®¡ç®—æœºåœ¨æ‰§è¡Œç¨‹åºæ—¶ï¼Œä¸ºäº†æé«˜æ€§èƒ½ï¼Œç¼–è¯‘å™¨å’Œå¤„ç†å™¨å¸¸å¸¸ä¼šå¯¹æŒ‡ä»¤åšé‡æ’ã€‚
ä¸ºä»€ä¹ˆæŒ‡ä»¤é‡æ’åºå¯ä»¥æé«˜æ€§èƒ½ï¼Ÿ
ç®€å•åœ°è¯´ï¼Œæ¯ä¸€ä¸ªæŒ‡ä»¤éƒ½ä¼šåŒ…å«å¤šä¸ªæ­¥éª¤ï¼Œæ¯ä¸ªæ­¥éª¤å¯èƒ½ä½¿ç”¨ä¸åŒçš„ç¡¬ä»¶ã€‚å› æ­¤ï¼Œæµæ°´çº¿æŠ€æœ¯äº§ç”Ÿäº†ï¼Œå®ƒçš„åŸç†æ˜¯æŒ‡ä»¤1è¿˜æ²¡æœ‰æ‰§è¡Œå®Œï¼Œå°±å¯ä»¥å¼€å§‹æ‰§è¡ŒæŒ‡ä»¤2ï¼Œè€Œä¸ç”¨ç­‰åˆ°æŒ‡ä»¤1æ‰§è¡Œç»“æŸä¹‹åå†æ‰§è¡ŒæŒ‡ä»¤2ï¼Œè¿™æ ·å°±å¤§å¤§æé«˜äº†æ•ˆç‡ã€‚
ä½†æ˜¯ï¼Œæµæ°´çº¿æŠ€æœ¯æœ€å®³æ€•ä¸­æ–­ï¼Œæ¢å¤ä¸­æ–­çš„ä»£ä»·æ˜¯æ¯”è¾ƒå¤§çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦æƒ³å°½åŠæ³•ä¸è®©æµæ°´çº¿ä¸­æ–­ã€‚æŒ‡ä»¤é‡æ’å°±æ˜¯å‡å°‘ä¸­æ–­çš„ä¸€ç§æŠ€æœ¯ã€‚
æˆ‘ä»¬åˆ†æä¸€ä¸‹ä¸‹é¢è¿™ä¸ªä»£ç çš„æ‰§è¡Œæƒ…å†µï¼š
1 2 a = b + c; d = e - f; å…ˆåŠ è½½bã€cï¼ˆæ³¨æ„ï¼Œå³æœ‰å¯èƒ½å…ˆåŠ è½½bï¼Œä¹Ÿæœ‰å¯èƒ½å…ˆåŠ è½½cï¼‰ï¼Œä½†æ˜¯åœ¨æ‰§è¡Œadd(b,c)çš„æ—¶å€™ï¼Œéœ€è¦ç­‰å¾…bã€cè£…è½½ç»“æŸæ‰èƒ½ç»§ç»­æ‰§è¡Œï¼Œä¹Ÿå°±æ˜¯å¢åŠ äº†åœé¡¿ï¼Œé‚£ä¹ˆåé¢çš„æŒ‡ä»¤ä¹Ÿä¼šä¾æ¬¡æœ‰åœé¡¿,è¿™é™ä½äº†è®¡ç®—æœºçš„æ‰§è¡Œæ•ˆç‡ã€‚
ä¸ºäº†å‡å°‘è¿™ä¸ªåœé¡¿ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆåŠ è½½eå’Œf,ç„¶åå†å»åŠ è½½add(b,c),è¿™æ ·åšå¯¹ç¨‹åºï¼ˆä¸²è¡Œï¼‰æ˜¯æ²¡æœ‰å½±å“çš„,ä½†å´å‡å°‘äº†åœé¡¿ã€‚æ—¢ç„¶add(b,c)éœ€è¦åœé¡¿ï¼Œé‚£è¿˜ä¸å¦‚å»åšä¸€äº›æœ‰æ„ä¹‰çš„äº‹æƒ…ã€‚
ç»¼ä¸Šæ‰€è¿°ï¼ŒæŒ‡ä»¤é‡æ’å¯¹äºæé«˜CPUå¤„ç†æ€§èƒ½ååˆ†å¿…è¦ã€‚è™½ç„¶ç”±æ­¤å¸¦æ¥äº†ä¹±åºçš„é—®é¢˜ï¼Œä½†æ˜¯è¿™ç‚¹ç‰ºç‰²æ˜¯å€¼å¾—çš„ã€‚
æŒ‡ä»¤é‡æ’ä¸€èˆ¬åˆ†ä¸ºä»¥ä¸‹ä¸‰ç§ï¼š
ç¼–è¯‘å™¨ä¼˜åŒ–é‡æ’ ç¼–è¯‘å™¨åœ¨ä¸æ”¹å˜å•[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_3-è½¯ä»¶ç³»ç»Ÿ/2_0_2_1_2_3_1-æ“ä½œç³»ç»Ÿ/çº¿ç¨‹|çº¿ç¨‹]]ç¨‹åºè¯­ä¹‰çš„å‰æä¸‹ï¼Œå¯ä»¥é‡æ–°å®‰æ’è¯­å¥çš„æ‰§è¡Œé¡ºåºã€‚ æŒ‡ä»¤å¹¶è¡Œé‡æ’ ç°ä»£å¤„ç†å™¨é‡‡ç”¨äº†æŒ‡ä»¤çº§å¹¶è¡ŒæŠ€æœ¯æ¥å°†å¤šæ¡æŒ‡ä»¤é‡å æ‰§è¡Œã€‚å¦‚æœä¸å­˜åœ¨æ•°æ®ä¾èµ–æ€§(å³åä¸€ä¸ªæ‰§è¡Œçš„è¯­å¥æ— éœ€ä¾èµ–å‰é¢æ‰§è¡Œçš„è¯­å¥çš„ç»“æœ)ï¼Œå¤„ç†å™¨å¯ä»¥æ”¹å˜è¯­å¥å¯¹åº”çš„æœºå™¨æŒ‡ä»¤çš„æ‰§è¡Œé¡ºåºã€‚ å†…å­˜ç³»ç»Ÿé‡æ’ ç”±äºå¤„ç†å™¨ä½¿ç”¨ç¼“å­˜å’Œè¯»å†™ç¼“å­˜å†²åŒºï¼Œè¿™ä½¿å¾—åŠ è½½(load)å’Œå­˜å‚¨(store)æ“ä½œçœ‹ä¸Šå»å¯èƒ½æ˜¯åœ¨ä¹±åºæ‰§è¡Œï¼Œå› ä¸ºä¸‰çº§ç¼“å­˜çš„å­˜åœ¨ï¼Œå¯¼è‡´å†…å­˜ä¸ç¼“å­˜çš„æ•°æ®[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_3-è½¯ä»¶ç³»ç»Ÿ/2_0_2_1_2_3_1-æ“ä½œç³»ç»Ÿ/åŒæ­¥|åŒæ­¥]]å­˜åœ¨æ—¶é—´å·®ã€‚ æŒ‡ä»¤é‡æ’å¯ä»¥ä¿è¯ä¸²è¡Œè¯­ä¹‰ä¸€è‡´ï¼Œä½†æ˜¯æ²¡æœ‰ä¹‰åŠ¡ä¿è¯å¤šçº¿ç¨‹é—´çš„è¯­ä¹‰ä¹Ÿä¸€è‡´ã€‚æ‰€ä»¥åœ¨å¤šçº¿ç¨‹ä¸‹ï¼ŒæŒ‡ä»¤é‡æ’åºå¯èƒ½ä¼šå¯¼è‡´ä¸€äº›é—®é¢˜ã€‚</description></item><item><title>æ–‡ä»¶æŒ‡é’ˆ</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%96%87%E4%BB%B6%E6%8C%87%E9%92%88/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%96%87%E4%BB%B6%E6%8C%87%E9%92%88/</guid><description>æ–‡ä»¶æŒ‡é’ˆ 2ã€æ–‡ä»¶æŒ‡é’ˆä¸æ–‡ä»¶æè¿°ç¬¦ - å­¤æƒ…å‰‘å®¢ - åšå®¢å›­ (cnblogs.com)
&amp;ldquo;æ–‡ä»¶æŒ‡é’ˆ(file pointer)&amp;ldquo;æŒ‡å‘è¿›ç¨‹ç”¨æˆ·åŒºä¸­çš„ä¸€ä¸ªè¢«ç§°ä¸ºFILEç»“æ„çš„æ•°æ®ç»“æ„ã€‚FILEç»“æ„åŒ…æ‹¬ä¸€ä¸ªç¼“å†²åŒºå’Œä¸€ä¸ªæ–‡ä»¶æè¿°ç¬¦å€¼ã€‚è€Œæ–‡ä»¶æè¿°ç¬¦å€¼æ˜¯æ–‡ä»¶æè¿°ç¬¦è¡¨ä¸­çš„ä¸€ä¸ªç´¢å¼•ã€‚ä»æŸç§æ„ä¹‰ä¸Šè¯´æ–‡ä»¶æŒ‡é’ˆå°±æ˜¯å¥æŸ„çš„å¥æŸ„ã€‚ æ¯ä¸ªè¢«ä½¿ç”¨çš„æ–‡ä»¶éƒ½åœ¨å†…å­˜ä¸­å¼€è¾Ÿäº†ä¸€ä¸ªåŒºåŸŸï¼Œç”¨æ¥å­˜æ”¾æ–‡ä»¶çš„æœ‰å…³ä¿¡æ¯ï¼Œè¿™äº›ä¿¡æ¯æ˜¯ä¿å­˜åœ¨ä¸€ä¸ªç»“æ„ä½“ç±»å‹çš„å˜é‡ä¸­ï¼Œè¯¥ç»“æ„ä½“ç±»å‹æ˜¯ç”±ç³»ç»Ÿå®šä¹‰çš„ï¼Œå–åä¸ºFILEã€‚
1 2 3 4 5 6 7 8 9 10 11 12 13 14 /*FILEç»“æ„ä½“*/ #ifndef _FILE_DEFINED struct _iobuf { char *_ptr; //æ–‡ä»¶è¾“å…¥çš„ä¸‹ä¸€ä¸ªä½ç½® int _cnt; //å½“å‰ç¼“å†²åŒºçš„ç›¸å¯¹ä½ç½® char *_base; //æŒ‡åŸºç¡€ä½ç½®(å³æ˜¯æ–‡ä»¶çš„å…¶å§‹ä½ç½®) int _flag; //æ–‡ä»¶æ ‡å¿— int _file; //æ–‡ä»¶çš„æœ‰æ•ˆæ€§éªŒè¯ int _charbuf; //æ£€æŸ¥ç¼“å†²åŒºçŠ¶å†µ,å¦‚æœæ— ç¼“å†²åŒºåˆ™ä¸è¯»å– int _bufsiz; //ç¼“å†²åŒºå¤§å° char *_tmpfname; //ä¸´æ—¶æ–‡ä»¶å }; typedef struct _iobuf FILE; å®é™…ä¸Šï¼ŒFILEç»“æ„æ˜¯é—´æ¥åœ°æ“ä½œç³»ç»Ÿçš„æ–‡ä»¶æ§åˆ¶å— (FCB)æ¥å®ç°å¯¹æ–‡ä»¶çš„æ“ä½œçš„ï¼Œå¦‚ä¸‹å›¾ï¼š</description></item><item><title>æ–‡ä»¶æè¿°ç¬¦</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%96%87%E4%BB%B6%E6%8F%8F%E8%BF%B0%E7%AC%A6/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%96%87%E4%BB%B6%E6%8F%8F%E8%BF%B0%E7%AC%A6/</guid><description>æ–‡ä»¶æè¿°ç¬¦ 2ã€æ–‡ä»¶æŒ‡é’ˆä¸æ–‡ä»¶æè¿°ç¬¦ - å­¤æƒ…å‰‘å®¢ - åšå®¢å›­ (cnblogs.com)
æ–‡ä»¶æè¿°ç¬¦åœ¨å½¢å¼ä¸Šæ˜¯ä¸€ä¸ªéè´Ÿæ•´æ•°ã€‚å®é™…ä¸Šï¼Œå®ƒæ˜¯ä¸€ä¸ªç´¢å¼•å€¼ï¼ŒæŒ‡å‘å†…æ ¸ä¸ºæ¯ä¸€ä¸ªè¿›ç¨‹æ‰€ç»´æŠ¤çš„è¯¥è¿›ç¨‹æ‰“å¼€æ–‡ä»¶çš„è®°å½•è¡¨ã€‚å½“ç¨‹åºæ‰“å¼€ä¸€ä¸ªç°æœ‰æ–‡ä»¶æˆ–è€…åˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶æ—¶ï¼Œå†…æ ¸å‘è¿›ç¨‹è¿”å›ä¸€ä¸ªæ–‡ä»¶æè¿°ç¬¦ã€‚åœ¨ç¨‹åºè®¾è®¡ä¸­ï¼Œä¸€äº›æ¶‰åŠåº•å±‚çš„ç¨‹åºç¼–å†™å¾€å¾€ä¼šå›´ç»•ç€æ–‡ä»¶æè¿°ç¬¦å±•å¼€ã€‚
æ–‡ä»¶æè¿°ç¬¦è¿™ä¸€æ¦‚å¿µå¾€å¾€åªé€‚ç”¨äºUNIXã€Linuxè¿™æ ·çš„æ“ä½œç³»ç»Ÿã€‚
ç³»ç»Ÿä¸ºæ¯ä¸€ä¸ªè¿›ç¨‹ç»´æŠ¤äº†ä¸€ä¸ªæ–‡ä»¶æè¿°ç¬¦è¡¨ï¼Œè¯¥è¡¨çš„å€¼éƒ½æ˜¯ä»0å¼€å§‹çš„ï¼Œæ‰€ä»¥åœ¨ä¸åŒçš„è¿›ç¨‹ä¸­ä½ ä¼šçœ‹åˆ°ç›¸åŒçš„æ–‡ä»¶æè¿°ç¬¦ï¼Œè¿™ç§æƒ…å†µä¸‹ç›¸åŒæ–‡ä»¶æè¿°ç¬¦æœ‰å¯èƒ½æŒ‡å‘åŒä¸€ä¸ªæ–‡ä»¶ï¼Œä¹Ÿæœ‰å¯èƒ½æŒ‡å‘ä¸åŒçš„æ–‡ä»¶ã€‚
å…·ä½“æƒ…å†µè¦å…·ä½“åˆ†æï¼Œè¦ç†è§£å…·ä½“å…¶æ¦‚å†µå¦‚ä½•ï¼Œéœ€è¦æŸ¥çœ‹ç”±å†…æ ¸ç»´æŠ¤çš„3ä¸ªæ•°æ®ç»“æ„ã€‚å†…æ ¸ä½¿ç”¨3ç§æ•°æ®ç»“æ„è¡¨ç¤ºæ‰“å¼€çš„æ–‡ä»¶ï¼Œä»–ä»¬ä¹‹é—´çš„å…³ç³»å†³å®šäº†åœ¨æ–‡ä»¶å…±äº«æ–¹é¢ä¸€ä¸ªè¿›ç¨‹å¯¹å¦ä¸€ä¸ªè¿›ç¨‹çš„å½±å“ã€‚
è¿›ç¨‹çº§çš„æ–‡ä»¶æè¿°ç¬¦è¡¨ã€‚æ¯ä¸ªè¿›ç¨‹åœ¨è¿›ç¨‹è¡¨ä¸­éƒ½æœ‰ä¸€ä¸ªçºªå½•é¡¹ï¼Œçºªå½•é¡¹ä¸­åŒ…å«ä¸€å¼ æ‰“å¼€æ–‡ä»¶æè¿°ç¬¦è¡¨ï¼Œæ¯ä¸ªæ–‡ä»¶æè¿°ç¬¦å„å ä¸€é¡¹ï¼Œä¸æ¯ä¸ªæ–‡ä»¶æè¿°ç¬¦ç›¸å…³çš„æ˜¯ï¼š æ–‡ä»¶æè¿°ç¬¦æ ‡å¿— æŒ‡å‘ä¸€ä¸ªæ–‡ä»¶è¡¨é¡¹çš„æŒ‡é’ˆ ç³»ç»Ÿçº§çš„æ‰“å¼€æ–‡ä»¶æè¿°ç¬¦è¡¨ã€‚å†…æ ¸ä¸ºæ‰€æœ‰æ‰“å¼€æ–‡ä»¶ç»´æŠ¤ä¸€å¼ æ–‡ä»¶è¡¨é¡¹ï¼Œæ¯ä¸ªæ–‡ä»¶è¡¨é¡¹åŒ…å«ï¼š æ–‡ä»¶çŠ¶æ€(è¯» å†™ åŒæ­¥ éé˜»å¡ç­‰) å½“å‰æ–‡ä»¶åç§»é‡ æŒ‡å‘æ”¹æ–‡ä»¶inodeï¼ˆLinuxï¼‰èŠ‚ç‚¹(vèŠ‚ç‚¹unix )çš„æŒ‡é’ˆ æ–‡ä»¶ç³»ç»Ÿçš„i-nodeè¡¨ã€‚æ¯æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶æˆ–è®¾å¤‡ï¼Œéƒ½æœ‰ä¸€ä¸ªinodeèŠ‚ç‚¹ç»“æ„ï¼ŒinodeèŠ‚ç‚¹åŒ…å«äº†æ–‡ä»¶ç±»å‹å’Œå¯¹æ­¤æ–‡ä»¶è¿›è¡Œæ“ä½œå‡½æ•°çš„æŒ‡é’ˆï¼Œå¯¹äºå¤§å¤šæ•°æ–‡ä»¶ï¼ŒinodeèŠ‚ç‚¹è¿˜åŒ…å«äº†æ–‡ä»¶çš„ièŠ‚ç‚¹ç´¢å¼•èŠ‚ç‚¹ï¼Œè¿™äº›ä¿¡æ¯æ˜¯åœ¨æ‰“å¼€æ–‡ä»¶æ—¶ä»ç£ç›˜è¯»å…¥å†…å­˜çš„ï¼Œæ‰€ä»¥ï¼Œæ–‡ä»¶çš„æ‰€æœ‰æ–‡ä»¶ä¿¡æ¯éƒ½æ˜¯éšæ—¶å¯ç”¨çš„ã€‚inodeèŠ‚ç‚¹åŒ…å«äº†æ–‡ä»¶çš„æ‰€æœ‰è€…ï¼Œæ–‡ä»¶é•¿åº¦ï¼ŒæŒ‡å‘æ–‡ä»¶å®é™…æ•°æ®å—åœ¨ç£ç›˜ä¸Šä½ç½®çš„æŒ‡é’ˆç­‰ã€‚ Â ä¸åŒçš„è¿›ç¨‹æ‰“å¼€åŒä¸€ä¸ªæ–‡ä»¶ï¼Œé‚£ä¹ˆä»–ä»¬åº”è¯¥æœ‰å„è‡ªå¯¹åº”çš„æ–‡ä»¶è¡¨è¡¨é¡¹ã€‚å› ä¸ºæ–‡ä»¶è¡¨è¡¨é¡¹è®°å½•äº†è¿›ç¨‹è¯»å†™æ–‡ä»¶æ—¶çš„åç§»é‡å’Œå­˜å–æƒé™ã€‚å¤šä¸ªè¿›ç¨‹ä¸å¯èƒ½å…±äº«ä¸€ä¸ªæ–‡ä»¶åç§»é‡ã€‚å¦å¤–ä»–ä»¬å„è‡ªæ‰“å¼€æ–‡ä»¶çš„æƒé™ä¹Ÿå¯èƒ½æ˜¯ä¸åŒçš„ï¼Œæœ‰çš„æ˜¯ä¸ºäº†è¯»ã€æœ‰çš„ä¸ºäº†å†™ï¼Œæœ‰çš„ä¸ºäº†è¯»å†™ã€‚æ‰€ä»¥ï¼Œä»–ä»¬åº”è¯¥æœ‰ä¸åŒçš„æ–‡ä»¶è¡¨è¡¨é¡¹ã€‚
æ­¤å¤–ï¼Œå› ä¸ºæ˜¯åŒä¸€ä¸ªæ–‡ä»¶ï¼Œæ‰€ä»¥ï¼Œå¤šä¸ªè¿›ç¨‹ä¼šå…±äº«åŒä¸€ä¸ªç´¢å¼•ç»“ç‚¹è¡¨é¡¹ã€‚å³ä»–ä»¬çš„æ–‡ä»¶è¡¨è¡¨é¡¹æŒ‡é’ˆä¼šæŒ‡å‘åŒä¸€ä¸ªç´¢å¼•ç»“ç‚¹ï¼Œæœ€ç»ˆï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
![[z-oblib/z2-attachments/Pasted image 20220803012527.png]]
åŒä¸€ä¸ªè¿›ç¨‹å¤šæ¬¡æ‰“å¼€åŒä¸€ä¸ªæ–‡ä»¶ æ¯æ‰“å¼€ä¸€æ¬¡åŒä¸€ä¸ªæ–‡ä»¶ï¼Œå†…æ ¸å°±ä¼šåœ¨æ–‡ä»¶è¡¨ä¸­å¢åŠ ä¸€ä¸ªè¡¨é¡¹ã€‚è¿™æ˜¯å› ä¸ºæ¯æ¬¡openæ–‡ä»¶æ—¶ä½¿ç”¨äº†ä¸åŒçš„è¯»å†™æƒé™ï¼Œè€Œè¯»å†™æƒé™æ˜¯ä¿å­˜åœ¨æ–‡ä»¶è¡¨è¡¨é¡¹é‡Œé¢çš„ã€‚æ‰€ä»¥ï¼Œæ•ˆæœå¦‚ä¸‹æ‰€ç¤ºï¼š
![[z-oblib/z2-attachments/Pasted image 20220803012609.png]]</description></item><item><title>æ–‡ä»¶æ˜ å°„</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%96%87%E4%BB%B6%E6%98%A0%E5%B0%84/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%96%87%E4%BB%B6%E6%98%A0%E5%B0%84/</guid><description>æ–‡ä»¶æ˜ å°„ æ–‡ä»¶æ˜ å°„ï¼ˆMemory-mapped fileï¼‰æ˜¯å°†ç£ç›˜ä¸Šæ–‡ä»¶çš„æŸæ®µæ•°æ®æ˜ å°„åˆ°å†…æ ¸çš„ä¸€æ®µç‰©ç†å†…å­˜ä¸Šï¼Œç„¶åå°†æ­¤ç‰©ç†å†…å­˜æ˜ å°„åˆ°ä¸€ä¸ªæˆ–å¤šä¸ªè¿›ç¨‹çš„è™šæ‹Ÿå†…å­˜ä¸­ã€‚æ˜ å°„äº†æ–‡ä»¶çš„è¿›ç¨‹å¯ä»¥ç›´æ¥è¯»ã€å†™è¿™æ®µå†…å­˜æ¥è¾¾åˆ°è¯»ã€å†™ç£ç›˜æ–‡ä»¶çš„åŠŸèƒ½ã€‚å¦‚æœå¤šä¸ªè¿›ç¨‹è¯·æ±‚æ˜ å°„çš„æ–‡ä»¶åŒºæ®µç›¸åŒï¼Œåˆ™åªæ˜ å°„ä¸€æ¬¡ã€‚
æ‰€ä»¥ï¼Œæ–‡ä»¶æ˜ å°„è¿›è¡Œäº†ä¸¤æ¬¡æ˜ å°„ï¼Œä¸€æ¬¡æ˜ å°„æ˜¯å°†å±äºç£ç›˜æ–‡ä»¶çš„éƒ¨åˆ†æˆ–å…¨éƒ¨æ•°æ®å—æ˜ å°„åˆ°ç‰©ç†å†…å­˜é¡µä¸­ï¼Œå¦ä¸€æ¬¡æ˜ å°„æ˜¯å°†ç‰©ç†å†…å­˜é¡µæ˜ å°„åˆ°è¿›ç¨‹çš„è™šæ‹Ÿé¡µä¸Šã€‚
å¦‚å›¾ï¼Œå›¾ä¸­å‡è®¾ç£ç›˜æ•°æ®å—å¤§å°å’Œå†…å­˜é¡µå¤§å°ç›¸åŒï¼Œå°†æŸæ–‡ä»¶ä¸­çš„6ä¸ªæ•°æ®å—ï¼ˆå¯èƒ½åªæ˜¯è¯¥æ–‡ä»¶çš„ä¸€éƒ¨åˆ†æ•°æ®ï¼‰æ˜ å°„åˆ°ç‰©ç†å†…å­˜çš„é¡µ1ã€2ã€3ã€4ã€5ã€6ä¸­ï¼Œå¹¶ä¸”ä¸¤ä¸ªè¿›ç¨‹éƒ½æ˜ å°„è¯¥ç£ç›˜æ–‡ä»¶ç›¸åŒçš„æ•°æ®åŒºåŸŸï¼Œæ‰€ä»¥ä¸¤ä¸ªè¿›ç¨‹éƒ½æŒ‡å‘ç›¸åŒçš„ç‰©ç†å†…å­˜é¡µã€‚
![[z-oblib/z2-attachments/Pasted image 20220803141346.png]]
ä½¿ç”¨æ–‡ä»¶æ˜ å°„æ—¶ï¼Œæœ€å¼€å§‹è¯¥å†…å­˜åŒºæ˜¯ç©ºçš„ã€‚å½“è®¿é—®è¿™æ®µå†…å­˜æ—¶ï¼Œå¦‚æœè®¿é—®çš„æ•°æ®ä¸åœ¨å†…å­˜ä¸­ï¼ˆä¾‹å¦‚ç¬¬ä¸€æ¬¡è®¿é—®ï¼‰ï¼Œå°†å‡ºç°page faultï¼Œäºæ˜¯ä¼šä»ç£ç›˜ä¸­è¯»å–ç›¸åº”çš„æ•°æ®å—æ‹·è´åˆ°è¿™æ®µå†…å­˜ï¼ˆåŸºäºæ“ä½œç³»ç»Ÿæä¾›çš„é¢„è¯»ä¼˜åŒ–ï¼Œå¯èƒ½ä¸€æ¬¡æ€§ä¼šå¤šè¯»ä¸€äº›æ•°æ®åˆ°æ˜ å°„çš„å†…å­˜ä¸­ï¼‰ã€‚å½“å‘æ­¤å†…å­˜åŒºå†™æ•°æ®æ—¶ï¼Œä¼šè‡ªåŠ¨å†™å…¥åˆ°ç£ç›˜æ–‡ä»¶å¯¹åº”çš„æ•°æ®å—ä¸­ï¼ˆå¯ä»¥è®¾ç½®ä¸ºå…¶å®ƒå†™æ–¹å¼ï¼‰ã€‚
æ­¤å¤–ï¼Œé€šè¿‡è®¾ç½®æ–‡ä»¶æ˜ å°„æ–¹å¼ï¼Œè¿˜æ”¯æŒå†™æ—¶å¤åˆ¶ã€‚æŸè¿›ç¨‹è¦å‘è¯¥æ˜ å°„åŒºçš„æŸå†…å­˜é¡µå†™æ•°æ®æ—¶ï¼Œä¼šæ‹·è´è¯¥é¡µåˆ°è‡ªå·±çš„è™šæ‹Ÿå†…å­˜ä¸­ï¼Œç„¶åå†™æ•°æ®åˆ°è¯¥å‰¯æœ¬é¡µï¼Œè€Œä¸ä¼šå½±å“æ˜ å°„åŒºçš„æ•°æ®ï¼Œè€Œä¸”ä»¥åè¯¥è¿›ç¨‹å¯¹è¯¥é¡µçš„æ“ä½œéƒ½å°†ä½¿ç”¨è¯¥å‰¯æœ¬ã€‚
æ—¢ç„¶æ¯ä¸ªè¿›ç¨‹éƒ½èƒ½è®¿é—®åˆ°æ–‡ä»¶æ˜ å°„çš„ç‰©ç†å†…å­˜ï¼Œé‚£ä¹ˆè¿™æ®µç‰©ç†å†…å­˜åˆ†é…åœ¨è¿›ç¨‹è™šæ‹Ÿå†…å­˜å¸ƒå±€çš„å“ªä¸€éƒ¨åˆ†å‘¢ï¼Ÿè¿™ä¸ªç®€å•æ€è€ƒä¸‹å³å¯å¾—çŸ¥ç­”æ¡ˆï¼Œè¿›ç¨‹çš„è™šæ‹Ÿå†…å­˜ä¸­ï¼Œåªæœ‰å †å†…å­˜å’Œå †æ ˆä¸­é—´çš„æœªåˆ†é…åœ°å€ç©ºé—´æ˜¯å¯ä»¥ç”±ç”¨æˆ·è¿›ç¨‹è‡ªç”±ä½¿ç”¨çš„åœ°å€åŒºåŸŸï¼Œå¦‚æœå°†æ–‡ä»¶æ˜ å°„åˆ°å †ä¸­ï¼Œå‡å¦‚æ˜ å°„çš„æ–‡ä»¶æ•°æ®è¾ƒå¤§ï¼Œå·²åˆ†é…çš„å †å†…å­˜ä¸­ç©ºé—²é¡µå¾ˆå¯èƒ½ä¸è¶³ä»¥æ˜ å°„è¯¥æ–‡ä»¶ï¼Œæ“ä½œç³»ç»Ÿéœ€è¦ä¸ºå…¶åˆ†é…æ›´å¤šçš„å †å†…å­˜ï¼Œå¦ä¸€æ–¹é¢ï¼Œå°±ç®—å½“å‰å †å†…å­˜èƒ½æ”¾ä¸‹æ–‡ä»¶æ˜ å°„ï¼Œä½†ä¹Ÿå¾ˆå¯èƒ½å› æ­¤è€Œå¯¼è‡´ç©ºé—²é¡µæ‰€å‰©ä¸å¤šï¼Œè¿›ç¨‹ä¹‹åçš„è¿è¡Œå¾ˆå¯èƒ½è¿˜æ˜¯è¦è¯·æ±‚åˆ†é…æ–°çš„å †å†…å­˜ï¼Œå¦‚æ­¤çœ‹æ¥ï¼Œå€’ä¸å¦‚ç›´æ¥æ˜ å°„åœ¨å †æ ˆä¸­é—´é‚£ç‰‡æœªåˆ†é…çš„åœ°å€ç©ºé—´ï¼Œå¹¶ä¸”ä¸ºå †å’Œæ ˆéƒ½é¢„ç•™ä¸€æ®µæœªåˆ†é…ç©ºé—´ã€‚å›¾ä¸­ç»™å‡ºæ–‡ä»¶æ˜ å°„åœ¨è¿›ç¨‹å†…å­˜å¸ƒå±€ä¸­çš„ä½ç½®ã€‚
![[z-oblib/z2-attachments/Pasted image 20220803141403.png]]</description></item><item><title>æ— çŠ¶æ€</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E6%97%A0%E7%8A%B6%E6%80%81/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E6%97%A0%E7%8A%B6%E6%80%81/</guid><description>æ— çŠ¶æ€ åœ¨ web é˜¶æ®µå­¦ä¹ æ—¶ï¼Œè®¾è®¡ Servlet æ—¶ä¸ºäº†ä¿è¯å…¶çº¿ç¨‹å®‰å…¨ï¼Œéƒ½ä¼šæœ‰è¿™æ ·çš„å»ºè®®ï¼Œä¸è¦ä¸º Servlet è®¾ç½®æˆå‘˜å˜é‡ï¼Œè¿™ ç§æ²¡æœ‰ä»»ä½•æˆå‘˜å˜é‡çš„ç±»æ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚å› ä¸ºæˆå‘˜å˜é‡ä¿å­˜çš„æ•°æ®ä¹Ÿå¯ä»¥ç§°ä¸ºçŠ¶æ€ä¿¡æ¯ï¼Œå› æ­¤æ²¡æœ‰æˆå‘˜å˜é‡å°±ç§°ä¹‹ä¸ºã€æ— çŠ¶æ€ã€‘ã€‚</description></item><item><title>æ— é”å°ç»“</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E6%97%A0%E9%94%81%E5%B0%8F%E7%BB%93/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E6%97%A0%E9%94%81%E5%B0%8F%E7%BB%93/</guid><description>æ— é”å°ç»“ [[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/CASä¸volatile|CASä¸volatile]] API [[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/åŸå­æ•´æ•°|åŸå­æ•´æ•°]] [[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/åŸå­å¼•ç”¨|åŸå­å¼•ç”¨]] [[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/åŸå­æ•°ç»„|åŸå­æ•°ç»„]] [[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/å­—æ®µæ›´æ–°å™¨|å­—æ®µæ›´æ–°å™¨]] [[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/åŸå­ç´¯åŠ å™¨|åŸå­ç´¯åŠ å™¨]] [[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/Unsafe|Unsafe]] åŸç†æ–¹é¢ [[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/LongAdder|LongAdder]] æºç  ä¼ªå…±äº«</description></item><item><title>æ™¶ä½“ç®¡</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_1-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A1%AC%E4%BB%B6/0-%E5%9F%BA%E7%A1%80%E5%85%83%E5%99%A8%E4%BB%B6/%E6%99%B6%E4%BD%93%E7%AE%A1/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_1-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A1%AC%E4%BB%B6/0-%E5%9F%BA%E7%A1%80%E5%85%83%E5%99%A8%E4%BB%B6/%E6%99%B6%E4%BD%93%E7%AE%A1/</guid><description>æ™¶ä½“ç®¡ æ‰€æœ‰å¯ä»¥é€šè¿‡ä¸€ä¸ªç”µæµæˆ–ç”µå‹æ§åˆ¶å¦ä¸€ä¸ªç”µæµæˆ–ç”µå‹çš„å™¨ä»¶ã€‚</description></item><item><title>æœ€çŸ­è·¯å¾„</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_0_2_1-%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E6%9C%80%E7%9F%AD%E8%B7%AF%E5%BE%84/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_0_2_1-%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E6%9C%80%E7%9F%AD%E8%B7%AF%E5%BE%84/</guid><description>æœ€çŸ­è·¯å¾„ è¯¥ç®—æ³•çš„å…³é”®æ˜¯ï¼š æ‰¾ä¸¤ä¸ªé›†åˆä¹‹é—´çš„æœ€çŸ­è·¯å¾„ï¼Œåˆ†åˆ«æ˜¯å·²ç»ç¡®å®šçš„ç‚¹çš„é›†åˆ/æœªç¡®å®šç‚¹çš„é›†åˆã€‚ æ¯æ¬¡éƒ½åœ¨å·²ç¡®å®šç‚¹ä¸­çš„æœªçŸ¥é“è·¯æ‰¾æœ€çŸ­çš„è·¯ã€‚ å› æ­¤å¯ä»¥å°†è·¯éƒ½åŠ å…¥ä¼˜å…ˆçº§é˜Ÿåˆ—ï¼Œè‡ªåŠ¨æ’åºã€‚
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 182 183 184 185 186 import java.</description></item><item><title>æœ‰åºæ€§</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E6%9C%89%E5%BA%8F%E6%80%A7/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E6%9C%89%E5%BA%8F%E6%80%A7/</guid><description>æœ‰åºæ€§ JVM ä¼šåœ¨ä¸å½±å“æ­£ç¡®æ€§çš„å‰æä¸‹ï¼Œå¯ä»¥è°ƒæ•´è¯­å¥çš„æ‰§è¡Œé¡ºåºã€‚
æœ‰åºæ€§è¢«ç ´åçš„ä¾‹å­ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 boolean ready = false; // çº¿ç¨‹1 æ‰§è¡Œæ­¤æ–¹æ³• public void actor1(I_Result r) { if(ready) { r.r1 = num + num; } else { r.r1 = 1; } } // çº¿ç¨‹2 æ‰§è¡Œæ­¤æ–¹æ³• public void actor2(I_Result r) { num = 2; ready = true; } readyÂ =Â trueÂ å¯èƒ½ä¼šè·‘åˆ°numÂ =Â 2å‰é¢æ‰§è¡Œï¼Œè¿™ç§é‡æ’åºåœ¨å•çº¿ç¨‹ä¸‹æ— æ‰€è°“ï¼Œä½†æ˜¯æœ‰ä¸¤ä¸ªçº¿ç¨‹å¯èƒ½å°±å¯¼è‡´Â ready==tureæ—¶çº¿ç¨‹1æ‰§è¡Œäº†num+numï¼Œä½†æ˜¯numè¿˜æ²¡è¢«èµ‹å€¼ã€‚</description></item><item><title>æ„å»ºRPCæ€è·¯</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_2_1_0-web%E5%90%8E%E7%AB%AF/%E6%9E%84%E5%BB%BARPC/%E6%80%9D%E8%B7%AF/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_2_1_0-web%E5%90%8E%E7%AB%AF/%E6%9E%84%E5%BB%BARPC/%E6%80%9D%E8%B7%AF/</guid><description>æ„å»ºRPCæ€è·¯ é—®é¢˜ å®¢æˆ·ç«¯å¦‚ä½•çŸ¥é“æœåŠ¡ç«¯åœ°å€ å®¢æˆ·ç«¯å¦‚ä½•çŸ¥é“æœ‰å“ªäº›æœåŠ¡ å®¢æˆ·ç«¯å¦‚ä½•å‘æœåŠ¡ç«¯ä¼ é€’å‚æ•° æ•°æ®å¦‚ä½•ç¼–è§£ç  æœåŠ¡ç«¯å¦‚ä½•éªŒè¯å®¢æˆ·ç«¯å’Œè¯·æ±‚åˆæ³• æœåŠ¡ç«¯å¦‚ä½•å°†æ‰§è¡Œç»“æœè¿”å›ç»™å®¢æˆ·ç«¯ å®¢æˆ·ç«¯å¦‚ä½•ç­‰å¾…ç»“æœ æœåŠ¡ç«¯å¦‚ä½•åŒæ—¶å¤„ç†å¤šä¸ªè¯·æ±‚</description></item><item><title>æšä¸¾</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/0-%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/%E6%9E%9A%E4%B8%BE/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/0-%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/%E6%9E%9A%E4%B8%BE/</guid><description>æšä¸¾ æšä¸¾æ˜¯ä¸€ä¸ªç±»ï¼Œå†…éƒ¨å†™è§„å®šäº†è¿™ä¸ªç±»çš„æ‰€æœ‰å®ä¾‹ã€‚
ç”¨é€” ç¼–è¯‘å™¨ç±»å‹æ£€æµ‹ å’Œintå®šä¹‰çš„å¸¸é‡ç›¸æ¯”ï¼Œä½¿ç”¨enumå®šä¹‰æšä¸¾æœ‰å¦‚ä¸‹å¥½å¤„ï¼š
é¦–å…ˆï¼Œenumå¸¸é‡æœ¬èº«å¸¦æœ‰ç±»å‹ä¿¡æ¯ï¼Œå³Weekday.SUNç±»å‹æ˜¯Weekdayï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨æ£€æŸ¥å‡ºç±»å‹é”™è¯¯ã€‚ä¾‹å¦‚ï¼Œä¸‹é¢çš„è¯­å¥ä¸å¯èƒ½ç¼–è¯‘é€šè¿‡ï¼š
1 2 3 int day = 1; if (day == Weekday.SUN) { // Compile error: bad operand types for binary operator &amp;#39;==&amp;#39; } å…¶æ¬¡ï¼Œä¸å¯èƒ½å¼•ç”¨åˆ°éæšä¸¾çš„å€¼ï¼Œå› ä¸ºæ— æ³•é€šè¿‡ç¼–è¯‘ã€‚
æœ€åï¼Œä¸åŒç±»å‹çš„æšä¸¾ä¸èƒ½äº’ç›¸æ¯”è¾ƒæˆ–è€…èµ‹å€¼ï¼Œå› ä¸ºç±»å‹ä¸ç¬¦ã€‚ä¾‹å¦‚ï¼Œä¸èƒ½ç»™ä¸€ä¸ªWeekdayæšä¸¾ç±»å‹çš„å˜é‡èµ‹å€¼ä¸ºColoræšä¸¾ç±»å‹çš„å€¼ï¼š
1 2 Weekday x = Weekday.SUN; // ok! Weekday y = Color.RED; // Compile error: incompatible types è¿™å°±ä½¿å¾—ç¼–è¯‘å™¨å¯ä»¥åœ¨ç¼–è¯‘æœŸè‡ªåŠ¨æ£€æŸ¥å‡ºæ‰€æœ‰å¯èƒ½çš„æ½œåœ¨é”™è¯¯ã€‚
ç”¨æ³• å€¼æ¯”è¾ƒ ä½¿ç”¨enumå®šä¹‰çš„æšä¸¾ç±»æ˜¯ä¸€ç§å¼•ç”¨ç±»å‹ã€‚å‰é¢æˆ‘ä»¬è®²åˆ°ï¼Œå¼•ç”¨ç±»å‹æ¯”è¾ƒï¼Œè¦ä½¿ç”¨equals()æ–¹æ³•ï¼Œå¦‚æœä½¿ç”¨==æ¯”è¾ƒï¼Œå®ƒæ¯”è¾ƒçš„æ˜¯ä¸¤ä¸ªå¼•ç”¨ç±»å‹çš„å˜é‡æ˜¯å¦æ˜¯åŒä¸€ä¸ªå¯¹è±¡ã€‚å› æ­¤ï¼Œå¼•ç”¨ç±»å‹æ¯”è¾ƒï¼Œè¦å§‹ç»ˆä½¿ç”¨equals()æ–¹æ³•ï¼Œä½†enumç±»å‹å¯ä»¥ä¾‹å¤–ã€‚
è¿™æ˜¯å› ä¸ºenumç±»å‹çš„æ¯ä¸ªå¸¸é‡åœ¨JVMä¸­åªæœ‰ä¸€ä¸ªå”¯ä¸€å®ä¾‹ï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥ç”¨==æ¯”è¾ƒï¼š
1 2 3 4 if (day == Weekday.FRI) { // ok!</description></item><item><title>æ ‡å¿—å¯„å­˜å™¨</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84/%E6%A0%87%E5%BF%97%E5%AF%84%E5%AD%98%E5%99%A8/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84/%E6%A0%87%E5%BF%97%E5%AF%84%E5%AD%98%E5%99%A8/</guid><description>æ ‡å¿—å¯„å­˜å™¨ ç»“æ„ï¼š ![[z-oblib/z2-attachments/Pasted image 20220912223816.png]]
å«ä¹‰ï¼š ![[z-oblib/z2-attachments/Pasted image 20220912223822.png]]
çŠ¶æ€æ ‡å¿— ç”¨äºè®°å½•ç¨‹åºè¿è¡Œç»“æœçš„çŠ¶æ€ä¿¡æ¯ CF è¿›ä½æ ‡å¿— (Carry Flag) å½“è¿ç®—ç»“æœçš„æœ€é«˜æœ‰æ•ˆä½æœ‰è¿›ä½(åŠ æ³•)æˆ–å€Ÿä½(å‡æ³•)æ—¶, ç½® 1, å¦åˆ™ 0 ZF é›¶æ ‡å¿— (Zero Flag) å¼±è¿ç®—ç»“æœä¸º 0, åˆ™ç½® 1, å¦åˆ™ 0 SF ç¬¦å·æ ‡å¿— (Sign Flag) è‹¥è¿ç®—ç»“æœæœ€é«˜ä½(ç¬¦å·ä½)ä¸º 1, åˆ™ç½® 1, å¦åˆ™ 0 PF å¥‡å¶æ ‡å¿— (Parity Flag) è¿ç®—ç»“æœæœ€ä½å­—èŠ‚ä¸­ 1 çš„ä¸ªæ•°ä¸º 0 æˆ–å¶æ•°, åˆ™ç½® 1, å¦åˆ™ 0 OF æº¢å‡ºæ ‡å¿— (Overflow Flag) è¿ç®—ç»“æœæœ‰æº¢å‡º, åˆ™ç½® 1, å¦åˆ™ 0 æº¢å‡º: æœ‰ç¬¦å·æ•°çš„è¿ç®—ç»“æœä¸æ­£ç¡® AF è¾…åŠ©è¿›ä½æ ‡å¿— (Auxiliary Carry Flag) è¿ç®—æ—¶ D3 (ä½åŠå­—èŠ‚) æœ‰è¿›ä½æˆ–å€Ÿä½, ç½®1, å¦åˆ™ 0 æ§åˆ¶æ ‡å¿— ç”¨äºæ§åˆ¶å¤„ç†å™¨æ‰§è¡ŒæŒ‡ä»¤ DF æ–¹å‘æ ‡å¿— (Direction Flag) ç”¨äºä¸²æ“ä½œæŒ‡ä»¤, æ§åˆ¶åœ°å€çš„å˜åŒ–æ–¹å‘ 1 åˆ™å­˜å‚¨å™¨åœ°å€è‡ªåŠ¨å¢åŠ  0 åˆ™å­˜å‚¨å™¨åœ°å€è‡ªåŠ¨å‡å°‘ CLD ç”¨äºå¤ä½ DF = 0 STD ç”¨äºç½®ä½ DF = 1 IF ç»ˆç«¯å…è®¸æ ‡å¿— (Interrupt-enable Flag) 0 ç¦æ­¢ä¸­æ–­ 1 å…è®¸ä¸­æ–­ CLI ç”¨äºå¤ä½ IF = 0 STI ç”¨äºç½®ä½ IF = 1 TF é™·é˜±æ ‡å¿— (Trap Flag) 0 å¤„ç†å™¨æ­£å¸¸å·¥ä½œ 1 å¤„ç†å™¨å•æ­¥æ‰§è¡Œ</description></item><item><title>æ ˆå¸§</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/1-%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7/%E6%A0%88%E5%B8%A7/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/1-%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7/%E6%A0%88%E5%B8%A7/</guid><description>æ ˆå¸§ æ ˆå¸§ï¼ˆStack Frameï¼‰æ˜¯ç”¨äºæ”¯æŒè™šæ‹Ÿæœºè¿›è¡Œæ–¹æ³•è°ƒç”¨å’Œæ–¹æ³•æ‰§è¡Œçš„æ•°æ®ç»“æ„ã€‚å®ƒæ˜¯è™šæ‹Ÿæœºè¿è¡Œæ—¶æ•°æ®åŒºä¸­çš„è™šæ‹Ÿæœºæ ˆçš„æ ˆå…ƒç´ ã€‚
æ ˆå¸§å­˜å‚¨äº†æ–¹æ³•çš„å±€éƒ¨å˜é‡è¡¨ã€æ“ä½œæ•°æ ˆã€åŠ¨æ€è¿æ¥å’Œæ–¹æ³•è¿”å›åœ°å€ç­‰ä¿¡æ¯ã€‚
æ¯ä¸€ä¸ªæ–¹æ³•ä»è°ƒç”¨å¼€å§‹è‡³æ‰§è¡Œå®Œæˆçš„è¿‡ç¨‹ï¼Œéƒ½å¯¹åº”ç€ä¸€ä¸ªæ ˆå¸§åœ¨ è™šæ‹Ÿæœºé‡Œé¢ä»å…¥æ ˆåˆ°å‡ºæ ˆçš„è¿‡ç¨‹ã€‚
åœ¨ç¼–è¯‘ç¨‹åºä»£ç çš„æ—¶å€™ï¼Œæ ˆå¸§ä¸­éœ€è¦å¤šå¤§çš„å±€éƒ¨å˜é‡è¡¨ï¼Œå¤šæ·±çš„æ“ä½œæ•°æ ˆéƒ½å·²ç»å®Œå…¨ç¡®å®šäº†ã€‚
å› æ­¤ä¸€ä¸ªæ ˆå¸§éœ€è¦åˆ†é…å¤šå°‘å†…å­˜ï¼Œä¸ä¼šå—åˆ°ç¨‹åºè¿è¡ŒæœŸå˜é‡æ•°æ®çš„å½±å“ï¼Œè€Œä»…ä»…å–å†³äºå…·ä½“çš„è™šæ‹Ÿæœºå®ç°ã€‚
å±€éƒ¨å˜é‡è¡¨ å±€éƒ¨å˜é‡è¡¨ï¼ˆLocal Variable Tableï¼‰æ˜¯ä¸€ç»„å˜é‡å€¼å­˜å‚¨ç©ºé—´ï¼Œç”¨äºå­˜æ”¾æ–¹æ³•å‚æ•°å’Œæ–¹æ³•å†…éƒ¨å®šä¹‰çš„å±€éƒ¨å˜é‡ã€‚å¹¶ä¸”åœ¨Javaç¼–è¯‘ä¸ºClassæ–‡ä»¶æ—¶ï¼Œå°±å·²ç»ç¡®å®šäº†è¯¥æ–¹æ³•æ‰€éœ€è¦åˆ†é…çš„å±€éƒ¨å˜é‡è¡¨çš„æœ€å¤§å®¹é‡ã€‚
åŠ¨æ€è¿æ¥ æ¯ä¸ªæ ˆå¸§éƒ½åŒ…å«ä¸€ä¸ªæŒ‡å‘è¿è¡Œæ—¶å¸¸é‡æ± ä¸­è¯¥æ ˆå¸§æ‰€å±æ–¹æ³•çš„å¼•ç”¨ï¼ŒæŒæœ‰è¿™ä¸ªå¼•ç”¨æ˜¯ä¸ºäº†æ”¯ä»˜æ–¹æ³•è°ƒç”¨è¿‡ç¨‹ä¸­çš„åŠ¨æ€è¿æ¥ï¼ˆDynamic Linkingï¼‰ã€‚
åœ¨ç±»åŠ è½½é˜¶æ®µä¸­çš„è§£æé˜¶æ®µä¼šå°†ç¬¦å·å¼•ç”¨è½¬ä¸ºç›´æ¥å¼•ç”¨ï¼Œè¿™ç§è½¬åŒ–ä¹Ÿç§°ä¸ºé™æ€è§£æã€‚å¦å¤–çš„ä¸€éƒ¨åˆ†å°†åœ¨æ¯ä¸€æ¬¡è¿è¡Œæ—¶æœŸè½¬åŒ–ä¸ºç›´æ¥å¼•ç”¨ã€‚è¿™éƒ¨åˆ†ç§°ä¸ºåŠ¨æ€è¿æ¥ã€‚
è¿”å›åœ°å€ å½“ä¸€ä¸ªæ–¹æ³•å¼€å§‹æ‰§è¡Œåï¼Œåªæœ‰2ç§æ–¹å¼å¯ä»¥é€€å‡ºè¿™ä¸ªæ–¹æ³• ï¼š
æ–¹æ³•è¿”å›æŒ‡ä»¤ ï¼š æ‰§è¡Œå¼•æ“é‡åˆ°ä¸€ä¸ªæ–¹æ³•è¿”å›çš„å­—èŠ‚ç æŒ‡ä»¤ï¼Œè¿™æ—¶å€™æœ‰å¯èƒ½ä¼šæœ‰è¿”å›å€¼ä¼ é€’ç»™ä¸Šå±‚çš„æ–¹æ³•è°ƒç”¨è€…ï¼Œè¿™ç§é€€å‡ºæ–¹å¼ç§°ä¸ºæ­£å¸¸å®Œæˆå‡ºå£ã€‚ å¼‚å¸¸é€€å‡º ï¼š åœ¨æ–¹æ³•æ‰§è¡Œè¿‡ç¨‹ä¸­é‡åˆ°äº†å¼‚å¸¸ï¼Œå¹¶ä¸”æ²¡æœ‰å¤„ç†è¿™ä¸ªå¼‚å¸¸ï¼Œå°±ä¼šå¯¼è‡´æ–¹æ³•é€€å‡ºã€‚ æ— è®ºé‡‡ç”¨ä»»ä½•é€€å‡ºæ–¹å¼ï¼Œåœ¨æ–¹æ³•é€€å‡ºä¹‹åï¼Œéƒ½éœ€è¦è¿”å›åˆ°æ–¹æ³•è¢«è°ƒç”¨çš„ä½ç½®ï¼Œç¨‹åºæ‰èƒ½ç»§ç»­æ‰§è¡Œï¼Œæ–¹æ³•è¿”å›æ—¶å¯èƒ½éœ€è¦åœ¨æ ˆå¸§ä¸­ä¿å­˜ä¸€äº›ä¿¡æ¯ã€‚
ä¸€èˆ¬æ¥è¯´ï¼Œæ–¹æ³•æ­£å¸¸é€€å‡ºæ—¶ï¼Œè°ƒç”¨è€…çš„PCè®¡æ•°å™¨çš„å€¼å¯ä»¥ä½œä¸ºè¿”å›åœ°å€ï¼Œæ ˆå¸§ä¸­ä¼šä¿å­˜è¿™ä¸ªè®¡æ•°å™¨å€¼ã€‚ è€Œæ–¹æ³•å¼‚å¸¸é€€å‡ºæ—¶ï¼Œè¿”å›åœ°å€æ˜¯è¦é€šè¿‡å¼‚å¸¸å¤„ç†å™¨è¡¨æ¥ç¡®å®šçš„ï¼Œæ ˆå¸§ä¸­ä¸€èˆ¬ä¸ä¼šä¿å­˜è¿™éƒ¨åˆ†ä¿¡æ¯ã€‚
æ“ä½œæ•°æ ˆ æ“ä½œæ•°æ ˆä¸»è¦ç”¨äºä¿å­˜è®¡ç®—è¿‡ç¨‹çš„ä¸­é—´ç»“æœã€‚
æ“ä½œæ•°æ ˆå’Œå±€éƒ¨å˜é‡è¡¨ä¸€æ ·ï¼Œåœ¨ç¼–è¯‘æ—¶æœŸå°±å·²ç»ç¡®å®šäº†è¯¥æ–¹æ³•æ‰€éœ€è¦åˆ†é…çš„å±€éƒ¨å˜é‡è¡¨çš„æœ€å¤§å®¹é‡ã€‚
æ“ä½œæ•°æ ˆçš„æ¯ä¸€ä¸ªå…ƒç´ å¯ç”¨æ˜¯ä»»æ„çš„Javaæ•°æ®ç±»å‹ï¼ŒåŒ…æ‹¬longå’Œdoubleã€‚32ä½æ•°æ®ç±»å‹æ‰€å çš„æ ˆå®¹é‡ä¸º1ï¼Œ64ä½æ•°æ®ç±»å‹å ç”¨çš„æ ˆå®¹é‡ä¸º2ã€‚</description></item><item><title>æ ˆè¿ç§»</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_3_0-%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/%E4%BA%8C%E8%BF%9B%E5%88%B6%E5%AE%89%E5%85%A8/pwn/%E6%A0%88%E8%BF%81%E7%A7%BB/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_3_0-%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/%E4%BA%8C%E8%BF%9B%E5%88%B6%E5%AE%89%E5%85%A8/pwn/%E6%A0%88%E8%BF%81%E7%A7%BB/</guid><description>æ ˆè¿ç§»</description></item><item><title>æ¨¡æ¿æ¨¡å¼</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_1-%E8%BD%AF%E4%BB%B6%E6%96%B9%E6%B3%95%E5%AD%A6/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E6%A8%A1%E6%9D%BF%E6%A8%A1%E5%BC%8F/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_1-%E8%BD%AF%E4%BB%B6%E6%96%B9%E6%B3%95%E5%AD%A6/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E6%A8%A1%E6%9D%BF%E6%A8%A1%E5%BC%8F/</guid><description>æ¨¡æ¿æ¨¡å¼ åœ¨æ¨¡æ¿æ¨¡å¼ï¼ˆTemplate Patternï¼‰ä¸­ï¼Œä¸€ä¸ªæŠ½è±¡ç±»å…¬å¼€å®šä¹‰äº†æ‰§è¡Œå®ƒçš„æ–¹æ³•çš„æ–¹å¼/æ¨¡æ¿ã€‚å®ƒçš„å­ç±»å¯ä»¥æŒ‰éœ€è¦é‡å†™æ–¹æ³•å®ç°ï¼Œä½†è°ƒç”¨å°†ä»¥æŠ½è±¡ç±»ä¸­å®šä¹‰çš„æ–¹å¼è¿›è¡Œã€‚è¿™ç§ç±»å‹çš„è®¾è®¡æ¨¡å¼å±äºè¡Œä¸ºå‹æ¨¡å¼ã€‚
æ„å›¾ï¼š å®šä¹‰ä¸€ä¸ªæ“ä½œä¸­çš„ç®—æ³•çš„éª¨æ¶ï¼Œè€Œå°†ä¸€äº›æ­¥éª¤å»¶è¿Ÿåˆ°å­ç±»ä¸­ã€‚æ¨¡æ¿æ–¹æ³•ä½¿å¾—å­ç±»å¯ä»¥ä¸æ”¹å˜ä¸€ä¸ªç®—æ³•çš„ç»“æ„å³å¯é‡å®šä¹‰è¯¥ç®—æ³•çš„æŸäº›ç‰¹å®šæ­¥éª¤ã€‚
ä¸»è¦è§£å†³ï¼š ä¸€äº›æ–¹æ³•é€šç”¨ï¼Œå´åœ¨æ¯ä¸€ä¸ªå­ç±»éƒ½é‡æ–°å†™äº†è¿™ä¸€æ–¹æ³•ã€‚
ä½•æ—¶ä½¿ç”¨ï¼š æœ‰ä¸€äº›é€šç”¨çš„æ–¹æ³•ã€‚
å¦‚ä½•è§£å†³ï¼š å°†è¿™äº›é€šç”¨ç®—æ³•æŠ½è±¡å‡ºæ¥ã€‚
å…³é”®ä»£ç ï¼š åœ¨æŠ½è±¡ç±»å®ç°ï¼Œå…¶ä»–æ­¥éª¤åœ¨å­ç±»å®ç°ã€‚
åº”ç”¨å®ä¾‹ï¼š 1ã€åœ¨é€ æˆ¿å­çš„æ—¶å€™ï¼Œåœ°åŸºã€èµ°çº¿ã€æ°´ç®¡éƒ½ä¸€æ ·ï¼Œåªæœ‰åœ¨å»ºç­‘çš„åæœŸæ‰æœ‰åŠ å£æ©±åŠ æ …æ ç­‰å·®å¼‚ã€‚ 2ã€è¥¿æ¸¸è®°é‡Œé¢è©è¨å®šå¥½çš„ 81 éš¾ï¼Œè¿™å°±æ˜¯ä¸€ä¸ªé¡¶å±‚çš„é€»è¾‘éª¨æ¶ã€‚ 3ã€spring ä¸­å¯¹ Hibernate çš„æ”¯æŒï¼Œå°†ä¸€äº›å·²ç»å®šå¥½çš„æ–¹æ³•å°è£…èµ·æ¥ï¼Œæ¯”å¦‚å¼€å¯äº‹åŠ¡ã€è·å– Sessionã€å…³é—­ Session ç­‰ï¼Œç¨‹åºå‘˜ä¸é‡å¤å†™é‚£äº›å·²ç»è§„èŒƒå¥½çš„ä»£ç ï¼Œç›´æ¥ä¸¢ä¸€ä¸ªå®ä½“å°±å¯ä»¥ä¿å­˜ã€‚
ä¼˜ç‚¹ï¼š 1ã€å°è£…ä¸å˜éƒ¨åˆ†ï¼Œæ‰©å±•å¯å˜éƒ¨åˆ†ã€‚ 2ã€æå–å…¬å…±ä»£ç ï¼Œä¾¿äºç»´æŠ¤ã€‚ 3ã€è¡Œä¸ºç”±çˆ¶ç±»æ§åˆ¶ï¼Œå­ç±»å®ç°ã€‚
ç¼ºç‚¹ï¼š æ¯ä¸€ä¸ªä¸åŒçš„å®ç°éƒ½éœ€è¦ä¸€ä¸ªå­ç±»æ¥å®ç°ï¼Œå¯¼è‡´ç±»çš„ä¸ªæ•°å¢åŠ ï¼Œä½¿å¾—ç³»ç»Ÿæ›´åŠ åºå¤§ã€‚
ä½¿ç”¨åœºæ™¯ï¼š 1ã€æœ‰å¤šä¸ªå­ç±»å…±æœ‰çš„æ–¹æ³•ï¼Œä¸”é€»è¾‘ç›¸åŒã€‚ 2ã€é‡è¦çš„ã€å¤æ‚çš„æ–¹æ³•ï¼Œå¯ä»¥è€ƒè™‘ä½œä¸ºæ¨¡æ¿æ–¹æ³•ã€‚
æ³¨æ„äº‹é¡¹ï¼š ä¸ºé˜²æ­¢æ¶æ„æ“ä½œï¼Œä¸€èˆ¬æ¨¡æ¿æ–¹æ³•éƒ½åŠ ä¸Š final å…³é”®è¯ã€‚</description></item><item><title>æ­»é”</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E6%AD%BB%E9%94%81/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E6%AD%BB%E9%94%81/</guid><description>æ­»é” åŸå›  [[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/å¤šæŠŠé”|å¤šæŠŠé”]]çš„æƒ…å†µå¯èƒ½ä¼šå‘ç”Ÿæ­»é”ï¼š
ä¸€ä¸ªçº¿ç¨‹éœ€è¦åŒæ—¶è·å–å¤šæŠŠé”ï¼Œè¿™æ—¶å°±å®¹æ˜“å‘ç”Ÿæ­»é” t1 [[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_3-è½¯ä»¶ç³»ç»Ÿ/2_0_2_1_2_3_1-æ“ä½œç³»ç»Ÿ/çº¿ç¨‹|çº¿ç¨‹]] è·å¾— Aå¯¹è±¡ é”ï¼Œæ¥ä¸‹æ¥æƒ³è·å– Bå¯¹è±¡ çš„é” t2 çº¿ç¨‹ è·å¾— Bå¯¹è±¡ é”ï¼Œæ¥ä¸‹æ¥æƒ³è·å– Aå¯¹è±¡ çš„é” ä¾‹ï¼š
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 package test; import lombok.extern.slf4j.Slf4j; @Slf4j public class Test13 { public static void main(String[] args) { Object A = new Object(); Object B = new Object(); Thread t1 = new Thread(() -&amp;gt; { synchronized (A) { log.</description></item><item><title>æ®µå¯„å­˜å™¨</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84/%E6%AE%B5%E5%AF%84%E5%AD%98%E5%99%A8/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84/%E6%AE%B5%E5%AF%84%E5%AD%98%E5%99%A8/</guid><description>æ®µå¯„å­˜å™¨ 8086CPU æœ‰ 4 ä¸ªæ®µå¯„å­˜å™¨
æ¯ä¸ªæ®µå¯„å­˜å™¨ç”¨æ¥ç¡®å®šä¸€ä¸ªé€»è¾‘æ®µçš„èµ·å§‹ä½ç½®
æ¯ç§é€»è¾‘æ®µå‡æœ‰è‡ªå·±çš„ç”¨é€”
CS: ä»£ç æ®µå¯„å­˜å™¨ (Code Segment) åˆ©ç”¨ CS:IP å–å¾—ä¸‹ä¸€æ¡è¦æ‰§è¡Œçš„æŒ‡ä»¤ DS: æ•°æ®æ®µå¯„å­˜å™¨ (Data Segment) åˆ©ç”¨ DS:EA å­˜å–æ•°æ®æ®µä¸­çš„æ•°æ® SS: æ ˆæ®µå¯„å­˜å™¨ (Stach Segment) åˆ©ç”¨ CS:IP æ“ä½œå †æ ˆé¡¶çš„æ•°æ® ES: é™„åŠ æ®µå¯„å­˜å™¨ (Extra Segment) åˆ©ç”¨ ES:EA å­˜å–é™„åŠ æ®µä¸­çš„æ•°æ® EA æ˜¯åç§»åœ°å€, ç§°ä¹‹ä¸ºæœ‰æ•ˆåœ°å€ EA
è‹¥æ“ä½œæ•°åœ¨ä¸»å­˜ä¸­, å­˜å–çš„æ–¹å¼æœ‰:
ç›´æ¥å¯»å€ å¯„å­˜å™¨é—´æ¥å¯»å€ å¯„å­˜å™¨ç›¸å¯¹å¯»å€ åŸºå€å˜å€å¯»å€ ç›¸å¯¹åŸºå€å˜å€å¯»å€ æ²¡æœ‰æŒ‡æ˜æ®µå‰ç¼€æ—¶, ä¸€èˆ¬çš„æ•°æ®è®¿é—®åœ¨ DS (uæ•°æ®) æ®µ</description></item><item><title>æ¯›çº¿å‰ªè—æµè§ˆå™¨æ’ä»¶</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_2_9_0-%E7%AC%94%E8%AE%B0%E8%BD%AF%E4%BB%B6/%E6%AF%9B%E7%BA%BF%E5%89%AA%E8%97%8F%E6%B5%8F%E8%A7%88%E5%99%A8%E6%8F%92%E4%BB%B6/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_2_9_0-%E7%AC%94%E8%AE%B0%E8%BD%AF%E4%BB%B6/%E6%AF%9B%E7%BA%BF%E5%89%AA%E8%97%8F%E6%B5%8F%E8%A7%88%E5%99%A8%E6%8F%92%E4%BB%B6/</guid><description>è·¯å¾„é…ç½® 1 0_0-æ”¶é›†/0_0_0-mxwc/0_0_0_0-é»˜è®¤åˆ†ç±»</description></item><item><title>æ±‡ç¼–å¿«é€Ÿå…¥é—¨</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/%E6%B1%87%E7%BC%96/%E6%B1%87%E7%BC%96%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/%E6%B1%87%E7%BC%96/%E6%B1%87%E7%BC%96%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/</guid><description>æ±‡ç¼–å¿«é€Ÿå…¥é—¨ å¯„å­˜å™¨ CS : IP ç‰©ç†åœ°å€ = æ®µåœ°å€ X 10H + åç§»åœ°å€ ç‰©ç†åœ°å€: 200H(æ®µåœ°å€) X 10H + 1F60H(åç§»åœ°å€) = 21F60H åŒä¸€ä¸ªç‰©ç†åœ°å€å¯ä»¥ç”±ä¸åŒçš„æ®µåœ°å€å’Œåç§»åœ°å€æ„æˆ æ®µå¯„å­˜å™¨ CS: ä»£ç æ®µå¯„å­˜å™¨ (Code Segment) ä¸»è¦å…³æ³¨æ­¤å¯„å­˜å™¨ DS: æ•°æ®æ®µå¯„å­˜å™¨ (Data Segment) SS: æ ˆæ®µå¯„å­˜å™¨ (Stach Segment) ES: é™„åŠ æ®µå¯„å­˜å™¨ (Extra Segment) ç¨‹åºæ‰§è¡Œ ä»»æ„æ—¶åˆ», CPU å°† CS:IP æŒ‡å‘çš„å†…å®¹ä½œä¸ºå³å°†æ‰§è¡Œçš„æŒ‡ä»¤:
![[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/æ±‡ç¼–/z-attachments/Pasted image 20220917151311.png]]
ä¿®æ”¹ CS:IP æ§åˆ¶æµç¨‹ ä¿®æ”¹ CS å’Œ IP jmp æ®µåœ°å€:åç§»åœ°å€ jmp 2AE3:3 -&amp;gt; ä» 2AE33H å¤„è¯»å–æŒ‡ä»¤ jmp 3:0B16 -&amp;gt; ä» 00B46H å¤„è¯»å–æŒ‡ä»¤ åªä¿®æ”¹ IP jmp æŸåˆæ³•å¯„å­˜å™¨ jmp bx æ‰§è¡Œå‰: bx = 0B16H, CS = 2000H, IP = 0003H æ‰§è¡Œå: BX = 0B16H, CS = 2000H, IP = 0B16H jmp bx ç±»ä¼¼ mov IP, bx (æŠŠå¯„å­˜å™¨çš„å€¼å½“ä½œ IP) Winodws ä¸‹çš„æ±‡ç¼–å·¥å…· å‡†å¤‡ DOSBox ç¯å¢ƒæ¨¡æ‹Ÿå™¨ debug.</description></item><item><title>æ³›å‹</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/0-%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/%E6%B3%9B%E5%9E%8B/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/0-%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/%E6%B3%9B%E5%9E%8B/</guid><description>æ³›å‹ ç±»å‹æ“¦é™¤ ä¸‹é¢çš„ä¾‹å­æ— æ³•ç¼–è¯‘é€šè¿‡ï¼š
1 2 3 4 5 6 7 // generics/HasF.java public class HasF { public void f() { System.out.println(&amp;#34;HasF.f()&amp;#34;); } } 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 // generics/Manipulation.java // {WillNotCompile} class Manipulator&amp;lt;T&amp;gt; { private T obj; Manipulator(T x) { obj = x; } // Error: cannot find symbol: method f(): // ä¼ å…¥æ—¶ç±»å‹å°±æ“¦é™¤äº†ï¼Œobjç°åœ¨æ—¶Objectç±»å‹ï¼Œæ²¡æœ‰fæ–¹æ³• public void manipulate() { obj.</description></item><item><title>æ´»è·ƒæ€§</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E6%B4%BB%E8%B7%83%E6%80%A7/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E6%B4%BB%E8%B7%83%E6%80%A7/</guid><description>æ´»è·ƒæ€§ åŒ…æ‹¬ï¼š
[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/æ­»é”|æ­»é”]] [[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/æ´»é”|æ´»é”]] [[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/é¥¥é¥¿|é¥¥é¥¿]]</description></item><item><title>æ´»é”</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E6%B4%BB%E9%94%81/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E6%B4%BB%E9%94%81/</guid><description>æ´»é” æ´»é”å‡ºç°åœ¨ä¸¤ä¸ª[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_3-è½¯ä»¶ç³»ç»Ÿ/2_0_2_1_2_3_1-æ“ä½œç³»ç»Ÿ/çº¿ç¨‹|çº¿ç¨‹]]äº’ç›¸æ”¹å˜å¯¹æ–¹çš„ç»“æŸæ¡ä»¶ï¼Œæœ€åè°ä¹Ÿæ— æ³•ç»“æŸï¼Œä¾‹å¦‚ï¼š
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 public class TestLiveLock { static volatile int count = 10; static final Object lock = new Object(); public static void main(String[] args) { new Thread(() -&amp;gt; { // æœŸæœ›å‡åˆ° 0 é€€å‡ºå¾ªç¯ while (count &amp;gt; 0) { sleep(0.2); count--; log.debug(&amp;#34;count: {}&amp;#34;, count); } }, &amp;#34;t1&amp;#34;).</description></item><item><title>æµ</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/1-%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7/%E6%B5%81/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/1-%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7/%E6%B5%81/</guid><description>æµ åŸºæœ¬æ¦‚å¿µ æµåªæ˜¯ä¸€ä¸ªæ¯”å–»ã€‚
ä»»ä½•æ¯”å–»éƒ½æ— æ³•å®Œç¾ã€‚
æµæ¯”å–»æ•°æ®çš„å‡åŒ€è¿ç»­æ€§ã€‚
ä½ ä»æ°´é¾™å¤´æ¥æ°´ï¼Œæ— è®ºæ‹¿æ¯å­ï¼Œè„¸ç›˜ï¼Œè¿˜æ˜¯æ¡¶ã€‚åªè¦æ°´æµä¸æ–­ï¼Œä½ éƒ½å¯ä»¥æ¥æ»¡ã€‚
å‡è®¾æ°´é¾™å¤´åå‡ºçš„æ˜¯å¤§å°ä¸ä¸€çš„å†°å—ï¼Œé‚£å°±ä¸å«è¿ç»­äº†ã€‚
å½“ç„¶ï¼Œè®¡ç®—æœºæœ€å°å•ä½æ˜¯å­—èŠ‚ï¼Œæ‰€ä»¥æµæ•°æ®æœ€å°å•ä½ä¹Ÿæ˜¯å­—èŠ‚ï¼ˆbyte)ã€‚å½“ç„¶å¯ä»¥é€šè¿‡å†™ç¨‹åºæ¨¡æ‹Ÿä»¥ä½(bit æ¯å­—èŠ‚8ä½ï¼‰ä¸ºå•ä½çš„bitæµã€‚
æ¨¡æ‹Ÿbitæµå¤šç”¨åœ¨å‹ç¼©ç®—æ³•ã€‚å¹³å¸¸æˆ‘ä»¬æ›´å¤šæ—¶å€™æ˜¯éœ€è¦è¿ç»­çš„å­—èŠ‚ä»¥æŸç§æ–¹å¼ç»„åˆèµ·æ¥è¯»å…¥æˆ–å†™å‡ºï¼Œæ¯”å¦‚ä»¥å­—ç¬¦å½¢å¼å°±æ˜¯ä¸¤ä¸ªä¸¤ä¸ªè¯»ï¼ˆcharï¼Œåœ¨javaé‡Œæ˜¯ä¸¤ä¸ªå­—èŠ‚ã€‚ï¼‰ã€‚çœ‹çœ‹jdké‡Œæœ‰ä»€xxxstreamçš„ç±»ã€‚
ä½ çš„é—®é¢˜æ˜¯è‡ªæˆ‘æƒ³åƒæµä¸€å®šæ˜¯ä¸ªç®¡å­ã€‚å…¶å®åœ¨è®¡ç®—æœºä¸–ç•Œé‡Œï¼Œç®¡å­æ˜¯ç®¡å­ï¼Œæµæ˜¯æµã€‚
ä»¥æ–‡ä»¶æµä¸ºæ¯”å–»ã€‚ä½ ä¸‹è½½äº†1ä¸ªGçš„æŸç‰‡ï¼Œå­˜åœ¨ç£ç›˜ä¸Šæ€»è¦å ç”¨ä¸€å¤§å—ç£ç›˜ç©ºé—´ï¼ˆç‰©ç†ä¸Šå¾ˆå¯èƒ½æ˜¯ä¸è¿ç»­çš„ï¼Œä½†æš‚æ—¶æƒ³åƒå®ƒä»¬æ˜¯å®¶é‡Œç“·ç›˜ä¸Šçš„ä¸€æ±ªæ°´ï¼‰ç„¶åä½ å‡‘è¿‡å˜´ï¼ŒæŠŠå˜´å˜Ÿèµ·æ¥ï¼Œé™¶é†‰ï¼ˆå‡è£…ï¼‰åœ°å¸ä¸Šä¸€å£ï¼Œå­—èŠ‚å¸¦ç€ç»†å¾®çš„æ°´èŠ±ä»ä½ å˜´å”‡ç©¿å…¥ï¼Œè¿™æ—¶å€™ç£ç›˜çš„ä¸€æ±ªå­—èŠ‚å’Œä½ äº§ç”Ÿå¸åŠ›çš„å˜´ä¹‹é—´ï¼Œæ²¡æœ‰å¸ç®¡ï¼Œä½†çœŸçš„æœ‰æµã€‚
ä½ è¯´å˜´å·´å¸ä¸äº†ç£ç›˜ä¸Šçš„å­—èŠ‚ã€‚ä½ è¯´ç”šè‡³ä¸€Gçš„æ–‡ä»¶åœ¨ç£ç›˜ä¸Šå¾ˆå¯èƒ½æ˜¯åˆ†åœ¨ä¸è¿ç»­çš„æ‰‡åŒºå­˜å‚¨çš„ï¼Œæ€ä¹ˆæœ‰è¿ç»­çš„æµå‘¢ï¼Ÿ
ä½ è¯´å¾—å¾ˆå¯¹ã€‚ã€‚ã€‚ä¹Ÿè®¸ä½ çœ‹æœ¬åœ°ç‰‡å­æ—¶ï¼Œçªç„¶æŸå¤„ç¨å¡äº†ä¸€ä¸‹ï¼Œä½ æ€€ç–‘æ˜¯ä¸æ˜¯æ­£å¥½ä¸Šä¸ªå­—èŠ‚å’Œä¸‹ä¸ªå­—èŠ‚ä¹‹é—´ éš”äº†å‡ ä¸ªæ‰‡åŒºå‡ ä¸ª ç£é“
ã€‚ã€‚ã€‚ä½†å…¶å®é€šå¸¸ä¸æ˜¯çš„ã€‚æ“ä½œç³»ç»Ÿä¸ä¼šè¿™ä¹ˆç›´æ¥ã€‚å®ƒä¼šè¶ä½ æ…¢æ…¢æ¬£èµæŸäº›ç‰‡æ®µæ—¶ï¼Œæ—©å°±å°†æ•°æ®ä»æ…¢è…¾è…¾çš„ç£ç›˜é¢„è¯»åˆ°å¿«å¦‚é—ªç”µçš„å†…å­˜ä¸­äº†ï¼Œè¿™ä¸ªä½äºç£ç›˜å’Œæ’­æ”¾å™¨ç¨‹åºä¹‹é—´çš„ç¼“å­˜åŒºï¼Œæ˜¯å¾ˆåƒä½ è¯´çš„ç®¡å­ï¼Œä½†å®ƒçœŸçš„å’Œæµè¿™ä¸ªå¯¹è±¡æ²¡æœ‰ä»€ä¹ˆå…³ç³»ï¼Œåœ¨ä»£ç ä¸­çš„æµå¯¹è±¡çœ‹æ¥ é‚£ç¼“å­˜åŒºå°±æ˜¯æ“ä½œç³»ç»Ÿæä¾›çš„æ–‡ä»¶ã€‚
JAVAä»£ç æ˜¯åœ¨ è™šæ‹Ÿæœº
ä¸Šè·‘çš„ï¼Œæ‰€ä»¥åœ¨æ“ä½œç³»ç»Ÿè‡ªå¸¦çš„ç¼“å­˜åŒºè¿™ç®¡å­åé¢ï¼Œå¯èƒ½è¿˜è¦å†æ¥ä¸€æˆªè™šæ‹Ÿæœºæä¾›çš„ç®¡å­ã€‚å¹¶ä¸”ï¼Œçœ‹è¿‡å‡€æ°´æœºçš„å¹¿å‘Šå§ï¼Ÿ ä»€ä¹ˆåå…«è¿‡æ»¤èŠ¯å±‚å±‚å‡€åŒ–ï¼Œé‚£å°±æ˜¯JAVAè™šæ‹Ÿæœºæˆ–è¿è¡Œæ—¶æä¾›çš„ï¼Œç”¨äºè½¬æ¢æ•°æ®ç¼–ç ä»€ä¹ˆçš„ã€‚
æµè¿™ä¸ªæ¯”å–»çš„æœ¬è´¨å°±æ˜¯ä¸ºäº†è®©æŸä¸ªå¯¹è±¡å¯ä»¥å‡åŒ€æŒç»­åœ°åå‡ºæ— é—´éš”çš„æ•°æ®ï¼Œæˆ–è€…ä½ å¯ä»¥å‘è¿™ä¸ªå¯¹è±¡æ¯«æ— å‹åŠ›åœ°æŒç»­ä¸æ–­å¡è¿›æ•°æ®ã€‚ã€‚ã€‚ã€‚è‡³äºé‚£äº›ç®¡å­ã€‚ã€‚ã€‚æ°æ°æ˜¯å› ä¸ºç°å®ä¸–ç•Œä¸å¤Ÿç¬¦åˆè¿™ä¸ªè¦æ±‚ï¼Œæ‰€ä»¥å¿…é¡»æœ‰ã€‚ç»å…¸ä¾‹å­æ”¹æˆç½‘ä¸Šçœ‹è¶…å¤§çš„ç‰‡å­ã€‚æˆ‘ä»¬å¸Œæœ›ç½‘ç»œæ˜¯ä¸€ä¸ªç¬¦åˆæˆ‘ä»¬è¯´çš„æ¡ä»¶çš„æµï¼Œå®ƒå¿…é¡»è¿ç»­å‡ºæ•°æ®ï¼Œä½†å®ƒåšä¸åˆ°ï¼Œå®ƒå¡å¡å¡çš„ï¼Œå¤ªåƒæ˜¯åœ¨å’³å—½åç»“çŸ³äº†â€¦â€¦è®¤çœŸå›ç­”æˆ‘ï¼Œçœ‹ç‰‡å­å¾ˆå¡ï¼Œä½ ä¼šæœ‰â€œæµâ€çš„ä»»ä½•è”æƒ³å’Œæ„Ÿå—å—ã€‚ã€‚æ€ä¹ˆåŠï¼Ÿä½ å…ˆç­‰ç­‰ï¼Œæ“ä½œç³»ç»Ÿå·²ç»å‡†å¤‡äº†ä¸ªé•¿ç®¡å­ï¼Œå¸®ä½ ç¼“å­˜ä¸€å¤§æ®µä½ å†çœ‹ï¼Œè¿™å›å°±å¾ˆæµå¾ˆæµçš„æ„Ÿè§‰äº†ã€‚
æ‰€ä»¥ï¼Œç®¡å­ä»€ä¹ˆçš„ï¼Œé‚£ä¸æ˜¯æµï¼Œé‚£æ˜¯ä¸å¾—ä¸è¦é å®ƒä»¬æ¥è£…ï¼ˆè£…é€¼çš„è£… ä¸æ˜¯è£…æ”¾çš„è£…ï¼‰æµçš„æèŠ‚ã€‚é€šå¸¸æ˜¯ä¼Ÿå¤§çš„Cç¨‹åºå‘˜ä»¬è¦ç®¡çš„äº‹ã€‚
æœ€åæœ‰å…³ç½‘çº¿ã€‚ã€‚ã€‚ä½ è¦ä»å…¬å¸å›å®¶ï¼Œå…¬å¸æ˜¯Aç«¯ï¼Œå®¶æ˜¯Bç«¯ï¼Œä½ æ˜¯æ•°æ®ï¼Œä¸¤ä¸ªé—®é¢˜è¯·å›ç­”ï¼š
ä¸€ï¼Œä½ å›å®¶ä¸ä»ä»»ä½•è·¯ä¸Šç»è¿‡ï¼Œä½ é—­ä¸Šçœ¼ç›å¿ƒé‡Œé»˜å¿µæˆ‘è¦å›å®¶ï¼Œç„¶åå°±ç¬é—´è½¬ç§»åˆ°å®¶é‡Œå‡ºç°äº†ï¼Ÿï¼Ÿ
äºŒï¼Œä½ æ‹‰å¼€å®¶é—¨ï¼Œä½ è€å©†ä¼šè¯´ï¼šå“Ÿï¼Œä»å…¬å¸å›æ¥äº†å‘€ï¼Ÿ è¿˜æ˜¯å¥¹å¾ˆè®¤çœŸä¸¥è°¨åœ°è¯´ï¼šå“Ÿï¼Œä»é©¬è·¯ä¸Šå›æ¥äº†å‘€ï¼Ÿ
å†è¯´ä¸‰ç‚¹ï¼šä¸€ï¼Œç‰©ç†ä¸Šä½ æ— æ³•ç›´æ¥ä»å…¬å¸è½¬ç§»åˆ°å®¶ï¼Œæ‰€ä»¥éœ€è¦é©¬è·¯ç®¡å­ã€‚äºŒï¼Œä½ è€å©†å…³å¿ƒä»¥åŠè®¤çŸ¥ä½ æ˜¯ä»å…¬å¸è¿˜æ˜¯æŸäº›å¥¹ä¸å–œæ¬¢çš„åº—å›æ¥çš„ï¼Œé€šå¸¸ä¸å…³å¿ƒä½ ä»å“ªæ¡é©¬è·¯å›æ¥äº†ã€‚ä¸‰ï¼Œä½†ä½ ä¹Ÿä¸æ˜¯ä¸€ä¸ªæµï¼Œé™¤éå“ªå¤©ä½ æœ‰ä¸ªå­©å­ï¼Œå¹¶ä¸”å­©å­æ—¥å¿—é‡Œå†™åˆ°ï¼šä¸‹åˆï¼Œçˆ¸çˆ¸é™†é™†ç»­ç»­åœ°å›æ¥äº†ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚
javaä¸­çš„æµ Javaæ‰€æœ‰çš„I/Oæœºåˆ¶éƒ½æ˜¯åŸºäºæ•°æ®æµè¿›è¡Œè¾“å…¥è¾“å‡ºï¼Œè¿™äº›æ•°æ®æµè¡¨ç¤ºäº†å­—ç¬¦æˆ–è€…å­—èŠ‚æ•°æ®çš„æµåŠ¨åºåˆ—ã€‚Javaçš„I/Oæµæä¾›äº†è¯»å†™æ•°æ®çš„æ ‡å‡†æ–¹æ³•ã€‚ä»»ä½•Javaä¸­è¡¨ç¤ºæ•°æ®æºçš„å¯¹è±¡éƒ½ä¼šæä¾›ä»¥æ•°æ®æµçš„æ–¹å¼è¯»å†™å®ƒçš„æ•°æ®çš„æ–¹æ³•ã€‚
æ ‡å‡†è¾“å…¥è¾“å‡ºï¼Œæ–‡ä»¶çš„æ“ä½œï¼Œç½‘ç»œä¸Šçš„æ•°æ®æµï¼Œå­—ç¬¦ä¸²æµï¼Œå¯¹è±¡æµï¼Œzipæ–‡ä»¶æµç­‰ç­‰ï¼Œjavaä¸­å°†è¾“å…¥è¾“å‡ºæŠ½è±¡ç§°ä¸ºæµï¼Œå°±å¥½åƒæ°´ç®¡ï¼Œå°†ä¸¤ä¸ªå®¹å™¨è¿æ¥èµ·æ¥ã€‚å°†æ•°æ®å†²å¤–å­˜ä¸­è¯»å–åˆ°å†…å­˜ä¸­ï¼ˆä¾›Javaç¨‹åºä½¿ç”¨ï¼‰çš„ç§°ä¸º è¾“å…¥æµ
ï¼Œå°†æ•°æ®ä»å†…å­˜å†™å…¥å¤–å­˜ä¸­çš„ç§°ä¸º è¾“å‡ºæµ
ã€‚
æµæ˜¯ä¸€ä¸ªå¾ˆå½¢è±¡çš„æ¦‚å¿µï¼Œå½“ç¨‹åºéœ€è¦è¯»å–æ•°æ®çš„æ—¶å€™ï¼Œå°±ä¼šå¼€å¯ä¸€ä¸ªé€šå‘æ•°æ®æºçš„æµï¼Œè¿™ä¸ªæ•°æ®æºå¯ä»¥æ˜¯æ–‡ä»¶ï¼Œå†…å­˜ï¼Œæˆ–æ˜¯ç½‘ç»œè¿æ¥ã€‚ç±»ä¼¼çš„ï¼Œå½“ç¨‹åºéœ€è¦å†™å…¥æ•°æ®çš„æ—¶å€™ï¼Œå°±ä¼šå¼€å¯ä¸€ä¸ªé€šå‘ç›®çš„åœ°çš„æµã€‚
æµæ˜¯ä¸€ç»„æœ‰é¡ºåºçš„ï¼Œæœ‰èµ·ç‚¹å’Œç»ˆç‚¹çš„å­—èŠ‚é›†åˆï¼Œæ˜¯å¯¹æ•°æ®ä¼ è¾“çš„æ€»ç§°æˆ–æŠ½è±¡ã€‚å³æ•°æ®åœ¨ä¸¤è®¾å¤‡é—´çš„ä¼ è¾“ç§°ä¸ºæµï¼Œæµçš„æœ¬è´¨æ˜¯æ•°æ®ä¼ è¾“ï¼Œæ ¹æ®æ•°æ®ä¼ è¾“ç‰¹æ€§å°†æµæŠ½è±¡ä¸ºå„ç§ç±»ï¼Œæ–¹ä¾¿æ›´ç›´è§‚çš„è¿›è¡Œæ•°æ®æ“ä½œã€‚
æµçš„åˆ†ç±»ï¼š
æµçš„åˆ†ç±»ï¼ŒJavaçš„æµåˆ†ç±»æ¯”è¾ƒä¸°å¯Œï¼Œåˆšæ¥è§¦çš„äººçœ‹äº†åä¼šæ„Ÿè§‰å¾ˆæ™•ã€‚æµåˆ†ç±»çš„æ–¹å¼å¾ˆå¤šï¼š
1ã€æŒ‰ç…§è¾“å…¥çš„æ–¹å‘åˆ†ï¼Œè¾“å…¥æµå’Œè¾“å‡ºæµï¼Œè¾“å…¥è¾“å‡ºçš„å‚ç…§å¯¹è±¡æ˜¯Javaç¨‹åºã€‚
2ã€æŒ‰ç…§å¤„ç†æ•°æ®çš„å•ä½ä¸åŒåˆ†ï¼Œå­—èŠ‚æµå’Œ å­—ç¬¦æµ
ï¼Œå­—èŠ‚æµè¯»å–çš„æœ€å°å•ä½æ˜¯ä¸€ä¸ªå­—èŠ‚ï¼ˆ1byte=8bitï¼‰ï¼Œè€Œå­—ç¬¦æµä¸€æ¬¡å¯ä»¥è¯»å–ä¸€ä¸ªå­—ç¬¦ï¼ˆ1char = 2byte = 16bitï¼‰ã€‚
3ã€æŒ‰ç…§åŠŸèƒ½çš„ä¸åŒåˆ†ï¼Œåˆ†èŠ‚ç‚¹æµå’Œå¤„ç†æµï¼ŒèŠ‚ç‚¹æµæ˜¯ç›´æ¥ä»ä¸€ä¸ªæºè¯»å†™æ•°æ®çš„æµï¼ˆè¿™ä¸ªæµæ²¡æœ‰ç»è¿‡åŒ…è£…å’Œä¿®é¥°ï¼‰ï¼Œå¤„ç†æµæ˜¯åœ¨å¯¹èŠ‚ç‚¹æµå°è£…çš„åŸºç¡€ä¸Šçš„ ä¸€ç§æµï¼ŒFileInputStreamæ˜¯ä¸€ä¸ªèŠ‚ç‚¹æµï¼Œå¯ä»¥ç›´æ¥ä»æ–‡ä»¶è¯»å–æ•°æ®ï¼Œä½†æ˜¯BufferedInputStreamå¯ä»¥åŒ…è£… FileInputStreamï¼Œä½¿å¾—å…¶æœ‰ç¼“å†²åŠŸèƒ½ã€‚
æµçš„ç±»ç»“æ„å›¾ï¼š
![[z-oblib/z2-attachments/20191013212051298.png]]
![[z-oblib/z2-attachments/20191014111930276.png]]
Javaä¸­â€œæµâ€çš„æ¦‚å¿µä¸ç®€ä»‹
å­—èŠ‚æµä¸å­—ç¬¦æµï¼š
å­—ç¬¦æµçš„ç”±æ¥ï¼š å› ä¸ºæ•°æ®ç¼–ç çš„ä¸åŒï¼Œè€Œæœ‰äº†å¯¹å­—ç¬¦è¿›è¡Œé«˜æ•ˆæ“ä½œçš„æµå¯¹è±¡ã€‚æœ¬è´¨å…¶å®å°±æ˜¯åŸºäºå­—èŠ‚æµè¯»å–æ—¶ï¼Œå»æŸ¥äº†æŒ‡å®šçš„ç è¡¨ã€‚ å­—èŠ‚æµå’Œå­—ç¬¦æµçš„åŒºåˆ«ï¼š
è¯»å†™å•ä½ä¸åŒï¼šå­—èŠ‚æµä»¥å­—èŠ‚ï¼ˆ8bitï¼‰ä¸ºå•ä½ï¼Œå­—ç¬¦æµä»¥å­—ç¬¦ä¸ºå•ä½ï¼Œæ ¹æ®ç è¡¨æ˜ å°„å­—ç¬¦ï¼Œä¸€æ¬¡å¯èƒ½è¯»å¤šä¸ªå­—èŠ‚ã€‚
å¤„ç†å¯¹è±¡ä¸åŒï¼šå­—èŠ‚æµèƒ½å¤„ç†æ‰€æœ‰ç±»å‹çš„æ•°æ®ï¼ˆå¦‚å›¾ç‰‡ã€aviç­‰ï¼‰ï¼Œè€Œå­—ç¬¦æµåªèƒ½å¤„ç†å­—ç¬¦ç±»å‹çš„æ•°æ®ã€‚
ç»“è®ºï¼šåªè¦æ˜¯å¤„ç†çº¯æ–‡æœ¬æ•°æ®ï¼Œå°±ä¼˜å…ˆè€ƒè™‘ä½¿ç”¨å­—ç¬¦æµã€‚é™¤æ­¤ä¹‹å¤–éƒ½ä½¿ç”¨å­—èŠ‚æµã€‚
è¿™é‡Œéœ€è¦æåˆ°çš„ä¸€å¥æ˜¯ï¼šä¸€ä¸ªè‹±æ–‡å­—ç¬¦çš„é•¿åº¦æ˜¯1byteï¼Œè€Œæ±‰å­—çš„é•¿åº¦æ˜¯2byte. å¦‚æœæˆ‘ä»¬æŠŠè‹±æ±‰æ··åˆçš„æ–‡æ¡£ç»Ÿä¸€æŒ‰ç…§å­—èŠ‚æµå¤„ç†ï¼Œå°±ä¼šå‡ºç°åˆ†å‰²æ··ä¹±ï¼Œå‡ºç°ä¹±ç ã€‚è¿™æ˜¯ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨å­—ç¬¦æµæ¥å¤„ç†ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆåœ¨å¤„ç†æ–‡æ¡£çš„æ—¶å€™ï¼Œéƒ½è¦æŠŠinputstreamæ”¾åˆ°FileReaderä¸­ã€‚
æ–¹å‘æ€§ï¼š
æµåˆ†ä¸ºè¾“å…¥æµå’Œè¾“å‡ºæµã€‚ä½†è¿™éƒ½æ˜¯ç›¸å¯¹çš„ã€‚ç‰¹åˆ«æ˜¯åœ¨Hadoopçš„åºåˆ—åŒ–æ—¶ï¼Œæ€»æ˜¯ä¸çŸ¥é“åˆ°åº•ä½¿ç”¨è¾“å…¥æµè¿˜æ˜¯è¾“å‡ºæµã€‚è¿™é‡Œï¼Œæˆ‘ä»¬å¯ä»¥åšä¸ªåŒºåˆ†ï¼š
åºåˆ—åŒ–ï¼Œå°±æ˜¯æŠŠæ•°æ®åšå­—èŠ‚æµå¤„ç†ã€‚è€Œå­—èŠ‚æµåªæ˜¯ä¸€ç§å­˜å‚¨å½¢å¼ã€‚ä»–ä¸ä¼šè¢«ç¨‹åºè¯†åˆ«ï¼Œéœ€è¦æŠŠå­—èŠ‚æµååºåˆ—åŒ–ä¸ºjavaè¯†åˆ«çš„å¯¹è±¡ï¼Œæ‰å¯ä»¥è¢«javaç¨‹åºè¯†åˆ«ã€‚æ‰€ä»¥ï¼Œåºåˆ—åŒ–å°±æ˜¯å­—èŠ‚æµåŒ–ï¼Œå°±æ˜¯ä»javaä»£ç æˆ–å†…å­˜ä¸­è¾“å‡ºåˆ°å¤–å­˜ã€‚è€Œååºåˆ—åŒ–å°±æ˜¯å¯¹è±¡åŒ–ï¼Œå°±æ˜¯ä»å¤–å­˜ä¸­å°†å­—èŠ‚æµæ•°æ®è½¬åŒ–ä¸ºç¨‹åºè¯†åˆ«çš„å¯¹è±¡ã€‚</description></item><item><title>æµ</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%B5%81/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%B5%81/</guid><description>æµ 2ã€æ–‡ä»¶æŒ‡é’ˆä¸æ–‡ä»¶æè¿°ç¬¦ - å­¤æƒ…å‰‘å®¢ - åšå®¢å›­ (cnblogs.com)
åœ¨Cè¯­è¨€ä¸­å¼•å…¥äº†æµ(stream)çš„æ¦‚å¿µã€‚å®ƒå°†æ•°æ®çš„è¾“å…¥è¾“å‡ºçœ‹åšæ˜¯æ•°æ®çš„æµå…¥å’Œæµå‡ºï¼Œè¿™æ ·ä¸ç®¡æ˜¯ç£ç›˜æ–‡ä»¶æˆ–è€…æ˜¯ç‰©ç†è®¾å¤‡ï¼ˆæ‰“å°æœºï¼Œæ˜¾ç¤ºå™¨ï¼Œé”®ç›˜ç­‰ï¼‰éƒ½å¯ä»¥çœ‹åšä¸€ç§æµçš„æºå’Œç›®çš„åœ°ï¼Œè§†ä»–ä»¬ä¸ºåŒä¸€ç§ä¸œè¥¿ï¼Œè€Œä¸ç®¡å…¶å…·ä½“çš„ç‰©ç†ç»“æ„ï¼Œå³å¯¹ä»–ä»¬çš„æ“ä½œï¼Œå°±æ˜¯æ•°æ®çš„æµå…¥å’Œæµå‡ºã€‚è¿™ç§æŠŠæ•°æ®çš„è¾“å…¥è¾“å‡ºä½œä¸ºæ“ä½œå¯¹è±¡ï¼ŒæŠ½è±¡åŒ–ä¸ºä¸€ç§æµï¼Œè€Œä¸ç®¡å®ƒçš„å…·ä½“ç»“æ„çš„æ–¹æ³•æœ‰åˆ©äºç¼–ç¨‹ï¼Œè€Œè®¾è®¡æµçš„è¾“å‡ºæ“ä½œçš„å‡½æ•°å¯ç”¨äºå„ç§å¯¹è±¡ï¼Œä¸å…·ä½“çš„å®ä½“æ— å…³ï¼Œå³å…·æœ‰é€šç”¨æ€§ã€‚
æ ‡å‡†I/Oåº“çš„æ‰€æœ‰æ“ä½œéƒ½æ˜¯å›´ç»•æµæ¥è¿›è¡Œçš„ï¼Œåœ¨æ ‡å‡†I/Oä¸­æµç”¨FILE *æ¥æè¿°ã€‚
æ ‡å‡†I/Oçš„æ ¸å¿ƒå¯¹è±¡å°±æ˜¯æµã€‚å½“ç”¨æ ‡å‡†I/Oæ‰“å¼€ä¸€ä¸ªæ–‡ä»¶æ—¶ï¼Œå°±ä¼šåˆ›å»ºä¸€ä¸ªFILEç»“æ„ä½“æè¿°è¯¥æ–‡ä»¶ï¼ˆæˆ–è€…ç†è§£ä¸ºåˆ›å»ºä¸€ä¸ªFILEç»“æ„ä½“å’Œå®é™…æ‰“å¼€çš„æ–‡ä»¶å…³è”èµ·æ¥ï¼‰ã€‚æˆ‘ä»¬æŠŠè¿™ä¸ªFILEç»“æ„ä½“å½¢è±¡çš„ç§°ä¸ºæµã€‚æ ‡å‡†I/Oå‡½æ•°éƒ½åŸºäºæµè¿›è¡Œå„ç§æ“ä½œã€‚
Cè¯­è¨€å°†æ¯ä¸ªæ–‡ä»¶ç®€å•åœ°ä½œä¸ºé¡ºåºå­—èŠ‚æµ(å¦‚ä¸‹å›¾)ã€‚
![[z-oblib/z2-attachments/Pasted image 20220802234132.png]]
æ¯ä¸ªæ–‡ä»¶ç”¨æ–‡ä»¶ç»“æŸç¬¦ç»“æŸï¼Œæˆ–è€…åœ¨ç‰¹å®šå­—èŠ‚æ•°çš„åœ°æ–¹ç»“æŸï¼Œè¿™ä¸ªç‰¹å®šçš„å­—èŠ‚æ•°å¯ä»¥å­˜å‚¨åœ¨ç³»ç»Ÿç»´æŠ¤çš„ç®¡ç†æ•°æ®ç»“æ„ä¸­ã€‚ å½“æ‰“å¼€æ–‡ä»¶æ—¶ï¼Œå°±å»ºç«‹äº†å’Œæ–‡ä»¶çš„å…³ç³»ã€‚åœ¨å¼€å§‹æ‰§è¡Œç¨‹åºçš„æ—¶å€™ï¼Œå°†è‡ªåŠ¨æ‰“å¼€3ä¸ªæ–‡ä»¶å’Œç›¸å…³çš„æµï¼šæ ‡å‡†è¾“å…¥æµã€æ ‡å‡†è¾“å‡ºæµå’Œæ ‡å‡†é”™è¯¯ã€‚æµæä¾›äº†æ–‡ä»¶å’Œç¨‹åºçš„é€šä¿¡é€šé“ã€‚ä¾‹å¦‚ï¼Œæ ‡å‡†è¾“å…¥æµä½¿å¾—ç¨‹åºå¯ä»¥ä»é”®ç›˜è¯»å–æ•°æ®ï¼Œè€Œæ ‡å‡†è¾“å‡ºæµä½¿å¾—ç¨‹åºå¯ä»¥åœ¨å±å¹•ä¸Šè¾“å‡ºæ•°æ®ã€‚
æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶å°†è¿”å›æŒ‡å‘FILEç»“æ„(åœ¨stdio.hä¸­å®šä¹‰)çš„æŒ‡é’ˆï¼Œå®ƒåŒ…å«ç”¨äºå¤„ç†æ–‡ä»¶çš„ä¿¡æ¯ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™ä¸ªç»“æ„åŒ…å«[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_3-è½¯ä»¶ç³»ç»Ÿ/2_0_2_1_2_3_1-æ“ä½œç³»ç»Ÿ/æ–‡ä»¶æè¿°ç¬¦|æ–‡ä»¶æè¿°ç¬¦]]ã€‚æ ‡å‡†è¾“å…¥ã€æ ‡å‡†è¾“å‡ºå’Œæ ‡å‡†é”™è¯¯æ˜¯ç”¨[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_3-è½¯ä»¶ç³»ç»Ÿ/2_0_2_1_2_3_1-æ“ä½œç³»ç»Ÿ/æ–‡ä»¶æŒ‡é’ˆ|æ–‡ä»¶æŒ‡é’ˆ]]stdinã€stdoutå’Œstderræ¥å¤„ç†çš„ã€‚</description></item><item><title>æ¶ˆæ¯é˜Ÿåˆ—</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/</guid><description>æ¶ˆæ¯é˜Ÿåˆ— æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆMessage Queueï¼‰ç”¨äºåœ¨[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_3-è½¯ä»¶ç³»ç»Ÿ/2_0_2_1_2_3_1-æ“ä½œç³»ç»Ÿ/è¿›ç¨‹|è¿›ç¨‹]]ä¹‹é—´ä¼ é€’è¾ƒå°çš„æ•°æ®ï¼Œè¿›ç¨‹å¯ä»¥å‘ä¸€ä¸ªæˆ–å¤šä¸ªæ¶ˆæ¯é˜Ÿåˆ—ä¸­æ”¾å…¥æ•°æ®ï¼ˆæ¶ˆæ¯ï¼‰ï¼Œå…¶å®ƒè¿›ç¨‹å¯ä»¥ä»æ¶ˆæ¯é˜Ÿåˆ—ä¸­æŒ‰ç…§å„ç§æ–¹å¼ï¼ˆä¾‹å¦‚æœ€å…¸å‹çš„å…ˆè¿›å…ˆå‡ºFIFOæ–¹å¼ï¼‰å–å‡ºæ¶ˆæ¯ï¼Œä»è€Œå®ç°è¿›ç¨‹é—´é€šä¿¡ã€‚
æ¶ˆæ¯é˜Ÿåˆ—æ˜¯ä¸€ç§[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_1-è½¯ä»¶æ–¹æ³•å­¦/è®¾è®¡æ¨¡å¼/ç”Ÿäº§è€…æ¶ˆè´¹è€…|ç”Ÿäº§è€…æ¶ˆè´¹è€…]]æ¨¡å‹ï¼Œç”Ÿäº§è€…ç”Ÿäº§æ¶ˆæ¯æ”¾å…¥é˜Ÿåˆ—ï¼Œç­‰å¾…è¢«æ¶ˆè´¹è€…æ¶ˆè´¹èµ°ã€‚å¦‚æœæ¶ˆæ¯é˜Ÿåˆ—å·²æ»¡ï¼Œç”Ÿäº§è€…è¢«é˜»å¡ï¼Œå¦‚æœé˜Ÿåˆ—å·²ç©ºï¼Œæ¶ˆè´¹è€…è¢«é˜»å¡ã€‚å½“ç„¶ï¼ŒæŒ‰ç…§ä¸åŒè®¾è®¡æ–¹å¼ï¼Œå¯èƒ½ä¼šä»¥é€šçŸ¥çš„æ–¹å¼æ›¿ä»£é˜»å¡è¡Œä¸ºã€‚
åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œä¹Ÿå¸¸ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—æ¨¡å‹ï¼ˆå¦‚RabbitMQã€Kafkaï¼‰åœ¨å¤šä¸ªæœåŠ¡ç¨‹åºä¹‹é—´å¼‚æ­¥åœ°ä¼ é€’æ¶ˆæ¯ã€‚</description></item><item><title>ç”Ÿäº§è€…æ¶ˆè´¹è€…</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_1-%E8%BD%AF%E4%BB%B6%E6%96%B9%E6%B3%95%E5%AD%A6/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E7%94%9F%E4%BA%A7%E8%80%85%E6%B6%88%E8%B4%B9%E8%80%85/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_1-%E8%BD%AF%E4%BB%B6%E6%96%B9%E6%B3%95%E5%AD%A6/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E7%94%9F%E4%BA%A7%E8%80%85%E6%B6%88%E8%B4%B9%E8%80%85/</guid><description>ç”Ÿäº§è€…æ¶ˆè´¹è€… ä¸[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_1-è½¯ä»¶æ–¹æ³•å­¦/è®¾è®¡æ¨¡å¼/ä¿æŠ¤æ€§æš‚åœ|ä¿æŠ¤æ€§æš‚åœ]]ä¸­çš„ GuardObject ä¸åŒï¼Œä¸éœ€è¦äº§ç”Ÿç»“æœå’Œæ¶ˆè´¹ç»“æœçš„çº¿ç¨‹ä¸€ä¸€å¯¹åº”ã€‚ æ¶ˆæ¯é˜Ÿåˆ—æ˜¯ä¸€ç§å¼‚æ­¥çš„æ¨¡å¼ï¼Œæ¶ˆæ¯ç”Ÿäº§å‡ºæ¥ä¸ä¸€å®šè¢«ç«‹åˆ»æ¶ˆè´¹ã€‚ æ¶ˆè´¹é˜Ÿåˆ—å¯ä»¥ç”¨æ¥å¹³è¡¡ç”Ÿäº§å’Œæ¶ˆè´¹çš„çº¿ç¨‹èµ„æºã€‚ ç”Ÿäº§è€…ä»…è´Ÿè´£äº§ç”Ÿç»“æœæ•°æ®ï¼Œä¸å…³å¿ƒæ•°æ®è¯¥å¦‚ä½•å¤„ç†ï¼Œè€Œæ¶ˆè´¹è€…ä¸“å¿ƒå¤„ç†ç»“æœæ•°æ®ã€‚ æ¶ˆæ¯é˜Ÿåˆ—æ˜¯æœ‰å®¹é‡é™åˆ¶çš„ï¼Œæ»¡æ—¶ä¸ä¼šå†åŠ å…¥æ•°æ®ï¼Œç©ºæ—¶ä¸ä¼šå†æ¶ˆè€—æ•°æ®ã€‚ JDK ä¸­å„ç§[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/é˜»å¡é˜Ÿåˆ—|é˜»å¡é˜Ÿåˆ—]]ï¼Œé‡‡ç”¨çš„å°±æ˜¯è¿™ç§æ¨¡å¼ã€‚ ![[z-oblib/z2-attachments/Pasted image 20220529162239.png]]
å®ç° 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 package test; import lombok.</description></item><item><title>ç«æ€æ¡ä»¶</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E7%AB%9E%E6%80%81%E6%9D%A1%E4%BB%B6/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E7%AB%9E%E6%80%81%E6%9D%A1%E4%BB%B6/</guid><description>ç«æ€æ¡ä»¶ race condition
å¤šä¸ª[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_3-è½¯ä»¶ç³»ç»Ÿ/2_0_2_1_2_3_1-æ“ä½œç³»ç»Ÿ/çº¿ç¨‹|çº¿ç¨‹]]åœ¨[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_3-è½¯ä»¶ç³»ç»Ÿ/2_0_2_1_2_3_1-æ“ä½œç³»ç»Ÿ/ä¸´ç•ŒåŒº|ä¸´ç•ŒåŒº]]å†…æ‰§è¡Œï¼Œç”±äºä»£ç çš„æ‰§è¡Œåºåˆ—ä¸åŒï¼Œè€Œå¯¼è‡´çš„ç»“æœæ— æ³•é¢„æµ‹ã€‚</description></item><item><title>ç¬¦å·è¡¨</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux/%E7%AC%A6%E5%8F%B7%E8%A1%A8/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux/%E7%AC%A6%E5%8F%B7%E8%A1%A8/</guid><description>ç¬¦å·è¡¨ ä½œç”¨ ä¸€å¼ â€œæŸ¥è¯¢è¡¨ã€‚
ç¬¦å·è¡¨åŒ…å«äº†ä¸€äº›é€šç”¨çš„ç¬¦å·ï¼Œè¿™éƒ¨åˆ†ä¿¡æ¯åœ¨è¿›è¡Œäº†Â stripÂ æ“ä½œåå°±ä¼šæ¶ˆå¤±ã€‚è¿™äº›ç¬¦å·ä¿¡æ¯å¯èƒ½åŒ…æ‹¬å˜é‡åã€å‡½æ•°åã€‚ ç¬¦å·è¡¨æœ¬è´¨å°±æ˜¯ä¸€ä¸ªæ˜ å°„è¡¨ï¼Œä¸¾ä¸ªä¾‹å­ï¼šæŸè¡ŒäºŒè¿›åˆ¶æ±‡ç¼–ä»£ç æ˜ å°„åˆ°æºç ç¬¬å‡ è¡Œã€‚
ç¬¦å·è¡¨çš„ä½œç”¨ï¼š
è°ƒè¯•ï¼šæ±‡ç¼–&amp;ndash;æŸ¥æ‰¾&amp;ndash;&amp;gt;æºç ä½ç½® é‡å®šä½ï¼šå‡½æ•°å&amp;ndash;æŸ¥æ‰¾&amp;ndash;&amp;gt;æ±‡ç¼–ä½ç½® è°ƒè¯• windowå·¥ç¨‹æœ‰ä¸€ä¸ª*.pdbæ–‡ä»¶,é‡Œé¢ç¼–åŒ…å«è°ƒè¯•ç¬¦å·.å¯å‚é˜…wiki window pdbæ ¼å¼ã€‚ åœ¨javaå·¥ç¨‹ä¼šä½¿ç”¨ä¸€ä¸ªå«æ··æ·†çš„æŠ€æœ¯ï¼Œæ··æ·†åä¼šç”Ÿæˆæ··æ·†å‰åçš„æ˜ å°„æ–‡ä»¶mapping.txt,è¿™ä¸ªä¹Ÿå¯ä»¥ç†è§£ä¸ºç¬¦å·è¡¨çš„ä¸€ç§ã€‚ åœ¨linuxæœ‰ä¸€ä¸ªdwarfçš„æ–‡ä»¶æ ¼å¼ä¹Ÿæ˜¯ä¸“é—¨ç”¨äºè°ƒè¯•çš„æ–‡ä»¶ã€‚å‚é˜…wiki DWARFã€‚ é‡å®šä½ é‡å®šä½å¯ä»¥å¤§è‡´åˆ†ä¸ºä¸¤ç§ç±»åˆ«åŠ¨æ€é‡å®šä½ä¸é™æ€é‡å®šä½
åŠ¨æ€é‡å®šä½ å‡è®¾Aç¨‹åºéœ€è¦xxx.soä¸­çš„yyyyå‡½æ•°é‚£ä¹ˆå°±éœ€è¦ä»xxx.soä¸­çš„ç¬¦å·è¡¨è¿›è¡Œè¯»å–ã€‚
é™æ€é‡å®šä½ [[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_3-è½¯ä»¶ç³»ç»Ÿ/2_0_2_1_2_3_1-æ“ä½œç³»ç»Ÿ/linux/é™æ€é‡å®šä½|é™æ€é‡å®šä½]]
åŸºæœ¬ç»“æ„ ELFæ–‡ä»¶ä¸­çš„ç¬¦å·è¡¨å¾€å¾€æ˜¯æ–‡ä»¶ä¸­çš„ä¸€ä¸ªæ®µï¼Œæ®µåä¸€èˆ¬å«&amp;quot;.symtab&amp;quot;ã€‚ç¬¦å·è¡¨çš„ç»“æ„å¾ˆç®€å•ï¼Œå®ƒæ˜¯ä¸€ä¸ªç¬¦å·è¡¨é¡¹æ•°ç»„æ•°ç»„ï¼Œæ¯ä¸ªç¬¦å·è¡¨é¡¹ç»“æ„å¯¹åº”ä¸€ä¸ªç¬¦å·ã€‚è¿™ä¸ªæ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œä¹Ÿå°±æ˜¯ä¸‹æ ‡0çš„å…ƒç´ ä¸ºæ— æ•ˆçš„&amp;quot;æœªå®šä¹‰&amp;quot;ç¬¦å·ã€‚
Elf32_Symçš„ç»“æ„å®šä¹‰å¦‚ä¸‹ï¼š
1 2 3 4 5 6 7 8 typedef struct { Elf32_Word st_name; Elf32_Addr st_value; Elf32_Word st_size; unsigned char st_info; unsigned char st_other; Elf32_Half st_shndx; } Elf32_Sym; åç§° æè¿° st_name ç¬¦å·åã€‚è¿™ä¸ªæˆå‘˜åŒ…å«äº†è¯¥ç¬¦å·ååœ¨å­—ç¬¦ä¸²è¡¨ä¸­çš„ä¸‹æ ‡ï¼ˆè¿˜è®°å¾—å­—ç¬¦ä¸²è¡¨å§ï¼Ÿï¼‰ st_value ç¬¦å·ç›¸å¯¹åº”çš„å€¼ã€‚è¿™ä¸ªå€¼è·Ÿç¬¦å·æœ‰å…³ï¼Œå¯èƒ½æ˜¯ä¸€ä¸ªç»å¯¹å€¼ï¼Œä¹Ÿå¯èƒ½æ˜¯ä¸€ä¸ªåœ°å€ç­‰ï¼Œä¸åŒçš„ç¬¦å·ï¼Œå®ƒæ‰€å¯¹åº”çš„å€¼å«ä¹‰ä¸åŒï¼Œè§ä¸‹æ–‡â€œç¬¦å·å€¼â€ã€‚ st_size ç¬¦å·å¤§å°ã€‚å¯¹äºåŒ…å«æ•°æ®çš„ç¬¦å·ï¼Œè¿™ä¸ªå€¼æ˜¯è¯¥æ•°æ®ç±»å‹çš„å¤§å°ã€‚æ¯”å¦‚ä¸€ä¸ªdoubleå‹çš„ç¬¦å·å®ƒå ç”¨8ä¸ªå­—èŠ‚ã€‚å¦‚æœè¯¥å€¼ä¸º0ï¼Œåˆ™è¡¨ç¤ºè¯¥ç¬¦å·å¤§å°ä¸º0æˆ–æœªçŸ¥ã€‚ st_info ç¬¦å·ç±»å‹å’Œç»‘å®šä¿¡æ¯ï¼Œè§ä¸‹æ–‡â€œç¬¦å·ç±»å‹ä¸ç»‘å®šä¿¡æ¯â€ st_other è¯¥æˆå‘˜ç›®å‰ä¸º0ï¼Œæ²¡ç”¨ st_shndx ç¬¦å·æ‰€åœ¨çš„æ®µï¼Œè§ä¸‹æ–‡â€œç¬¦å·æ‰€åœ¨æ®µâ€ Elf64_Symbolå®šä¹‰å¦‚ä¸‹ï¼š</description></item><item><title>ç¬¦å·è§£æ</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux/%E7%AC%A6%E5%8F%B7%E8%A7%A3%E6%9E%90/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux/%E7%AC%A6%E5%8F%B7%E8%A7%A3%E6%9E%90/</guid><description>ç¬¦å·è§£æ ä½œç”¨ ç¡®å®šç¬¦å·å¼•ç”¨å…³ç³»ï¼Œå°†æ¯ä¸ªæ¨¡å—ä¸­å¼•ç”¨çš„ç¬¦å·ä¸æŸä¸ªç›®æ ‡æ¨¡å—çš„å®šä¹‰ç¬¦å·å»ºç«‹å…³è”ã€‚
åœ¨æˆ‘ä»¬é€šå¸¸çš„è§‚å¿µé‡Œ,ä¹‹æ‰€ä»¥è¦é“¾æ¥æ˜¯å› ä¸ºæˆ‘ä»¬ç›®æ ‡æ–‡ä»¶ä¸­ç”¨åˆ°çš„ç¬¦å·è¢«å®šä¹‰åœ¨å…¶ä»–ç›®æ ‡æ–‡ä»¶,æ‰€ä»¥è¦å°†å®ƒä»¬é“¾æ¥èµ·æ¥ã€‚æ¯”å¦‚æˆ‘ä»¬ç›´æ¥ä½¿ç”¨ldæ¥é“¾æ¥â€œa.oâ€,è€Œä¸å°†â€œb.oâ€ä½œä¸ºè¾“å…¥ã€‚é“¾æ¥å™¨å°±ä¼šå‘ç° sharedå’Œswapä¸¤ä¸ªç¬¦å·æ²¡æœ‰è¢«å®šä¹‰,æ²¡æœ‰åŠæ³•å®Œæˆé“¾æ¥å·¥ä½œï¼š ![[z-oblib/z2-attachments/Pasted image 20220911163933.png]] è¿™ä¹Ÿæ˜¯æˆ‘ä»¬å¹³æ—¶åœ¨ç¼–å†™ç¨‹åºçš„æ—¶å€™æœ€å¸¸ç¢°åˆ°çš„é—®é¢˜ä¹‹ä¸€,å°±æ˜¯é“¾æ¥æ—¶ç¬¦å·æœªå®šä¹‰ã€‚å¯¼è‡´è¿™ä¸ªé—®é¢˜çš„åŸå› å¾ˆå¤š,æœ€å¸¸è§çš„ä¸€èˆ¬éƒ½æ˜¯é“¾æ¥æ—¶ç¼ºå°‘äº†æŸä¸ªåº“,æˆ–è€…è¾“å…¥ç›®æ ‡æ–‡ä»¶è·¯å¾„ä¸æ­£ç¡®æˆ–ç¬¦å·çš„å£°æ˜ä¸å®šä¹‰ä¸ä¸€æ ·ã€‚æ‰€ä»¥ä»æ™®é€šç¨‹åºå‘˜çš„è§’åº¦çœ‹,ç¬¦å·çš„è§£æå æ®äº†é“¾æ¥è¿‡ç¨‹çš„ä¸»è¦å†…å®¹ã€‚ é‡å®šä½è¿‡ç¨‹ä¹Ÿä¼´éšç€ç¬¦å·çš„è§£æè¿‡ç¨‹,æ¯ä¸ªç›®æ ‡æ–‡ä»¶éƒ½å¯èƒ½å®šä¹‰ä¸€äº›ç¬¦å·ä¹Ÿå¯èƒ½å¼•ç”¨åˆ°å®šä¹‰åœ¨å…¶ä»–ç›®æ ‡æ–‡ä»¶çš„ç¬¦å·ã€‚é‡å®šä½çš„è¿‡ç¨‹ä¸­,æ¯ä¸ªé‡å®šä½çš„å…¥å£éƒ½æ˜¯å¯¹ä¸€ä¸ªç¬¦å·çš„å¼•ç”¨,é‚£ä¹ˆå½“é“¾æ¥å™¨é¡»è¦å¯¹æŸä¸ªç¬¦å·çš„å¼•ç”¨è¿›è¡Œé‡å®šä½æ—¶,å®ƒå°±è¦ç¡®å®šè¿™ä¸ªç¬¦å·çš„ç›®æ ‡åœ°å€ã€‚è¿™æ—¶å€™é“¾æ¥å™¨å°±ä¼šå»æŸ¥æ‰¾ç”±æ‰€æœ‰è¾“å…¥ç›®æ ‡æ–‡ä»¶çš„ç¬¦å·è¡¨ç»„æˆçš„å…¨å±€ç¬¦å·è¡¨,æ‰¾åˆ°ç›¸åº”çš„ç¬¦å·åè¿›è¡Œé‡å®šä½ã€‚æ¯”å¦‚æˆ‘ä»¬æŸ¥çœ‹â€œa.oâ€çš„ç¬¦å·è¡¨ï¼š ![[z-oblib/z2-attachments/Pasted image 20220911164046.png]] GLOBALâ€ç±»å‹çš„ç¬¦å·,é™¤äº†â€œmainâ€å‡½æ•°æ˜¯å®šä¹‰åœ¨ä»£ç æ®µä¹‹å¤–,å…¶ä»–ä¸¤ä¸ªâ€œ sharedå’Œâ€œswapâ€éƒ½æ˜¯â€œUNDâ€,å³â€œundefinedâ€æœªå®šä¹‰ç±»å‹,è¿™ç§æœªå®šä¹‰çš„ç¬¦å·éƒ½æ˜¯å› ä¸ºè¯¥ç›®æ ‡æ–‡ä»¶ä¸­æœ‰å…³äºå®ƒä»¬çš„é‡å®šä½é¡¹ã€‚æ‰€ä»¥åœ¨é“¾æ¥å™¨æ‰«æå®Œæ‰€æœ‰çš„è¾“å…¥ç›®æ ‡æ–‡ä»¶ä¹‹å,æ‰€æœ‰è¿™äº›æœªå®šä¹‰çš„ç¬¦å·éƒ½åº”è¯¥èƒ½å¤Ÿåœ¨å…¨å±€ç¬¦å·è¡¨ä¸­æ‰¾åˆ°,å¦åˆ™é“¾æ¥å™¨å°±æŠ¥ç¬¦å·æœªå®šä¹‰é”™è¯¯ã€‚
æµç¨‹ ã€Šç¨‹åºå‘˜çš„è‡ªæˆ‘ä¿®å…»ã€‹ç•ªå¤–ç¬”è®°â€”â€”ç¬¦å·è§£æä¸é‡å®šä½ - SegmentFault æ€å¦
é‡å®šä½è¿‡ç¨‹ä¹Ÿä¼´éšç€ç¬¦å·çš„è§£æè¿‡ç¨‹ï¼Œæ¯ä¸ªç›®æ ‡æ–‡ä»¶éƒ½å¯èƒ½å®šä¹‰ä¸€äº›ç¬¦å·ï¼Œä¹Ÿå¯èƒ½å¼•ç”¨åˆ°å®šä¹‰åœ¨å…¶ä»–ç›®æ ‡æ–‡ä»¶çš„ç¬¦å·ã€‚é‡å®šä½çš„è¿‡ç¨‹ä¸­ï¼Œæ¯ä¸ªé‡å®šä½çš„å…¥å£éƒ½æ˜¯å¯¹ä¸€ä¸ªç¬¦å·çš„å¼•ç”¨ï¼Œé‚£ä¹ˆå½“é“¾æ¥å™¨éœ€è¦å¯¹æŸä¸ªç¬¦å·çš„å¼•ç”¨è¿›è¡Œé‡å®šä½æ—¶ï¼Œå®ƒå°±è¦ç¡®å®šè¿™ä¸ªç¬¦å·çš„ç›®æ ‡åœ°å€ã€‚è¿™æ—¶å€™é“¾æ¥å™¨å°±ä¼šå»æŸ¥æ‰¾ç”±æ‰€æœ‰è¾“å…¥ç›®æ ‡æ–‡ä»¶çš„[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_3-è½¯ä»¶ç³»ç»Ÿ/2_0_2_1_2_3_1-æ“ä½œç³»ç»Ÿ/linux/ç¬¦å·è¡¨|ç¬¦å·è¡¨]]ç»„æˆçš„å…¨å±€ç¬¦å·è¡¨ï¼Œæ‰¾åˆ°ç›¸åº”çš„ç¬¦å·åè¿›è¡Œé‡å®šä½ã€‚
![[z-oblib/z2-attachments/Pasted image 20220911033037.png]] ![[z-oblib/z2-attachments/Pasted image 20220911033032.png]]
é€šè¿‡å‘½ä»¤æŸ¥çœ‹â€œa.oâ€çš„ç¬¦å·è¡¨ï¼š ![[z-oblib/z2-attachments/Pasted image 20220911033013.png]]
å¯ä»¥çœ‹åˆ°sharedå’Œswapçš„ç±»å‹éƒ½æ˜¯â€œUNDâ€ï¼Œå³â€œundefinedâ€æœªå®šä¹‰ç±»å‹ï¼Œåœ¨é“¾æ¥å™¨æ‰«æå®Œæ‰€æœ‰çš„è¾“å…¥ç›®æ ‡æ–‡ä»¶åï¼Œæ‰€æœ‰è¿™äº›æœªå®šä¹‰çš„ç¬¦å·éƒ½åº”è¯¥èƒ½å¤Ÿåœ¨å…¨å±€ç¬¦å·è¡¨ä¸­æ‰¾åˆ°ï¼Œå¦åˆ™é“¾æ¥å™¨å°±æŠ¥ç¬¦å·æœªå®šä¹‰é”™è¯¯ã€‚è¿™ç§ä¸€èˆ¬éƒ½æ˜¯é“¾æ¥æ—¶ç¼ºå°‘äº†æŸäº›åº“ï¼Œæˆ–è€…è¾“å…¥ç›®æ ‡æ–‡ä»¶è·¯å¾„ä¸æ­£ç¡®æˆ–ç¬¦å·çš„å£°æ˜ä¸å®šä¹‰ä¸ä¸€æ ·ã€‚
æŒ‡ä»¤ä¿®æ”¹æ–¹å¼ ä¸åŒçš„å¤„ç†å™¨æŒ‡ä»¤å¯¹äºåœ°å€çš„æ ¼å¼å’Œæ–¹å¼éƒ½ä¸ä¸€æ ·ã€‚ å¯¹äº32ä½x86å¹³å°ä¸‹çš„[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_3-è½¯ä»¶ç³»ç»Ÿ/2_0_2_1_2_3_1-æ“ä½œç³»ç»Ÿ/linux/ELF|ELF]]æ–‡ä»¶çš„é‡å®šä½å…¥å£æ‰€ä¿®æ­£çš„æŒ‡ä»¤å¯»å€æ–¹å¼åªæœ‰ä¸¤ç§ï¼š ç»å¯¹è¿‘å€32ä½å¯»å€ã€‚ ç›¸å¯¹è¿‘å€32ä½å¯»å€ã€‚ è¿™ä¸¤ç§é‡å®šä½æ–¹å¼æŒ‡ä»¤ä¿®æ­£æ–¹å¼æ¯ä¸ªè¢«ä¿®æ­£çš„ä½ç½®çš„é•¿åº¦éƒ½æ˜¯32ä½ã€‚ è¿™ä¸¤ç§æ–¹å¼çš„å®šä¹‰ï¼š
![[z-oblib/z2-attachments/Pasted image 20220911033329.png]]
é€šè¿‡å‰é¢çš„[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_3-è½¯ä»¶ç³»ç»Ÿ/2_0_2_1_2_3_1-æ“ä½œç³»ç»Ÿ/linux/é‡å®šä½è¡¨|é‡å®šä½è¡¨]]å¯ä»¥çœ‹åˆ°swapç¬¦å·çš„ç±»å‹ä¸ºR_386_PC32ï¼Œè¿™æ˜¯ä¸€æ¡ç›¸å¯¹ä½ç§»è°ƒç”¨æŒ‡ä»¤ã€‚è€Œsharedç¬¦å·çš„ç±»å‹ä¸ºR_386_32ï¼Œå®ƒä¿®æ­£çš„æ˜¯ä¸€æ¡ä¼ è¾“æŒ‡ä»¤çš„æºï¼Œå³sharedçš„ç»å¯¹åœ°å€ã€‚ å‡è®¾åœ¨å°†a.oå’Œb.oé“¾æ¥æˆæœ€ç»ˆå¯æ‰§è¡Œæ–‡ä»¶åï¼Œmainå‡½æ•°çš„è™šæ‹Ÿåœ°å€ä¸º0x1000ï¼Œswapå‡½æ•°çš„è™šæ‹Ÿåœ°å€ä¸º0x2000ï¼Œsharedå˜é‡çš„è™šæ‹Ÿåœ°å€ä¸º0x3000ã€‚ é¦–å…ˆçœ‹åç§»ä¸º0x18çš„è¿™æ¡movæŒ‡ä»¤çš„ä¿®æ­£ï¼Œå®ƒæ˜¯ç»å¯¹å¯»å€ä¿®æ­£ï¼Œå®ƒä¿®æ­£åçš„ç»“æœæ˜¯S+Aã€‚ Sæ˜¯ç¬¦å·sharedçš„å®é™…åœ°å€ï¼Œå³0x3000ã€‚ Aæ˜¯è¢«ä¿®æ­£ä½ç½®çš„åŸå§‹å€¼ï¼ˆé»˜è®¤å¡«å……å€¼ï¼‰ï¼Œå³0x00000000ã€‚ æ‰€ä»¥å®ƒçš„ä¿®æ­£åçš„åœ°å€ä¸ºï¼š0x3000+0x00000000=0x3000ã€‚ ![[z-oblib/z2-attachments/Pasted image 20220911033447.png]] å†æ¥çœ‹åç§»ä¸º0x26çš„è¿™æ¡callæŒ‡ä»¤çš„ä¿®æ­£ï¼Œå®ƒæ˜¯ç›¸å¯¹å¯»å€ä¿®æ­£ï¼Œå®ƒä¿®æ­£åçš„ç»“æœæ˜¯S+A-Pã€‚ Sæ˜¯ç¬¦å·swapçš„å®é™…åœ°å€ï¼Œå³0x2000ã€‚ Aæ˜¯è¢«ä¿®æ­£ä½ç½®çš„å€¼ï¼Œå³0xFFFFFFFC(-4)ã€‚ Pä¸ºè¢«ä¿®æ­£çš„ä½ç½®ï¼Œå½“é“¾æ¥æˆå¯æ‰§è¡Œæ–‡ä»¶æ—¶ï¼Œè¿™ä¸ªå€¼åº”è¯¥æ˜¯è¢«ä¿®æ­£ä½ç½®çš„è™šæ‹Ÿåœ°å€ï¼Œå³0x1000+0x27ã€‚ æ‰€ä»¥å®ƒçš„ä¿®æ­£åçš„åœ°å€ä¸º0x2000+(-4)-(0x1000+0x27)=0xFD5ã€‚ !</description></item><item><title>ç®¡ç¨‹æ€»ç»“</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E7%AE%A1%E7%A8%8B%E6%80%BB%E7%BB%93/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E7%AE%A1%E7%A8%8B%E6%80%BB%E7%BB%93/</guid><description>ç®¡ç¨‹æ€»ç»“ æ‚²è§‚é”
éœ€è¦é‡ç‚¹æŒæ¡çš„æ˜¯
åˆ†æå¤š[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_3-è½¯ä»¶ç³»ç»Ÿ/2_0_2_1_2_3_1-æ“ä½œç³»ç»Ÿ/çº¿ç¨‹|çº¿ç¨‹]]è®¿é—®å…±äº«èµ„æºæ—¶ï¼Œå“ªäº›ä»£ç ç‰‡æ®µå±äº[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_3-è½¯ä»¶ç³»ç»Ÿ/2_0_2_1_2_3_1-æ“ä½œç³»ç»Ÿ/ä¸´ç•ŒåŒº|ä¸´ç•ŒåŒº]] ä½¿ç”¨ [[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/synchronized|synchronized]] äº’æ–¥è§£å†³ä¸´ç•ŒåŒºçš„çº¿ç¨‹å®‰å…¨é—®é¢˜ æŒæ¡ synchronized é”å¯¹è±¡è¯­æ³• æŒæ¡ synchronzied åŠ è½½æˆå‘˜æ–¹æ³•å’Œé™æ€æ–¹æ³•è¯­æ³• æŒæ¡ [[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/wait&amp;amp;notify|wait&amp;amp;notify]] [[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_3-è½¯ä»¶ç³»ç»Ÿ/2_0_2_1_2_3_1-æ“ä½œç³»ç»Ÿ/åŒæ­¥|åŒæ­¥]]æ–¹æ³• ä½¿ç”¨ [[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/ReentrantLock|lock]] äº’æ–¥è§£å†³ä¸´ç•ŒåŒºçš„çº¿ç¨‹å®‰å…¨é—®é¢˜ æŒæ¡ lock çš„ä½¿ç”¨ç»†èŠ‚ï¼šå¯æ‰“æ–­ã€é”è¶…æ—¶ã€å…¬å¹³é”ã€æ¡ä»¶å˜é‡ å­¦ä¼šåˆ†æ[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/å˜é‡çš„çº¿ç¨‹å®‰å…¨|å˜é‡çš„çº¿ç¨‹å®‰å…¨]]æ€§ã€æŒæ¡å¸¸è§[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/çº¿ç¨‹å®‰å…¨ç±»|çº¿ç¨‹å®‰å…¨ç±»]]çš„ä½¿ç”¨ äº†è§£çº¿ç¨‹[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/æ´»è·ƒæ€§|æ´»è·ƒæ€§]]é—®é¢˜ï¼š[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/æ­»é”|æ­»é”]]ã€[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/æ´»é”|æ´»é”]]ã€[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/é¥¥é¥¿|é¥¥é¥¿]] åº”ç”¨æ–¹é¢ äº’æ–¥ï¼šä½¿ç”¨ synchronized æˆ– Lock è¾¾åˆ°å…±äº«èµ„æºäº’æ–¥æ•ˆæœ åŒæ­¥ï¼šä½¿ç”¨ wait&amp;amp;notify æˆ– Lock çš„æ¡ä»¶å˜é‡æ¥è¾¾åˆ°çº¿ç¨‹é—´é€šä¿¡æ•ˆæœ åŸç†æ–¹é¢ [[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/monitor|monitor]]ã€synchronized ã€wait&amp;amp;notify åŸç† synchronized è¿›é˜¶åŸç† [[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/park&amp;amp;unpark|park&amp;amp;unpark]] åŸç† æ¨¡å¼æ–¹é¢ åŒæ­¥æ¨¡å¼ä¹‹[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_1-è½¯ä»¶æ–¹æ³•å­¦/è®¾è®¡æ¨¡å¼/ä¿æŠ¤æ€§æš‚åœ|ä¿æŠ¤æ€§æš‚åœ]] [[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_3-è½¯ä»¶ç³»ç»Ÿ/2_0_2_1_2_3_1-æ“ä½œç³»ç»Ÿ/å¼‚æ­¥|å¼‚æ­¥]]æ¨¡å¼ä¹‹[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_1-è½¯ä»¶æ–¹æ³•å­¦/è®¾è®¡æ¨¡å¼/ç”Ÿäº§è€…æ¶ˆè´¹è€…|ç”Ÿäº§è€…æ¶ˆè´¹è€…]] åŒæ­¥æ¨¡å¼ä¹‹[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/é¡ºåºæ§åˆ¶|é¡ºåºæ§åˆ¶]]</description></item><item><title>ç®¡é“</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E7%AE%A1%E9%81%93/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E7%AE%A1%E9%81%93/</guid><description>ç®¡é“ ç®¡é“æ˜¯æ“ä½œç³»ç»Ÿæä¾›çš„ä¸€ç§æœ€åŸºæœ¬çš„è¿›ç¨‹é—´é€šä¿¡æ–¹å¼ã€‚æ¯åˆ›å»ºä¸€ä¸ªç®¡é“ï¼Œå°±æœ‰ä¸¤ä¸ªæ–‡ä»¶æè¿°ç¬¦ï¼Œä¸€ä¸ªæ˜¯è´Ÿè´£è¯»ç®¡é“çš„ï¼Œä¸€ä¸ªæ˜¯è´Ÿè´£å†™ç®¡é“çš„ã€‚æ‰€ä»¥ï¼Œä½¿ç”¨ç®¡é“é€šä¿¡æ—¶ï¼Œå¯ä»¥çœ‹ä½œæ˜¯ä¸¤ä¸ªæ–‡ä»¶æè¿°ç¬¦åŠ ä¸€æ®µå†…æ ¸ç©ºé—´ä¸­çš„å†…å­˜ï¼Œå¦‚å›¾ã€‚
![[z-oblib/z2-attachments/Pasted image 20220803110054.png]]
ç®¡é“åªèƒ½åè°ƒæœ‰äº²ç¼˜å…³ç³»çš„è¿›ç¨‹é—´é€šä¿¡ï¼Œæ‰€è°“äº²ç¼˜ï¼Œæ¯”å¦‚çˆ¶å­è¿›ç¨‹ã€å…„å¼Ÿè¿›ç¨‹ã€‚å½“æŸè¿›ç¨‹åˆ›å»ºä¸€ä¸ªç®¡é“åï¼Œå®ƒå°±æ‹¥æœ‰äº†è¿™ä¸ªç®¡é“çš„ä¸¤ä¸ªæ–‡ä»¶æè¿°ç¬¦ï¼Œå®ƒçš„å­è¿›ç¨‹ä¼šç»§æ‰¿è¿™ä¸¤ä¸ªæ–‡ä»¶æè¿°ç¬¦ï¼Œæ‰€ä»¥å­è¿›ç¨‹ä¹Ÿèƒ½è¯»å†™è¿™ä¸ªç®¡é“ã€‚å¦‚å›¾ã€‚
![[z-oblib/z2-attachments/Pasted image 20220803110138.png]]
ä½†ä¸ºäº†è®©ç®¡é“é€šä¿¡æ›´å®‰å…¨ã€æ›´æ–¹ä¾¿ï¼Œä¸€èˆ¬ç®¡é“ä¸¤ç«¯çš„æ¯ä¸ªè¿›ç¨‹éƒ½ä¼šå„è‡ªå…³é—­ä¸€ä¸ªç®¡é“çš„æ–‡ä»¶æè¿°ç¬¦ï¼Œä¾‹å¦‚çˆ¶è¿›ç¨‹å…³é—­è¯»æè¿°ç¬¦ï¼Œè¿™æ ·çˆ¶è¿›ç¨‹åªèƒ½å‘ç®¡é“å†™æ•°æ®ï¼Œå­è¿›ç¨‹å…³é—­å†™æè¿°ç¬¦ï¼Œè¿™æ ·å­è¿›ç¨‹åªèƒ½ä»ç®¡é“è¯»æ•°æ®ã€‚æˆ–è€…ç›¸åã€‚å¦‚å›¾ã€‚
![[z-oblib/z2-attachments/Pasted image 20220803110147.png]]
Shellä¹Ÿæä¾›äº†ç®¡é“ï¼Œåªéœ€ä½¿ç”¨ä¸€æ ¹ç«–çº¿è¿æ¥ä¸¤ä¸ªå‘½ä»¤å³å¯ã€‚ä¾‹å¦‚ï¼š
1 2 3 ps -elf | grep &amp;#34;sshd&amp;#34; cat a.log | grep &amp;#34;hello world&amp;#34; åœ¨shellä¸‹ï¼Œè¿™ç§ç®¡é“ç§°ä¸ºåŒ¿åç®¡é“ï¼Œå³æ²¡æœ‰åç§°çš„ç®¡é“ã€‚å®ƒå¯¹äºç¼–å†™å‘½ä»¤è¡Œæ¥è¯´éå¸¸æ–¹ä¾¿ï¼Œä¸”é€»è¾‘æ¸…æ™°æ˜“æ‡‚ï¼Œshellè„šæœ¬å’Œshellå‘½ä»¤è¡Œå‡ ä¹é å®ƒæ‰“ä¸‹äº†åŠå£æ±Ÿå±±ã€‚
åœ¨shellä¸‹ï¼Œè¿˜æ”¯æŒä½¿ç”¨mkfifoå‘½ä»¤åˆ›å»ºå‘½åç®¡é“ï¼ˆnamed pipeï¼‰ï¼Œå³æœ‰åç§°çš„ç®¡é“ï¼Œå®ƒä¹Ÿç§°ä¸ºFIFOï¼Œå®ƒå¯ä»¥åè°ƒä»»æ„è¿›ç¨‹é—´çš„æ•°æ®é€šä¿¡ã€‚
ä¾‹å¦‚ï¼Œåˆ›å»ºå‘½åç®¡é“æ–‡ä»¶a.fifoï¼Œa.fifoå°±æ˜¯è¿™ä¸ªå‘½åç®¡é“çš„åç§°ã€‚è™½ç„¶å®ƒä»¥æ–‡ä»¶çš„æ–¹å¼å­˜åœ¨äºç£ç›˜ä¸Šï¼Œä½†å®ƒä¼ é€’æ•°æ®çš„æ–¹å¼ä¸ä¼šç»è¿‡ç£ç›˜IOï¼Œè€Œæ˜¯ç›´æ¥åœ¨å†…å­˜ä¸­ä¼ é€’ï¼Œæ‰€ä»¥é€Ÿåº¦éå¸¸å¿«ï¼Œæ–‡ä»¶åä»…ä»…åªæ˜¯è¿™ä¸ªå‘½åç®¡é“çš„åç§°è€Œå·²ï¼Œæ˜¯å¼•ç”¨è¿™ä¸ªç®¡é“çš„å…¥å£å’Œå‡ºå£ã€‚
1 2 3 $ mkfifo a.fifo $ ls -l a.fifo prw-r--r-- 1 root root 0 Apr 30 23:52 a.fifo # æ–‡ä»¶ç±»å‹ä¸ºp å‘½åç®¡é“æ˜¯é˜»å¡å¼çš„åŒå‘é€šä¿¡ç®¡é“ï¼Œä»»æ„ä¸€æ–¹éƒ½å¯ä»¥è¯»ã€å†™ï¼Œä½†æ˜¯åªæœ‰è¯»ã€å†™ç«¯åŒæ—¶æ‰“å¼€äº†å‘½åç®¡é“æ—¶ï¼Œæ•°æ®æ‰ä¼šå†™å…¥å¹¶è¢«è¯»å–ã€‚ä¾‹å¦‚ï¼Œä¸‹å›¾ä¸­æ˜¾ç¤ºäº†åœ¨æœªæ‰“å¼€è¯»ç«¯å‘½åç®¡é“çš„æ—¶å€™ï¼Œæ‰€æœ‰å†™å‘½åç®¡é“çš„æ“ä½œéƒ½è¢«é˜»å¡ã€‚æœcat a.fifoæŒ‰ä¸‹å›è½¦é”®æ‰“å¼€è¯»ç«¯å‘½åç®¡é“ï¼Œå†™å’Œè¯»æ“ä½œéƒ½å°†æ­£å¸¸æ‰§è¡Œã€‚åŒç†ï¼Œåªæ‰“å¼€è¯»ç«¯è€Œæœªæ‰“å¼€å†™ç«¯å‘½åç®¡é“æ—¶ï¼Œè¯»æ“ä½œä¹Ÿä¼šè¢«é˜»å¡ã€‚
![[z-oblib/z2-attachments/Pasted image 20220803110301.png]]</description></item><item><title>ç±»åŠ è½½å™¨</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/1-%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7/%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/1-%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7/%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8/</guid><description>ç±»åŠ è½½å™¨ ç®€ä»‹ ä¸€ä¸ªå¯ä»¥å°†Javaå­—èŠ‚ç åŠ è½½ä¸ºjava.lang.Classå®ä¾‹çš„å·¥å…·ã€‚è¿™ä¸ªè¿‡ç¨‹åŒ…æ‹¬ï¼Œè¯»å–å­—èŠ‚æ•°ç»„ã€éªŒè¯ã€è§£æã€åˆå§‹åŒ–ç­‰ã€‚å¦å¤–ï¼Œå®ƒä¹Ÿå¯ä»¥åŠ è½½èµ„æºï¼ŒåŒ…æ‹¬å›¾åƒæ–‡ä»¶å’Œé…ç½®æ–‡ä»¶ã€‚
ç‰¹ç‚¹ åŠ¨æ€åŠ è½½ï¼Œæ— éœ€åœ¨ç¨‹åºä¸€å¼€å§‹è¿è¡Œçš„æ—¶å€™åŠ è½½ï¼Œè€Œæ˜¯åœ¨ç¨‹åºè¿è¡Œçš„è¿‡ç¨‹ä¸­ï¼ŒåŠ¨æ€æŒ‰éœ€åŠ è½½ï¼Œå­—èŠ‚ç çš„æ¥æºä¹Ÿå¾ˆå¤šï¼Œå‹ç¼©åŒ…jarã€warä¸­ï¼Œç½‘ç»œä¸­ï¼Œæœ¬åœ°æ–‡ä»¶ç­‰ã€‚ç±»åŠ è½½å™¨åŠ¨æ€åŠ è½½çš„ç‰¹ç‚¹ä¸ºçƒ­éƒ¨ç½²ï¼Œçƒ­åŠ è½½åšäº†æœ‰åŠ›æ”¯æŒã€‚ å…¨ç›˜è´Ÿè´£ï¼Œå½“ä¸€ä¸ªç±»åŠ è½½å™¨åŠ è½½ä¸€ä¸ªç±»æ—¶ï¼Œè¿™ä¸ªç±»æ‰€ä¾èµ–çš„ã€å¼•ç”¨çš„å…¶ä»–æ‰€æœ‰ç±»éƒ½ç”±è¿™ä¸ªç±»åŠ è½½å™¨åŠ è½½ï¼Œé™¤éåœ¨ç¨‹åºä¸­æ˜¾å¼åœ°æŒ‡å®šå¦å¤–ä¸€ä¸ªç±»åŠ è½½å™¨åŠ è½½ã€‚æ‰€ä»¥ç ´ååŒäº²å§”æ´¾ä¸èƒ½ç ´åæ‰©å±•ç±»åŠ è½½å™¨ä»¥ä¸Šçš„é¡ºåºã€‚ ä¸ºä½•éœ€è¦å¤šä¸ªç±»åŠ è½½å™¨ æ€è€ƒä»¥ä¸‹æƒ…æ™¯ï¼š
é¦–å…ˆï¼Œæ˜¯ä¸ºäº†åŒºåˆ†åŒåçš„ç±»ï¼šå‡å®šå­˜åœ¨ä¸€ä¸ªåº”ç”¨æœåŠ¡å™¨ï¼Œä¸Šé¢éƒ¨ç½²ç€è®¸å¤šç‹¬ç«‹çš„åº”ç”¨ï¼ŒåŒæ—¶ä»–ä»¬æ‹¥æœ‰è®¸å¤šåŒåå´ä¸åŒç‰ˆæœ¬çš„ç±»åº“ã€‚è¯•æƒ³ï¼Œè¿™æ—¶å€™ jvm è¯¥æ€ä¹ˆåŠ è½½è¿™äº›ç±»åŒæ—¶èƒ½å°½å¯èƒ½çš„é¿å…æ‰ç±»åŠ è½½æ—¶å¯¹åŒåç±»çš„å·®å¼‚æ£€æµ‹å‘¢ï¼Ÿå½“ç„¶æ˜¯ä¸åŒçš„åº”ç”¨éƒ½æ‹¥æœ‰è‡ªå·±ç‹¬ç«‹çš„ç±»åŠ è½½å™¨äº†ã€‚ å…¶æ¬¡ï¼Œæ˜¯ä¸ºäº†æ›´æ–¹ä¾¿çš„åŠ å¼ºç±»çš„èƒ½åŠ›ï¼šç±»åŠ è½½å™¨å¯ä»¥åœ¨ load class æ—¶å¯¹ class è¿›è¡Œé‡å†™å’Œè¦†ç›–ï¼Œåœ¨æ­¤æœŸé—´å°±å¯ä»¥å¯¹ç±»è¿›è¡ŒåŠŸèƒ½æ€§çš„å¢å¼ºã€‚æ¯”å¦‚æ·»åŠ é¢å‘åˆ‡é¢ç¼–ç¨‹æ—¶ç”¨åˆ°çš„åŠ¨æ€ä»£ç†ï¼Œä»¥åŠ debug ç­‰åŸç†ã€‚æ€ä¹ˆæ ·è¾¾åˆ°ä»…ä¿®æ”¹ä¸€ä¸ªç±»åº“è€Œä¸å¯¹å…¶ä»–ç±»åº“äº§ç”Ÿå½±å“çš„æ•ˆæœå‘¢ï¼Ÿä¸€ä¸ªæ¯”è¾ƒæ–¹ä¾¿çš„æ¨¡å¼å°±æ˜¯æ¯ä¸ªç±»åº“éƒ½å¯ä»¥ä½¿ç”¨ç‹¬ç«‹çš„ç±»åŠ è½½å™¨ ä¸€ä¸ªç±»çš„å”¯ä¸€æ€§ç”±åŠ è½½å®ƒçš„ç±»åŠ è½½å™¨å’Œè¿™ä¸ªç±»çš„æœ¬èº«å†³å®šï¼ˆç±»çš„å…¨é™å®šå+ç±»åŠ è½½å™¨çš„å®ä¾‹IDä½œä¸ºå”¯ä¸€æ ‡è¯†ï¼‰ã€‚æ¯”è¾ƒä¸¤ä¸ªç±»æ˜¯å¦ç›¸ç­‰ï¼ˆåŒ…æ‹¬Classå¯¹è±¡çš„equals()ã€isAssignableFrom()ã€isInstance()ä»¥åŠinstanceofå…³é”®å­—ç­‰ï¼‰ï¼Œåªæœ‰åœ¨è¿™ä¸¤ä¸ªç±»æ˜¯ç”±åŒä¸€ä¸ªç±»åŠ è½½å™¨åŠ è½½çš„å‰æä¸‹æ‰æœ‰æ„ä¹‰ï¼Œå¦åˆ™ï¼Œå³ä½¿è¿™ä¸¤ä¸ªç±»æ¥æºäºåŒä¸€ä¸ªClassæ–‡ä»¶ï¼Œè¢«åŒä¸€ä¸ªè™šæ‹ŸæœºåŠ è½½ï¼Œåªè¦åŠ è½½å®ƒä»¬çš„ç±»åŠ è½½å™¨ä¸åŒï¼Œè¿™ä¸¤ä¸ªç±»å°±å¿…å®šä¸ç›¸ç­‰ã€‚
jvm éœ€è¦æœ‰ä¸åŒçš„ç±»åŠ è½½å™¨ï¼Œå› ä¸ºå®ƒä¸€æ–¹é¢å…è®¸ä½ åœ¨ä¸€ä¸ª jvm é‡Œè¿è¡Œä¸åŒçš„åº”ç”¨ç¨‹åºï¼Œå¦ä¸€æ–¹é¢æ–¹ä¾¿ä½ ç‹¬ç«‹çš„å¯¹ä¸åŒç±»åº“è¿›è¡Œè¿è¡Œæ—¶å¢å¼ºã€‚
åˆ†ç±» ä»å®ç°æ–¹å¼ä¸Šï¼Œç±»åŠ è½½å™¨å¯ä»¥åˆ†ä¸ºä¸¤ç§ï¼šä¸€ç§æ˜¯å¯åŠ¨ç±»åŠ è½½å™¨ï¼Œç”±C++è¯­è¨€å®ç°ï¼Œæ˜¯è™šæ‹Ÿæœºè‡ªèº«çš„ä¸€éƒ¨åˆ†ï¼›å¦ä¸€ç§æ˜¯ç»§æ‰¿äºjava.lang.ClassLoaderçš„ç±»åŠ è½½å™¨ï¼ŒåŒ…æ‹¬æ‰©å±•ç±»åŠ è½½å™¨ã€åº”ç”¨ç¨‹åºç±»åŠ è½½å™¨ä»¥åŠè‡ªå®šä¹‰ç±»åŠ è½½å™¨ã€‚
å¯åŠ¨ç±»åŠ è½½å™¨ ï¼ˆBootstrap ClassLoaderï¼‰ï¼šè´Ÿè´£åŠ è½½&amp;lt;JAVA_HOME&amp;gt;\libç›®å½•ä¸­çš„ï¼Œæˆ–è€…è¢«-Xbootclasspathå‚æ•°æ‰€æŒ‡å®šçš„è·¯å¾„ï¼Œå¹¶ä¸”æ˜¯è™šæ‹Ÿæœºè¯†åˆ«çš„ï¼ˆä»…æŒ‰ç…§æ–‡ä»¶åè¯†åˆ«ï¼Œå¦‚rt.jarï¼Œåå­—ä¸ç¬¦åˆçš„ç±»åº“å³ä½¿æ”¾åœ¨libç›®å½•ä¸­ä¹Ÿä¸ä¼šè¢«åŠ è½½ï¼‰ç±»åº“åŠ è½½åˆ°è™šæ‹Ÿæœºå†…å­˜ä¸­ã€‚å¯åŠ¨ç±»åŠ è½½å™¨æ— æ³•è¢«Javaç¨‹åºç›´æ¥å¼•ç”¨ï¼Œç”¨æˆ·åœ¨ç¼–å†™è‡ªå®šä¹‰ç±»åŠ è½½å™¨æ—¶ï¼Œå¦‚æœæƒ³è®¾ç½®Bootstrap ClassLoaderä¸ºå…¶parentï¼Œå¯ç›´æ¥è®¾ç½®nullã€‚
æ‰©å±•ç±»åŠ è½½å™¨ ï¼ˆExtension ClassLoaderï¼‰ï¼šè´Ÿè´£åŠ è½½&amp;lt;JAVA_HOME&amp;gt;\lib\extç›®å½•ä¸­çš„ï¼Œæˆ–è€…è¢«java.ext.dirsç³»ç»Ÿå˜é‡æ‰€æŒ‡å®šè·¯å¾„ä¸­çš„æ‰€æœ‰ç±»åº“ã€‚è¯¥ç±»åŠ è½½å™¨ç”±sun.misc.Launcher$ExtClassLoaderå®ç°ã€‚æ‰©å±•ç±»åŠ è½½å™¨ç”±å¯åŠ¨ç±»åŠ è½½å™¨åŠ è½½ï¼Œå…¶çˆ¶ç±»åŠ è½½å™¨ä¸ºå¯åŠ¨ç±»åŠ è½½å™¨ï¼Œå³parent=nullã€‚
åº”ç”¨ç¨‹åºç±»åŠ è½½å™¨ ï¼ˆApplication ClassLoaderï¼‰ï¼šè´Ÿè´£åŠ è½½ç”¨æˆ·ç±»è·¯å¾„ï¼ˆClassPathï¼‰ä¸Šæ‰€æŒ‡å®šçš„ç±»åº“ï¼Œç”±sun.misc.Launcher$App-ClassLoaderå®ç°ã€‚å¼€å‘è€…å¯ç›´æ¥é€šè¿‡java.lang.ClassLoaderä¸­çš„getSystemClassLoader()æ–¹æ³•è·å–åº”ç”¨ç¨‹åºç±»åŠ è½½å™¨ï¼Œæ‰€ä»¥ä¹Ÿå¯ç§°å®ƒä¸ºç³»ç»Ÿç±»åŠ è½½å™¨ã€‚åº”ç”¨ç¨‹åºç±»åŠ è½½å™¨ä¹Ÿæ˜¯å¯åŠ¨ç±»åŠ è½½å™¨åŠ è½½çš„ï¼Œä½†æ˜¯å®ƒçš„çˆ¶ç±»åŠ è½½å™¨æ˜¯æ‰©å±•ç±»åŠ è½½å™¨ã€‚åœ¨ä¸€ä¸ªåº”ç”¨ç¨‹åºä¸­ï¼Œç³»ç»Ÿç±»åŠ è½½å™¨ä¸€èˆ¬æ˜¯é»˜è®¤ç±»åŠ è½½å™¨ã€‚</description></item><item><title>ç´¢å¼•</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_2-%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F/%E7%B4%A2%E5%BC%95/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_2-%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F/%E7%B4%A2%E5%BC%95/</guid><description>ç´¢å¼•</description></item><item><title>çº¿ç¨‹</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E7%BA%BF%E7%A8%8B/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E7%BA%BF%E7%A8%8B/</guid><description>çº¿ç¨‹ çº¿ç¨‹æ˜¯è¿›ç¨‹ä¸­çš„å­ä»»åŠ¡ï¼ŒåŒä¸€ä¸ªè¿›ç¨‹çš„çº¿ç¨‹ä¹‹é—´å…±äº«è¿›ç¨‹å æœ‰çš„å†…å­˜ç©ºé—´å’ŒI/Oã€‚</description></item><item><title>çº¿ç¨‹å®‰å…¨ç±»</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8%E7%B1%BB/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8%E7%B1%BB/</guid><description>çº¿ç¨‹å®‰å…¨ç±» è‡ªå·±å®ç°ç±»çš„æ—¶å€™ç»´æŠ¤[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/å˜é‡çš„çº¿ç¨‹å®‰å…¨|å˜é‡çš„çº¿ç¨‹å®‰å…¨]]æ¯”è¾ƒç¹çï¼Œjavaå°±ç»™æˆ‘ä»¬æä¾›äº†ä¸€äº›çº¿ç¨‹å®‰å…¨çš„ç±»ã€‚
å¸¸è§çº¿ç¨‹å®‰å…¨ç±» String Integer StringBuï¬€er Random Vector Hashtable java.util.concurrent åŒ…ä¸‹çš„ç±» çº¿ç¨‹å®‰å…¨åœºæ™¯ä¸¾ä¾‹ï¼š
1 2 3 4 5 6 7 8 9 Hashtable table = new Hashtable(); new Thread(()-&amp;gt;{ table.put(&amp;#34;key&amp;#34;, &amp;#34;value1&amp;#34;); }).start(); new Thread(()-&amp;gt;{ table.put(&amp;#34;key&amp;#34;, &amp;#34;value2&amp;#34;); }).start(); çº¿ç¨‹å®‰å…¨ç±»æ–¹æ³•çš„ç»„åˆ è¿™äº›ç±»çº¿ç¨‹å®‰å…¨çš„æ˜¯æŒ‡ï¼Œå¤šä¸ªçº¿ç¨‹è°ƒç”¨å®ƒä»¬åŒä¸€ä¸ªå®ä¾‹çš„æŸä¸ªæ–¹æ³•æ—¶ï¼Œæ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚ä¹Ÿå¯ä»¥ç†è§£ä¸ºï¼š
å®ƒä»¬çš„æ¯ä¸ªæ–¹æ³•æ˜¯åŸå­çš„ ä½†æ³¨æ„å®ƒä»¬å¤šä¸ªæ–¹æ³•çš„ç»„åˆä¸æ˜¯åŸå­çš„ 1 2 3 4 5 Hashtable table = new Hashtable(); // çº¿ç¨‹1ï¼Œçº¿ç¨‹2 if( table.get(&amp;#34;key&amp;#34;) == null) { // ä¸­é—´ä¼šæ”¶åˆ°çº¿ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢çš„å½±å“ table.put(&amp;#34;key&amp;#34;, value); } !</description></item><item><title>çº¿ç¨‹å®‰å…¨é›†åˆç±»æ¦‚è¿°</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8%E9%9B%86%E5%90%88%E7%B1%BB%E6%A6%82%E8%BF%B0/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8%E9%9B%86%E5%90%88%E7%B1%BB%E6%A6%82%E8%BF%B0/</guid><description>çº¿ç¨‹å®‰å…¨é›†åˆç±»æ¦‚è¿° ![[z-oblib/z2-attachments/Pasted image 20220612211057.png]]</description></item><item><title>çº¿ç¨‹æ± </title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E7%BA%BF%E7%A8%8B%E6%B1%A0/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E7%BA%BF%E7%A8%8B%E6%B1%A0/</guid><description>çº¿ç¨‹æ±  ä½¿ç”¨çº¿ç¨‹æ± çš„åŸå›  åˆ›å»º/é”€æ¯[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_3-è½¯ä»¶ç³»ç»Ÿ/2_0_2_1_2_3_1-æ“ä½œç³»ç»Ÿ/çº¿ç¨‹|çº¿ç¨‹]]éœ€è¦æ¶ˆè€—ç³»ç»Ÿèµ„æºï¼Œçº¿ç¨‹æ± å¯ä»¥å¤ç”¨å·²åˆ›å»ºçš„çº¿ç¨‹ã€‚ æ§åˆ¶å¹¶å‘çš„æ•°é‡ã€‚å¹¶å‘æ•°é‡è¿‡å¤šï¼Œå¯èƒ½ä¼šå¯¼è‡´èµ„æºæ¶ˆè€—è¿‡å¤šï¼Œä»è€Œé€ æˆæœåŠ¡å™¨å´©æºƒã€‚ï¼ˆä¸»è¦åŸå› ï¼‰ å¯ä»¥å¯¹çº¿ç¨‹åšç»Ÿä¸€ç®¡ç† åŸç† Javaä¸­çš„çº¿ç¨‹æ± é¡¶å±‚æ¥å£æ˜¯Executoræ¥å£ï¼ŒThreadPoolExecutoræ˜¯è¿™ä¸ªæ¥å£çš„å®ç°ç±»ã€‚
ThreadPoolExecutor æ„é€ æ–¹æ³• å››ä¸ªæ„é€ æ–¹æ³•ï¼š
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 // äº”ä¸ªå‚æ•°çš„æ„é€ å‡½æ•° public ThreadPoolExecutor(int corePoolSize, int maximumPoolSize, long keepAliveTime, TimeUnit unit, BlockingQueue&amp;lt;Runnable&amp;gt; workQueue) // å…­ä¸ªå‚æ•°çš„æ„é€ å‡½æ•°-1 public ThreadPoolExecutor(int corePoolSize, int maximumPoolSize, long keepAliveTime, TimeUnit unit, BlockingQueue&amp;lt;Runnable&amp;gt; workQueue, ThreadFactory threadFactory) // å…­ä¸ªå‚æ•°çš„æ„é€ å‡½æ•°-2 public ThreadPoolExecutor(int corePoolSize, int maximumPoolSize, long keepAliveTime, TimeUnit unit, BlockingQueue&amp;lt;Runnable&amp;gt; workQueue, RejectedExecutionHandler handler) // ä¸ƒä¸ªå‚æ•°çš„æ„é€ å‡½æ•° public ThreadPoolExecutor(int corePoolSize, int maximumPoolSize, long keepAliveTime, TimeUnit unit, BlockingQueue&amp;lt;Runnable&amp;gt; workQueue, ThreadFactory threadFactory, RejectedExecutionHandler handler) 5~7ä¸ªå‚æ•°ï¼Œå…¶ä¸­5ä¸ªä¸ºå¿…é¡»ï¼š ^22da28</description></item><item><title>çº¿ç¨‹çŠ¶æ€</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E7%BA%BF%E7%A8%8B%E7%8A%B6%E6%80%81/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E7%BA%BF%E7%A8%8B%E7%8A%B6%E6%80%81/</guid><description>çº¿ç¨‹çŠ¶æ€ æ“ä½œç³»ç»Ÿå±‚é¢æœ‰5ç§çŠ¶æ€ï¼š
![[z-oblib/z2-attachments/Pasted image 20220526173846.png]]
ã€åˆå§‹çŠ¶æ€ã€‘ä»…æ˜¯åœ¨è¯­è¨€å±‚é¢åˆ›å»ºäº†çº¿ç¨‹å¯¹è±¡ï¼Œè¿˜æœªä¸æ“ä½œç³»ç»Ÿçº¿ç¨‹å…³è”ã€‚ ã€å¯è¿è¡ŒçŠ¶æ€ã€‘ï¼ˆå°±ç»ªçŠ¶æ€ï¼‰æŒ‡è¯¥çº¿ç¨‹å·²ç»è¢«åˆ›å»ºï¼ˆä¸æ“ä½œç³»ç»Ÿçº¿ç¨‹å…³è”ï¼‰ï¼Œå¯ä»¥ç”± CPU è°ƒåº¦æ‰§è¡Œã€‚ ã€è¿è¡ŒçŠ¶æ€ã€‘æŒ‡è·å–äº† CPU æ—¶é—´ç‰‡è¿è¡Œä¸­çš„çŠ¶æ€ã€‚ å½“ CPU æ—¶é—´ç‰‡ç”¨å®Œï¼Œä¼šä»ã€è¿è¡ŒçŠ¶æ€ã€‘è½¬æ¢è‡³ã€å¯è¿è¡ŒçŠ¶æ€ã€‘ï¼Œä¼šå¯¼è‡´çº¿ç¨‹çš„ä¸Šä¸‹æ–‡åˆ‡æ¢ ã€é˜»å¡çŠ¶æ€ã€‘ã€‚ å¦‚æœè°ƒç”¨äº†é˜»å¡ APIï¼Œå¦‚ BIO è¯»å†™æ–‡ä»¶ï¼Œè¿™æ—¶è¯¥çº¿ç¨‹å®é™…ä¸ä¼šç”¨åˆ° CPUï¼Œä¼šå¯¼è‡´çº¿ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œè¿›å…¥ã€é˜»å¡çŠ¶æ€ã€‘ã€‚ ç­‰ BIO æ“ä½œå®Œæ¯•ï¼Œä¼šç”±æ“ä½œç³»ç»Ÿå”¤é†’é˜»å¡çš„çº¿ç¨‹ï¼Œè½¬æ¢è‡³ã€å¯è¿è¡ŒçŠ¶æ€ã€‘ã€‚ ä¸ã€å¯è¿è¡ŒçŠ¶æ€ã€‘çš„åŒºåˆ«æ˜¯ï¼Œå¯¹ã€é˜»å¡çŠ¶æ€ã€‘çš„çº¿ç¨‹æ¥è¯´åªè¦å®ƒä»¬ä¸€ç›´ä¸å”¤é†’ï¼Œè°ƒåº¦å™¨å°±ä¸€ç›´ä¸ä¼šè€ƒè™‘è°ƒåº¦å®ƒä»¬ã€‚ ã€ç»ˆæ­¢çŠ¶æ€ã€‘è¡¨ç¤ºçº¿ç¨‹å·²ç»æ‰§è¡Œå®Œæ¯•ï¼Œç”Ÿå‘½å‘¨æœŸå·²ç»ç»“æŸï¼Œä¸ä¼šå†è½¬æ¢ä¸ºå…¶å®ƒçŠ¶æ€</description></item><item><title>çº¿ç¨‹é€šè®¯</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E7%BA%BF%E7%A8%8B%E9%80%9A%E8%AE%AF/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E7%BA%BF%E7%A8%8B%E9%80%9A%E8%AE%AF/</guid><description>çº¿ç¨‹é€šè®¯ æ–¹æ³• ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—</description></item><item><title>ç»„åˆä¼˜äºç»§æ‰¿</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/1-%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7/%E7%BB%84%E5%90%88%E4%BC%98%E4%BA%8E%E7%BB%A7%E6%89%BF/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/1-%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7/%E7%BB%84%E5%90%88%E4%BC%98%E4%BA%8E%E7%BB%A7%E6%89%BF/</guid><description>ç»„åˆä¼˜äºç»§æ‰¿ Program to an interface, not an implementation. (é¢å‘æ¥å£ç¼–ç¨‹ï¼Œè€Œä¸æ˜¯å…·ä½“çš„å®ç°)
Favor object composition over class inheritance.ï¼ˆå¦‚æœæŸä¸ªåœºæ™¯çš„ä»£ç å¤ç”¨æ—¢å¯ä»¥é€šè¿‡ç±»ç»§æ‰¿å®ç°ï¼Œ ä¹Ÿå¯ä»¥é€šè¿‡å¯¹è±¡ç»„åˆå®ç°ï¼Œ å°½é‡é€‰æ‹©å¯¹è±¡ç»„åˆçš„è®¾è®¡æ–¹å¼ï¼‰
ç¬¬ä¸€ä¸ªåŸåˆ™çš„å¥½å¤„éå¸¸æ˜æ˜¾ï¼š å¯ä»¥æå¤§ç¨‹åº¦åœ°å‡å°‘å­ç³»ç»Ÿå…·ä½“å®ç°ä¹‹é—´çš„ç›¸äº’ä¾èµ–ã€‚
ç¬¬äºŒä¸ªåŸåˆ™åˆ™ä¸é‚£ä¹ˆå®¹æ˜“ç†è§£ï¼Œ ä¸‹é¢å±•å¼€å™è¿° ã€‚
ç»„åˆå’Œç»§æ‰¿çš„åŒºåˆ« ç»„åˆ ç»§æ‰¿ has-a is-a ä¸ç ´åå°è£… ç ´åå°è£…ï¼Œå­ç±»ä¾èµ–çˆ¶ç±» æ”¯æŒæ‰©å±•ï¼Œéšæ„å¢åŠ ç»„åˆç±» åªèƒ½ç»§æ‰¿ä¸€ä¸ªçˆ¶ç±»ï¼Œå¿…é¡»åŒ…å«æ‰€æœ‰æ–¹æ³•ï¼Œå¢åŠ ç³»ç»Ÿå¤æ‚æ€§ é€šè¿‡ç»§æ‰¿å®ç°çš„ä»£ç å¤ç”¨å¸¸å¸¸æ˜¯ä¸€ç§â€œç™½ç›’å¤ç”¨â€ï¼Œ è¿™é‡Œçš„ç™½ç›’æŒ‡çš„æ˜¯å¯è§æ€§ï¼š å¯¹äºç»§æ‰¿æ¥è¯´ï¼Œçˆ¶ç±»çš„å†…éƒ¨å®ç°å¯¹äºå­ç±»æ¥è¯´æ˜¯ä¸é€æ˜çš„ï¼ˆå®ç°ä¸€ä¸ªå­ç±»æ—¶ï¼Œ ä½ éœ€è¦äº†è§£çˆ¶ç±»çš„å®ç°ç»†èŠ‚ï¼Œ ä»¥æ­¤å†³å®šæ˜¯å¦éœ€è¦é‡å†™æŸä¸ªæ–¹æ³•ï¼‰ã€‚ å¯¹è±¡ç»„åˆå®ç°çš„ä»£ç å¤ç”¨åˆ™æ˜¯ä¸€ç§â€œé»‘ç›’å¤ç”¨â€: å¯¹è±¡çš„å†…éƒ¨ç»†èŠ‚ä¸å¯è§ï¼Œå¯¹è±¡ä»…ä»…æ˜¯ä»¥â€œé»‘ç›’â€çš„æ–¹å¼å‡ºç°ï¼ˆå¯ä»¥é€šè¿‡æ”¹å˜å¯¹è±¡å¼•ç”¨æ¥æ”¹å˜å…¶è¡Œä¸ºæ–¹å¼ï¼‰ã€‚ åˆ¤æ–­æ˜¯ç»§æ‰¿è¿˜æ˜¯ç»„åˆ æ‰€ä»¥ä¸éš¾å‘ç°ï¼Œ å½“æˆ‘ä»¬æ‹¿ç±»ç»§æ‰¿å’Œç»„åˆåœ¨ä¸€èµ·è¿›è¡Œå¯¹æ¯”æ—¶ï¼Œ å¹¶ä¸æ˜¯ä»¥å®ç°æ–¹å¼ä¸­æ˜¯å¦æœ‰ç”¨åˆ°ç±»ç»§æ‰¿è€ŒåŒºåˆ†çš„ã€‚
æˆ‘ä»¬çœŸæ­£å…³æ³¨çš„æ˜¯è¡Œä¸ºçš„ç»§æ‰¿ä¸è¡Œä¸ºçš„ç»„åˆ ï¼šéœ€è¦å˜åŒ–çš„è¡Œä¸ºæ˜¯é€šè¿‡ ç»§æ‰¿åé‡å†™çš„æ–¹å¼ å®ç°ï¼Œ è¿˜æ˜¯é€šè¿‡ èµ‹äºˆä¸åŒçš„è¡Œä¸ºå®ä¾‹ å®ç°ã€‚</description></item><item><title>ç»§æ‰¿</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_1-%E8%BD%AF%E4%BB%B6%E6%96%B9%E6%B3%95%E5%AD%A6/%E7%BC%96%E7%A8%8B%E6%80%9D%E6%83%B3/%E7%BB%A7%E6%89%BF/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_1-%E8%BD%AF%E4%BB%B6%E6%96%B9%E6%B3%95%E5%AD%A6/%E7%BC%96%E7%A8%8B%E6%80%9D%E6%83%B3/%E7%BB%A7%E6%89%BF/</guid><description>ç»§æ‰¿ B ç»§æ‰¿è‡ª Aï¼Œåˆ™ B èƒ½è·å¾— A çš„å±æ€§ï¼Œå¹¶æ¥ç®¡æ“ä½œã€‚
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 // Java program to illustrate // Inheritance class RealPrinter { // base class implements method void print() { System.out.println(&amp;#34;Printing Data&amp;#34;); } } 3 // Printer Inheriting functionality of real printer class Printer extends RealPrinter { void print() { super.</description></item><item><title>ç»§æ‰¿å’Œå§”æ´¾çš„é€‰æ‹©</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_1-%E8%BD%AF%E4%BB%B6%E6%96%B9%E6%B3%95%E5%AD%A6/%E7%BC%96%E7%A8%8B%E6%80%9D%E6%83%B3/%E7%BB%A7%E6%89%BF%E5%92%8C%E5%A7%94%E6%B4%BE%E7%9A%84%E9%80%89%E6%8B%A9/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_1-%E8%BD%AF%E4%BB%B6%E6%96%B9%E6%B3%95%E5%AD%A6/%E7%BC%96%E7%A8%8B%E6%80%9D%E6%83%B3/%E7%BB%A7%E6%89%BF%E5%92%8C%E5%A7%94%E6%B4%BE%E7%9A%84%E9%80%89%E6%8B%A9/</guid><description>ç»§æ‰¿å’Œå§”æ´¾çš„é€‰æ‹© æƒ³è¦è¡¨è¾¾ is-a å…³ç³»ï¼Œä½¿ç”¨[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_1-è½¯ä»¶æ–¹æ³•å­¦/ç¼–ç¨‹æ€æƒ³/ç»§æ‰¿|ç»§æ‰¿]]ã€‚ æƒ³è¦å°†ç±»ä¼ é€’ç»™å·²æœ‰çš„APIï¼Œä½¿ç”¨ç»§æ‰¿ã€‚ æƒ³è¦å¢å¼ºAï¼Œä½†Aä¸èƒ½å†è¢«[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_1-è½¯ä»¶æ–¹æ³•å­¦/ç¼–ç¨‹æ€æƒ³/ç»§æ‰¿|ç»§æ‰¿]]ï¼Œä½¿ç”¨[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_1-è½¯ä»¶æ–¹æ³•å­¦/ç¼–ç¨‹æ€æƒ³/å§”æ´¾|å§”æ´¾]]ã€‚ æƒ³è¦æŸæ–¹æ³•å¹¶ä¸”ä¸æƒ³è¦†ç›–è¯¥æ–¹æ³•ï¼Œä½¿ç”¨[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_1-è½¯ä»¶æ–¹æ³•å­¦/ç¼–ç¨‹æ€æƒ³/å§”æ´¾|å§”æ´¾]]ã€‚</description></item><item><title>ç¼“å­˜æ›´æ–°ç­–ç•¥</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E7%BC%93%E5%AD%98%E6%9B%B4%E6%96%B0%E7%AD%96%E7%95%A5/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E7%BC%93%E5%AD%98%E6%9B%B4%E6%96%B0%E7%AD%96%E7%95%A5/</guid><description>ç¼“å­˜æ›´æ–°ç­–ç•¥ å…ˆæ¸…ç¼“å­˜ æ¸…ç¼“å­˜&amp;ndash;æ›´æ–°æ•°æ®åº“ä¹‹é—´ï¼Œå…¶å®ƒçº¿ç¨‹è¯»å–äº†æ•°æ®åº“ä¸­çš„æ—§æ•°æ®ï¼Œå¹¶å†™å…¥ç¼“å­˜ï¼Œå¯¼è‡´5ä¸­ç¼“å­˜é•¿æ—¶é—´è¢«æ±¡æŸ“ã€‚
![[z-oblib/z2-attachments/Pasted image 20220610172505.png]]
å…ˆæ›´æ–°æ•°æ®åº“ æ›´æ–°æ•°æ®åº“&amp;ndash;æ¸…ç©ºç¼“å­˜ä¹‹é—´ï¼Œå…¶å®ƒçº¿ç¨‹å¯èƒ½è¯»å–åˆ°ç¼“å­˜ä¸­çš„æ—§æ•°æ®ï¼Œ2ä¸­å­˜åœ¨ä¸€å®šçš„çª—å£æœŸã€‚
![[z-oblib/z2-attachments/Pasted image 20220610172620.png]]
ç‰¹æ®Šæƒ…å†µ å‡è®¾æŸ¥è¯¢çº¿ç¨‹ A æŸ¥è¯¢æ•°æ®æ—¶æ°å¥½ç¼“å­˜æ•°æ®ç”±äºæ—¶é—´åˆ°æœŸå¤±æ•ˆï¼Œæˆ–æ˜¯ç¬¬ä¸€æ¬¡æŸ¥è¯¢ï¼Œè¿™ç§æƒ…å†µçš„å‡ºç°å‡ ç‡éå¸¸å°ï¼Œè§ facebook è®ºæ–‡ï¼š
![[z-oblib/z2-attachments/Pasted image 20220610173806.png]]</description></item><item><title>è”åˆæŸ¥è¯¢</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_2-%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F/%E8%81%94%E5%90%88%E6%9F%A5%E8%AF%A2/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_2-%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F/%E8%81%94%E5%90%88%E6%9F%A5%E8%AF%A2/</guid><description>è”åˆæŸ¥è¯¢ è”åˆç´¢å¼•å°±æ˜¯å¤åˆç´¢å¼•ã€ç»„åˆç´¢å¼•ã€å¤šåˆ—ç´¢å¼•ã€‚
è”åˆæŸ¥è¯¢æ˜¯åœ¨[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_3-è½¯ä»¶ç³»ç»Ÿ/2_0_2_1_2_3_2-æ•°æ®åº“ç³»ç»Ÿ/ç´¢å¼•|ç´¢å¼•]]çš„åŸºç¡€ä¸Šï¼Œä¸€ä¸ªèŠ‚ç‚¹å‹ç¼©æ”¾å…¥å¤šä¸ªåˆ—ã€‚ç±»ä¼¼ä¸€ä¸ªå¤šæ¡ä»¶è”åˆçš„ifè¯­å¥
![[z-oblib/z2-attachments/3f7c0b118d08445d9a66131124ec2276.png]]
1 if (name==Bill &amp;amp;&amp;amp; age==30 &amp;amp;&amp;amp; role==dev) é‡å¤å€¼è¶Šå°‘çš„è¶Šæ”¾å‰é¢ï¼Œæ¯”å¦‚ä¸€ä¸ªåˆ— 95%çš„å€¼éƒ½ä¸é‡å¤ï¼Œé‚£ä¹ˆä¸€èˆ¬å¯ä»¥å°†è¿™ä¸ªåˆ—æ”¾æœ€å‰é¢ã€‚å¦å¤–ï¼Œå¤åˆç´¢å¼•çš„å­—æ®µæ•°å°½é‡ä¸è¦è¶…è¿‡ 3ä¸ªï¼Œä¸€æ—¦è¶…è¿‡ï¼Œè¦æ…é‡è€ƒè™‘å¿…è¦æ€§ã€‚</description></item><item><title>è‡ªå®šä¹‰çº¿ç¨‹æ± </title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E8%87%AA%E5%AE%9A%E4%B9%89%E7%BA%BF%E7%A8%8B%E6%B1%A0/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E8%87%AA%E5%AE%9A%E4%B9%89%E7%BA%BF%E7%A8%8B%E6%B1%A0/</guid><description>è‡ªå®šä¹‰çº¿ç¨‹æ±  ![[z-oblib/z2-attachments/Pasted image 20220607213829.png]]
æ‹’ç»ç­–ç•¥æ¥å£ ç­–ç•¥æ¨¡å¼ï¼š å…·ä½“æ“ä½œæŠ½è±¡æˆæ¥å£ï¼Œå…·ä½“å®ç°ç”±è°ƒç”¨è€…ä¼ é€’è¿›æ¥ã€‚
1 2 3 4 5 // æ‹’ç»ç­–ç•¥ @FunctionalInterface interface RejectPolicy&amp;lt;T&amp;gt; { void reject(BlockingQueue&amp;lt;T&amp;gt; queue, T task); } å‚æ•°è¦åŒ…å«queueï¼Œæ¥å†³å®šæ˜¯å¦è¦åœ¨queueä¸Šç­‰å¾…ï¼Œä¾‹å¦‚queue.put(task)
ä»»åŠ¡é˜Ÿåˆ— 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 class BlockingQueue&amp;lt;T&amp;gt; { // 1.</description></item><item><title>è‡ªæ—‹</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E8%87%AA%E6%97%8B/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E8%87%AA%E6%97%8B/</guid><description>è‡ªæ—‹ ä¸æ–­å°è¯•å»è·å–é”ï¼Œä¸€èˆ¬ç”¨å¾ªç¯æ¥å®ç°ã€‚
è‡ªæ—‹æ˜¯éœ€è¦æ¶ˆè€—CPUçš„ï¼Œå¦‚æœä¸€ç›´è·å–ä¸åˆ°é”çš„è¯ï¼Œé‚£è¯¥çº¿ç¨‹å°±ä¸€ç›´å¤„åœ¨è‡ªæ—‹çŠ¶æ€ï¼Œç™½ç™½æµªè´¹CPUèµ„æºã€‚ ^f17d9d</description></item><item><title>è‡ªæ—‹ä¼˜åŒ–</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E8%87%AA%E6%97%8B%E4%BC%98%E5%8C%96/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E8%87%AA%E6%97%8B%E4%BC%98%E5%8C%96/</guid><description>è‡ªæ—‹ä¼˜åŒ– è‡ªæ—‹ä¼˜åŒ–ä¼šå› ä¸ºå¾ªç¯æ¶ˆè€—CPUèµ„æºã€‚ java6åè‡ªæ—‹é”æ˜¯è‡ªé€‚åº”çš„ï¼ŒæˆåŠŸçš„å¤šå°è¯•æ¬¡æ•°å°±å¤šã€‚ java7åä¸èƒ½æ§åˆ¶æ˜¯å¦å¼€å¯è‡ªæ—‹ã€‚ è‡ªæ—‹æˆåŠŸ ![[z-oblib/z2-attachments/Pasted image 20220527214938.png]]
è‡ªæ—‹å¤±è´¥ ![[z-oblib/z2-attachments/Pasted image 20220527214953.png]]</description></item><item><title>è£…é¥°å™¨æ¨¡å¼</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_1-%E8%BD%AF%E4%BB%B6%E6%96%B9%E6%B3%95%E5%AD%A6/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E8%A3%85%E9%A5%B0%E5%99%A8%E6%A8%A1%E5%BC%8F/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_1-%E8%BD%AF%E4%BB%B6%E6%96%B9%E6%B3%95%E5%AD%A6/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E8%A3%85%E9%A5%B0%E5%99%A8%E6%A8%A1%E5%BC%8F/</guid><description>è£…é¥°å™¨æ¨¡å¼ å¯¹ç°æœ‰ç±»ä¸æ”¹åŠ¨ç»“æ„çš„æƒ…å†µä¸‹ä¸ºç±»æ·»åŠ æ–°èŒè´£å’ŒåŠŸèƒ½çš„æ¨¡å¼ã€‚
ä½¿ç”¨åœºæ™¯ éœ€è¦å¤§é‡çš„å­ç±»ä¸ºæŸä¸€ä¸ªå¯¹è±¡è¿›è¡ŒèŒè´£å¢å¼ºçš„æ—¶å€™ï¼Œå¯ä»¥ä½¿ç”¨è£…é¥°å™¨æ¨¡å¼ å¸Œæœ›ä½¿ç”¨ç»§æ‰¿å¯¹äºç±»è¿›è¡ŒåŠ¨æ€æ‰©å±•çš„æ—¶å€™ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨è£…é¥°å™¨æ¨¡å¼ åŠ¨æœº ä¸€èˆ¬æœ‰ä¸¤ç§æ–¹å¼å¯ä»¥å®ç°ç»™ä¸€ä¸ªç±»æˆ–å¯¹è±¡å¢åŠ è¡Œä¸ºï¼š
ç»§æ‰¿æœºåˆ¶ï¼Œä½¿ç”¨ç»§æ‰¿æœºåˆ¶æ˜¯ç»™ç°æœ‰ç±»æ·»åŠ åŠŸèƒ½çš„ä¸€ç§æœ‰æ•ˆé€”å¾„ï¼Œé€šè¿‡ç»§æ‰¿ä¸€ä¸ªç°æœ‰ç±»å¯ä»¥ä½¿å¾—å­ç±»åœ¨æ‹¥æœ‰è‡ªèº«æ–¹æ³•çš„åŒæ—¶è¿˜æ‹¥æœ‰çˆ¶ç±»çš„æ–¹æ³•ã€‚ä½†æ˜¯è¿™ç§æ–¹æ³•æ˜¯é™æ€çš„ï¼Œç”¨æˆ·ä¸èƒ½æ§åˆ¶å¢åŠ è¡Œä¸ºçš„æ–¹å¼å’Œæ—¶æœºã€‚ å…³è”æœºåˆ¶ï¼Œå³å°†ä¸€ä¸ªç±»çš„å¯¹è±¡åµŒå…¥å¦ä¸€ä¸ªå¯¹è±¡ä¸­ï¼Œç”±å¦ä¸€ä¸ªå¯¹è±¡æ¥å†³å®šæ˜¯å¦è°ƒç”¨åµŒå…¥å¯¹è±¡çš„è¡Œä¸ºä»¥ä¾¿æ‰©å±•è‡ªå·±çš„è¡Œä¸ºï¼Œæˆ‘ä»¬ç§°è¿™ä¸ªåµŒå…¥çš„å¯¹è±¡ä¸ºè£…é¥°å™¨(Decorator) è£…é¥°æ¨¡å¼ä»¥å¯¹å®¢æˆ·é€æ˜çš„æ–¹å¼åŠ¨æ€åœ°ç»™ä¸€ä¸ªå¯¹è±¡é™„åŠ ä¸Šæ›´å¤šçš„è´£ä»»ï¼Œæ¢è¨€ä¹‹ï¼Œå®¢æˆ·ç«¯å¹¶ä¸ä¼šè§‰å¾—å¯¹è±¡åœ¨è£…é¥°å‰å’Œè£…é¥°åæœ‰ä»€ä¹ˆä¸åŒã€‚è£…é¥°æ¨¡å¼å¯ä»¥åœ¨ä¸éœ€è¦åˆ›é€ æ›´å¤šå­ç±»çš„æƒ…å†µä¸‹ï¼Œå°†å¯¹è±¡çš„åŠŸèƒ½åŠ ä»¥æ‰©å±•ã€‚
è§’è‰² Componentï¼šæŠ½è±¡ç»„ä»¶ï¼Œè£…é¥°è€…å’Œè¢«è£…é¥°è€…å…±åŒçš„çˆ¶ç±»ï¼Œæ˜¯ä¸€ä¸ªæ¥å£æˆ–è€…æŠ½è±¡ç±»ï¼Œç”¨æ¥å®šä¹‰åŸºæœ¬è¡Œä¸ºï¼Œå¯ä»¥ç»™è¿™äº›å¯¹è±¡åŠ¨æ€æ·»åŠ èŒè´£ ConcreteComponentï¼šå…·ä½“çš„ç»„ä»¶å¯¹è±¡ï¼Œå®ç°ç±» ï¼Œå³è¢«è£…é¥°è€…ï¼Œé€šå¸¸å°±æ˜¯è¢«è£…é¥°å™¨è£…é¥°çš„åŸå§‹å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯å¯ä»¥ç»™è¿™ä¸ªå¯¹è±¡æ·»åŠ èŒè´£ Decoratorï¼šæ‰€æœ‰è£…é¥°å™¨çš„æŠ½è±¡çˆ¶ç±»ï¼Œä¸€èˆ¬æ˜¯æŠ½è±¡ç±»ï¼Œå®ç°æ¥å£ï¼›å®ƒçš„å±æ€§å¿…ç„¶æœ‰ä¸ªæŒ‡å‘ Conponent æŠ½è±¡ç»„ä»¶çš„å¯¹è±¡ ï¼Œå…¶å®å°±æ˜¯æŒæœ‰ä¸€ä¸ªè¢«è£…é¥°çš„å¯¹è±¡ ConcreteDecoratorï¼šå…·ä½“çš„è£…é¥°å¯¹è±¡ï¼Œå®ç°å…·ä½“è¦è¢«è£…é¥°å¯¹è±¡æ·»åŠ çš„åŠŸèƒ½ã€‚æ¯ä¸€ä¸ªå…·ä½“è£…é¥°ç±»éƒ½å®šä¹‰äº†ä¸€äº›æ–°çš„è¡Œä¸ºï¼Œå®ƒå¯ä»¥è°ƒç”¨åœ¨æŠ½è±¡è£…é¥°ç±»ä¸­å®šä¹‰çš„æ–¹æ³•ï¼Œå¹¶å¯ä»¥å¢åŠ æ–°çš„æ–¹æ³•ç”¨ä»¥æ‰©å……å¯¹è±¡çš„è¡Œä¸ºã€‚ ![[z-oblib/z2-attachments/3ec6aa3545c9b5ab14fac788a400a4e9.webp]]
è£…é¥°è€…å’Œè¢«è£…é¥°è€…å¯¹è±¡æœ‰ç›¸åŒçš„çˆ¶ç±»ï¼Œå› ä¸ºè£…é¥°è€…å’Œè¢«è£…é¥°è€…å¿…é¡»æ˜¯ä¸€æ ·çš„ç±»å‹ï¼Œè¿™é‡Œåˆ©ç”¨ç»§æ‰¿æ˜¯ä¸ºäº†è¾¾åˆ°ç±»å‹åŒ¹é…ï¼Œè€Œä¸æ˜¯åˆ©ç”¨ç»§æ‰¿è·å¾—è¡Œä¸ºã€‚
åˆ©ç”¨ç»§æ‰¿è®¾è®¡å­ç±»ï¼Œåªèƒ½åœ¨ç¼–è¯‘æ—¶é™æ€å†³å®šï¼Œå¹¶ä¸”æ‰€æœ‰å­ç±»éƒ½ä¼šç»§æ‰¿ç›¸åŒçš„è¡Œä¸ºï¼›åˆ©ç”¨ç»„åˆçš„åšæ³•æ‰©å±•å¯¹è±¡ï¼Œå°±å¯ä»¥åœ¨è¿è¡Œæ—¶åŠ¨æ€çš„è¿›è¡Œæ‰©å±•ã€‚è£…é¥°è€…æ¨¡å¼éµå¾ªå¼€æ”¾-å…³é—­åŸåˆ™ï¼šç±»åº”è¯¥å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­ã€‚åˆ©ç”¨è£…é¥°è€…ï¼Œæˆ‘ä»¬å¯ä»¥å®ç°æ–°çš„è£…é¥°è€…å¢åŠ æ–°çš„è¡Œä¸ºè€Œä¸ç”¨ä¿®æ”¹ç°æœ‰ä»£ç ï¼Œè€Œå¦‚æœå•çº¯ä¾èµ–ç»§æ‰¿ï¼Œæ¯å½“éœ€è¦æ–°è¡Œä¸ºæ—¶ï¼Œè¿˜å¾—ä¿®æ”¹ç°æœ‰çš„ä»£ç ã€‚
å®ä¾‹ å–ç…é¥¼ï¼š
![[z-oblib/z2-attachments/Pasted image 20220610170159.png]]
æŠ½è±¡ç»„ä»¶ 1 2 3 4 5 6 7 8 9 10 11 12 13 public abstract class Pancake { String description = &amp;#34;æ™®é€šç…é¥¼&amp;#34;; public String getDescription(){ return description; } public abstract double cost(); } å…·ä½“ç»„ä»¶ å®šä¹‰å…·ä½“çš„è¢«è£…é¥°è€…ï¼Œè¿™é‡Œæ˜¯ç…é¥¼æœå­ï¼Œå½“ç„¶è¿˜å¯ä»¥æœ‰é¸¡è›‹çŒé¥¼ã€æ‰‹æŠ“é¥¼ç­‰å…¶ä»–è¢«è£…é¥°è€…ï¼š</description></item><item><title>è®¿é—®æ§åˆ¶ç¬¦</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/0-%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6%E7%AC%A6/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/0-%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80/%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6%E7%AC%A6/</guid><description>è®¿é—®æ§åˆ¶ç¬¦ ![[z-oblib/z2-attachments/v2-315cda6274202d57b75be7641eba442f_1440w.png]]
public å¯ä»¥è¢«æ‰€æœ‰å…¶å®ƒç±»è®¿é—®ã€‚ private åªèƒ½è¢«è‡ªå·±è®¿é—®ã€‚ protected åªèƒ½è¢«è‡ªèº«ã€å­ç±»ã€åŒå±ä¸€ä¸ªåŒ…çš„å…¶ä»–ç±»è®¿é—®ã€‚ åœ¨åŒä¸€ä¸ªåŒ…ç›¸å½“äºpublicã€‚ default é»˜è®¤ä¿®é¥°ç¬¦ï¼ˆfriendlyï¼‰ã€‚ åªèƒ½è¢«è‡ªèº«ã€åŒå±ä¸€ä¸ªåŒ…çš„å…¶ä»–ç±»è®¿é—®ã€‚</description></item><item><title>è°ƒè¯•æŠ€å·§</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/%E7%BC%96%E7%A0%81%E6%8A%80%E5%B7%A7/%E8%B0%83%E8%AF%95%E6%8A%80%E5%B7%A7/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/%E7%BC%96%E7%A0%81%E6%8A%80%E5%B7%A7/%E8%B0%83%E8%AF%95%E6%8A%80%E5%B7%A7/</guid><description>è°ƒè¯•æŠ€å·§ æ‰¾æŸä¸ªå€¼çš„é»˜è®¤å‚æ•° æ¨ç†æŸä¸ªå˜é‡å€¼åœ¨å“ªä¸ªæ–¹æ³•é‡Œç”¨åˆ° mavenä¸­ä¸‹è½½å¯¹åº”åŒ…çš„source å…¨å±€æœç´¢è¯¥æ–¹æ³• find usagesæ‰¾åˆ°æ–¹æ³•è°ƒç”¨å¤„ æ‰¾åˆ°ä¸Šå±‚æ–¹æ³•ä¸­å¯¹åº”è¯¥è¯¥å˜é‡çš„å‚æ•° é€çº§å¾€ä¸Šå¯»æ‰¾ï¼Œé‡åˆ°æ¥å£è·³è½¬åˆ°å¯¹åº”æ¨¡å—ä¸‹çš„å®ç° æ‰¾åˆ°æœ€ç»ˆçš„æºå¤´ æ€»ç»“ å·§ç”¨find usagesï¼Œæ‰¾åˆ°è°ƒç”¨å¤„ã€‚ é€‰ä¸­å˜é‡ï¼Œåœ¨å³ä¾§æ»šåŠ¨æ¡ä¸­ä¼šç”¨ç²‰çº¢è‰²æ ‡é¢˜èµ‹å€¼ä½ç½®ã€‚
åˆ©ç”¨debugå †æ ˆå›æº¯</description></item><item><title>è·³è¡¨</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_0_2_1-%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E8%B7%B3%E8%A1%A8/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_0_2_1-%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E8%B7%B3%E8%A1%A8/</guid><description>è·³è¡¨ https://www.jianshu.com/p/9d8296562806
é’ˆå¯¹é¡ºåºè¡¨ï¼Œä»¥æŸä¸€æ¦‚ç‡åœ¨å½“å‰æœ€ä¸Šå±‚é€‰ç‚¹æ„å»ºæ–°çš„ä¸€å±‚ï¼Œä»¥æ­¤æ„å»ºå¤šå±‚ç´¢å¼•ï¼Œç”±ä¸Šå¾€ä¸‹é€å±‚å¢åŠ ç¨ å¯†åº¦ã€‚
![[z-oblib/z2-attachments/19063731-70b00aafa9f5b793.webp]] ![[z-oblib/z2-attachments/19063731-4f4535e6d0959c32.webp]] ![[z-oblib/z2-attachments/19063731-3852cc36af701f46.webp]]
ç´¢å¼•é«˜åº¦ å‡è®¾åŸå§‹é“¾è¡¨æœ‰nä¸ªå…ƒç´ ï¼Œä»¥æ¯ä¸¤ä¸ªèŠ‚ç‚¹æŠ½å‡ºä¸€ä¸ªèŠ‚ç‚¹ä¸ºä¾‹ï¼Œå³æŸä¸ªç‚¹æœ‰1/2çš„æ¦‚ç‡è¢«é€‰ä¸­ï¼š
1çº§ç´¢å¼•èŠ‚ç‚¹æ•°ï¼šn/2 2çº§ç´¢å¼•èŠ‚ç‚¹æ•°ï¼šn/4 kçº§ç´¢å¼•èŠ‚ç‚¹æ•°ï¼š$n/2^k$ æ­¤ä¾‹ä¸­è·³è¡¨ç´¢å¼•é«˜åº¦ä¸ºï¼š$h = log_2{n} - 1$ï¼Œ-1æ˜¯å› ä¸ºæœ€ä¸Šå±‚ä¸ä¼šæœ‰èŠ‚ç‚¹ä¸ªæ•°ä¸º1çš„å±‚ï¼Œæ‰€ä»¥å‡æ‰1ã€‚ å› æ­¤åŸå§‹é“¾è¡¨æœ‰nä¸ªå…ƒç´ ï¼Œå„çº§è·³è¡¨çš„é€‰å–æ¦‚ç‡ä¸ºpï¼Œåˆ™ç¬¬kå±‚çš„èŠ‚ç‚¹æ•° $m_k = m_{k-1} \times 1/p$ï¼Œç´¢å¼•çš„é«˜åº¦ä¸º$h = log_{1/p}{n} - 1$ã€‚
æŸ¥æ‰¾æ—¶é—´å¤æ‚åº¦ æ—¶é—´å¤æ‚åº¦ = ç´¢å¼•çš„é«˜åº¦ * ç›¸é‚»ç´¢å¼•é—´åŒ…å«çš„ä¸‹å±‚ç´¢å¼•ä¸ªæ•°ï¼ˆå‡å€¼ï¼‰ã€‚
![[z-oblib/z2-attachments/19063731-5ec10e6ae2c32587.webp]]
å›¾ä¸­æ‰€ç¤ºï¼Œç°åœ¨åˆ°è¾¾ç¬¬ k çº§ç´¢å¼•ï¼Œæˆ‘ä»¬å‘ç°è¦æŸ¥æ‰¾çš„å…ƒç´  x æ¯” y å¤§æ¯” z å°ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬éœ€è¦ä» y å¤„ä¸‹é™åˆ° k-1 çº§ç´¢å¼•ç»§ç»­æŸ¥æ‰¾ï¼Œk-1çº§ç´¢å¼•ä¸­æ¯” y å¤§æ¯” z å°çš„åªæœ‰ä¸€ä¸ª wï¼Œæ‰€ä»¥åœ¨ k-1 çº§ç´¢å¼•ä¸­ï¼Œæˆ‘ä»¬éå†çš„å…ƒç´ æœ€å¤šå°±æ˜¯ yã€wã€zï¼Œå‘ç° x æ¯” wå¤§æ¯” z å°ä¹‹åï¼Œå†ä¸‹é™åˆ° k-2 çº§ç´¢å¼•ã€‚æ‰€ä»¥ï¼Œk-2 çº§ç´¢å¼•æœ€å¤šéå†çš„å…ƒç´ ä¸º wã€uã€zã€‚å…¶å®æ¯çº§ç´¢å¼•éƒ½æ˜¯ç±»ä¼¼çš„é“ç†ï¼Œæ¯çº§ç´¢å¼•ä¸­éƒ½æ˜¯ä¸¤ä¸ªç»“ç‚¹æŠ½å‡ºä¸€ä¸ªç»“ç‚¹ä½œä¸ºä¸Šä¸€çº§ç´¢å¼•çš„ç»“ç‚¹ã€‚ ç°åœ¨æˆ‘ä»¬å¾—å‡ºç»“è®ºï¼šå½“æ¯çº§ç´¢å¼•éƒ½æ˜¯ä¸¤ä¸ªç»“ç‚¹æŠ½å‡ºä¸€ä¸ªç»“ç‚¹ä½œä¸ºä¸Šä¸€çº§ç´¢å¼•çš„ç»“ç‚¹æ—¶ï¼Œæ¯ä¸€å±‚æœ€å¤šéå†3ä¸ªç»“ç‚¹ã€‚
å¯çŸ¥å„çº§ç´¢å¼•ä¸ªæ•°å’Œé€‰å–çš„æ¦‚ç‡ç›¸å…³ï¼Œä¸ªæ•°$q = 1/p + 1$ï¼Œ+1æ˜¯å› ä¸ºä¸Šå±‚ç´¢å¼•è¿›å…¥ä¸‹å±‚ç´¢å¼•æ—¶ï¼Œä¼šé‡å¤è®¿é—®ä¸€æ¬¡ï¼ˆä¾‹å­ä¸­çš„wï¼‰ã€‚</description></item><item><title>è½»é‡çº§é”</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E8%BD%BB%E9%87%8F%E7%BA%A7%E9%94%81/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E8%BD%BB%E9%87%8F%E7%BA%A7%E9%94%81/</guid><description>è½»é‡çº§é” ä½¿ç”¨æ–¹å¼ è½»é‡çº§é”ä»»ç„¶ä½¿ç”¨[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/synchronized|synchronized]]è¯­æ³•ï¼Œå®ç°å¯¹ä½¿ç”¨è€…é€æ˜ã€‚
ä½¿ç”¨åœºæ™¯ å¦‚æœä¸€ä¸ªå¯¹è±¡è™½ç„¶æœ‰å¤šçº¿ç¨‹è¦åŠ é”ï¼Œä½†åŠ é”çš„æ—¶é—´æ˜¯é”™å¼€çš„ï¼ˆä¹Ÿå°±æ˜¯æ²¡æœ‰ç«äº‰ï¼‰ï¼Œé‚£ä¹ˆå¯ä»¥ ä½¿ç”¨è½»é‡çº§é”æ¥ä¼˜åŒ–ã€‚
æµç¨‹ ç¤ºä¾‹ä»£ç ï¼š
1 2 3 4 5 6 7 8 9 10 11 12 static final Object obj = new Object(); public static void method1() { synchronized( obj ) { // åŒæ­¥å— A method2(); } } public static void method2() { synchronized( obj ) { // åŒæ­¥å— B } } è·å–é” æ¯ä¸ª[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_3-è½¯ä»¶ç³»ç»Ÿ/2_0_2_1_2_3_1-æ“ä½œç³»ç»Ÿ/çº¿ç¨‹|çº¿ç¨‹]]éƒ½çš„æ ˆå¸§éƒ½ä¼šåŒ…å«ä¸€ä¸ªé”è®°å½•ï¼ˆLock Recordï¼‰çš„ç»“æ„ï¼Œå†…éƒ¨å¯ä»¥å­˜å‚¨é”å®šå¯¹è±¡çš„ [[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/1-é«˜çº§ç‰¹æ€§/Mark Word|Mark Word]]ï¼Œç”¨äºå­˜å‚¨é”å¯¹è±¡ç›®å‰çš„Mark Wordçš„æ‹·è´ã€‚</description></item><item><title>è¿è¡Œæ—¶åŠ¨æ€é“¾æ¥</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux/%E8%BF%90%E8%A1%8C%E6%97%B6%E5%8A%A8%E6%80%81%E9%93%BE%E6%8E%A5/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux/%E8%BF%90%E8%A1%8C%E6%97%B6%E5%8A%A8%E6%80%81%E9%93%BE%E6%8E%A5/</guid><description>è¿è¡Œæ—¶åŠ¨æ€é“¾æ¥ PLTä¸GOTå…³ç³» PLTPLTè¡¨ä¸­çš„æ•°æ®å°±æ˜¯GOTGOTè¡¨ä¸­çš„ä¸€ä¸ªåœ°å€ï¼Œå¯ä»¥ç†è§£ä¸ºä¸€å®šæ˜¯ä¸€ä¸€å¯¹åº”çš„ï¼š PLTPLTè¡¨ä¸­çš„æ¯ä¸€é¡¹çš„æ•°æ®å†…å®¹éƒ½æ˜¯å¯¹åº”çš„GOTGOTè¡¨ä¸­ä¸€é¡¹çš„åœ°å€è¿™ä¸ªæ˜¯å›ºå®šä¸å˜çš„ã€‚
![[z-oblib/z2-attachments/Pasted image 20220908214812.png]]
æµç¨‹ (35æ¡æ¶ˆæ¯) PWNåŸºç¡€15ï¼šGOTè¡¨ å’Œ PLTè¡¨_prettyXçš„åšå®¢-CSDNåšå®¢_æŸ¥çœ‹gotè¡¨
ç¨‹åºåŠ è½½ è§¦å‘é‡å®šå‘ ä¿®æ”¹GOTè¡¨[0]ï¼Œå‘å…¶å¡«å……PLTè¡¨é¦–åœ°å€ï¼Œç”¨äºè§¦å‘æŸ¥æ‰¾ ä¿®æ”¹GOTè¡¨[2]ï¼Œå‘å…¶å¡«å……è¿æ¥å™¨æŸ¥æ‰¾å‡½æ•°åœ°å€ï¼Œç”¨äºæŸ¥æ‰¾ç›®æ ‡å‡½æ•°çœŸå®åœ°å€ é¦–æ¬¡è°ƒç”¨ç›®æ ‡åŠ¨æ€è¿æ¥å‡½æ•°ï¼Œå‡è®¾ç›®æ ‡å‡½æ•°æ ‡å·ä¸ºnï¼š PLTè·³è½¬åˆ°GOT[n] GOT[n]åˆå§‹å¡«å……çš„æ˜¯PLT[n]åä¸€æ¡åœ°å€ï¼Œæ¥ç€ä¸¤æ¡æŒ‡ä»¤ï¼š push ç¼–å·n è·³è½¬åˆ°PLT[0] PLT[0] åŒ…å«ä¸¤æ¡æŒ‡ä»¤ï¼š push GOT[1] &amp;ndash; å¡«å……çš„æ˜¯[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_3-è½¯ä»¶ç³»ç»Ÿ/2_0_2_1_2_3_1-æ“ä½œç³»ç»Ÿ/linux/è¿è¡Œæ—¶åŠ¨æ€é“¾æ¥#link_map|link_map]]çš„åœ°å€ è·³è½¬åˆ°GOT[2]å†…å¡«å……çš„åœ°å€ç©ºé—´ &amp;ndash; é“¾æ¥å™¨ æ­¤æ—¶ä¸€å…±pushäº†2ä¸ªå‚æ•°ï¼Œä¸€ä¸ªç›®æ ‡å‡½æ•°IDï¼Œä¸€ä¸ªlink_mapåœ°å€ï¼Œæ­£å¥½æ˜¯_dl_runtime_resolveçš„ä¸¤ä¸ªå‚æ•°ã€‚ _dl_runtime_resolve æ‰¾åˆ°åŠ¨æ€é“¾æ¥å‡½æ•°çœŸå®åœ°å€ï¼Œå›å¡«åˆ°GOT[n]ã€‚ _dl_runtime_resolve - ç®€ä¹¦ (jianshu.com)
link_map GOT[1]ï¼šä¸€ä¸ªæŒ‡å‘å†…éƒ¨æ•°æ®ç»“æ„çš„æŒ‡é’ˆï¼Œç±»å‹æ˜¯ link_mapï¼Œåœ¨åŠ¨æ€è£…è½½å™¨ï¼ˆ[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_3-è½¯ä»¶ç³»ç»Ÿ/2_0_2_1_2_3_1-æ“ä½œç³»ç»Ÿ/linux/_dl_runtime_resolve|_dl_runtime_resolve()]]ï¼‰å†…éƒ¨ä½¿ç”¨ï¼ŒåŒ…å«äº†è¿›è¡Œ[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_3-è½¯ä»¶ç³»ç»Ÿ/2_0_2_1_2_3_1-æ“ä½œç³»ç»Ÿ/linux/ç¬¦å·è§£æ|ç¬¦å·è§£æ]]éœ€è¦çš„å½“å‰ ELF å¯¹è±¡çš„ä¿¡æ¯ã€‚
2æ¬¡è°ƒç”¨å¯¹æ¯” ![[z-oblib/z2-attachments/Pasted image 20220908214703.png]]
![[z-oblib/z2-attachments/Pasted image 20220908214706.png]]</description></item><item><title>è¿›ç¨‹</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E8%BF%9B%E7%A8%8B/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E8%BF%9B%E7%A8%8B/</guid><description>è¿›ç¨‹ è¿›ç¨‹ç›¸å½“äºä¸€ä¸ªå·¥å‚ï¼Œä»£è¡¨ä¸€ä¸ªç¨‹åºã€‚</description></item><item><title>è¿›ç¨‹ä¸çº¿ç¨‹çš„åŒºåˆ«</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E8%BF%9B%E7%A8%8B%E4%B8%8E%E7%BA%BF%E7%A8%8B%E7%9A%84%E5%8C%BA%E5%88%AB/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E8%BF%9B%E7%A8%8B%E4%B8%8E%E7%BA%BF%E7%A8%8B%E7%9A%84%E5%8C%BA%E5%88%AB/</guid><description>è¿›ç¨‹ä¸çº¿ç¨‹çš„åŒºåˆ« [[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_3-è½¯ä»¶ç³»ç»Ÿ/2_0_2_1_2_3_1-æ“ä½œç³»ç»Ÿ/è¿›ç¨‹|è¿›ç¨‹]]åŸºæœ¬ä¸Šç›¸äº’ç‹¬ç«‹çš„ï¼Œç›¸äº’ä¹‹é—´ç‹¬å å†…å­˜åœ°å€ç©ºé—´å’Œç³»ç»Ÿèµ„æºï¼ˆI/Oç­‰ï¼‰ï¼›è€Œ[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_3-è½¯ä»¶ç³»ç»Ÿ/2_0_2_1_2_3_1-æ“ä½œç³»ç»Ÿ/çº¿ç¨‹|çº¿ç¨‹]]å­˜åœ¨äºè¿›ç¨‹å†…ï¼Œæ˜¯è¿›ç¨‹çš„ä¸€ä¸ªå­é›†ã€‚ è¿›ç¨‹æ‹¥æœ‰å…±äº«çš„èµ„æºï¼Œå¦‚å†…å­˜ç©ºé—´ç­‰ï¼Œä¾›å…¶å†…éƒ¨çš„çº¿ç¨‹å…±äº«ã€‚ è¿›ç¨‹é—´é€šä¿¡è¾ƒä¸ºå¤æ‚ã€‚ åŒä¸€å°è®¡ç®—æœºçš„è¿›ç¨‹é€šä¿¡ç§°ä¸º IPCï¼ˆInter-process communicationï¼‰ã€‚ ä¸åŒè®¡ç®—æœºä¹‹é—´çš„è¿›ç¨‹é€šä¿¡ï¼Œéœ€è¦é€šè¿‡ç½‘ç»œï¼Œå¹¶éµå®ˆå…±åŒçš„åè®®ï¼Œä¾‹å¦‚ HTTPã€‚ çº¿ç¨‹é€šä¿¡ç›¸å¯¹ç®€å•ï¼Œå› ä¸ºå®ƒä»¬å…±äº«è¿›ç¨‹å†…çš„å†…å­˜ï¼Œä¸€ä¸ªä¾‹å­æ˜¯å¤šä¸ªçº¿ç¨‹å¯ä»¥è®¿é—®åŒä¸€ä¸ªå…±äº«å˜é‡ã€‚ è¿›ç¨‹ç®¡ç†å¼€é”€æ›´å¤§ï¼Œè¿›ç¨‹çš„åˆ›å»ºå’Œé”€æ¯ä¸ä»…éœ€è¦ä¿å­˜å¯„å­˜å™¨å’Œæ ˆä¿¡æ¯ï¼Œè¿˜éœ€è¦èµ„æºçš„åˆ†é…å›æ”¶ä»¥åŠé¡µè°ƒåº¦ã€‚ çº¿ç¨‹æ›´è½»é‡ï¼Œçº¿ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢æˆæœ¬ä¸€èˆ¬ä¸Šè¦æ¯”è¿›ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢ä½ï¼Œçº¿ç¨‹åªéœ€è¦ä¿å­˜å¯„å­˜å™¨å’Œæ ˆä¿¡æ¯ã€‚ ä¸åŒå¹³å°å’Œè¯­è¨€ä¸‹çš„åŒºåˆ« Java ä¸­ï¼Œçº¿ç¨‹ä½œä¸ºæœ€å°è°ƒåº¦å•ä½ï¼Œè¿›ç¨‹ä½œä¸ºèµ„æºåˆ†é…çš„æœ€å°å•ä½ã€‚ åœ¨ windows ä¸­è¿›ç¨‹æ˜¯ä¸æ´»åŠ¨çš„ï¼Œåªæ˜¯ä½œä¸ºçº¿ç¨‹çš„å®¹å™¨ã€‚</description></item><item><title>è¿›ç¨‹é—´é€šè®¯</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E8%BF%9B%E7%A8%8B%E9%97%B4%E9%80%9A%E8%AE%AF/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E8%BF%9B%E7%A8%8B%E9%97%B4%E9%80%9A%E8%AE%AF/</guid><description>è¿›ç¨‹é—´é€šè®¯ å•æœºæ“ä½œç³»ç»Ÿä¸Šçš„[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_3-è½¯ä»¶ç³»ç»Ÿ/2_0_2_1_2_3_1-æ“ä½œç³»ç»Ÿ/è¿›ç¨‹|è¿›ç¨‹]]å¯ä»¥åˆ†ä¸ºä¸¤ç±»ï¼š
ç‹¬ç«‹è¿›ç¨‹ï¼šè¿™ç±»è¿›ç¨‹ä¸ä¼šå’Œå…¶å®ƒè¿›ç¨‹æœ‰ä»»ä½•äº¤[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_3-è½¯ä»¶ç³»ç»Ÿ/2_0_2_1_2_3_1-æ“ä½œç³»ç»Ÿ/æµ|æµ]]ã€‚ åä½œè¿›ç¨‹ï¼šä¸¤ä¸ªæˆ–å¤šä¸ªè¿›ç¨‹ä¹‹é—´éœ€è¦äº¤æµã€‚ ä¾‹å¦‚ï¼Œls /tmpå‘½ä»¤æ˜¯ç‹¬ç«‹è¿è¡Œçš„ï¼Œä¸ä¾èµ–äºå…¶å®ƒè¿›ç¨‹ï¼Œè€Œcat a.log | grep 'abc'å‘½ä»¤ä¸­çš„ä¸¤ä¸ªè¿›ç¨‹æ˜¯åä½œè¿›ç¨‹ï¼Œgrepè¿›ç¨‹ä¾èµ–äºcatè¿›ç¨‹ï¼Œgrepåªæœ‰ç­‰å¾…åˆ°äº†catè¿›ç¨‹äº§ç”Ÿçš„æ•°æ®æ‰èƒ½ç»§ç»­æ‰§è¡Œä¸‹å»ã€‚
å¯¹äºå•æœºä¸Šä¸åŒè¿›ç¨‹ä¹‹é—´çš„åä½œï¼Œå„è¿›ç¨‹ä¹‹é—´éœ€è¦è¿›è¡Œæ•°æ®çš„äº¤æµï¼Œè¿™ç§è¡Œä¸ºç§°ä¸ºè¿›ç¨‹é—´é€šä¿¡ï¼ˆInter-process communicationï¼ŒIPCï¼‰ï¼Œå³è¿›ç¨‹ä¸è¿›ç¨‹çš„é€šä¿¡ã€‚
é™¤äº†å•æœºä¸Šçš„å¤šä¸ªè¿›ç¨‹å¯èƒ½éœ€è¦è¿›ç¨‹é—´é€šä¿¡ï¼Œå¤šè®¡ç®—æœºä¹‹é—´çš„è¿›ç¨‹æœ‰æ—¶å€™ä¹Ÿéœ€è¦è¿›è¡Œè¿›ç¨‹é—´çš„é€šä¿¡ï¼Œè¿™å¾ˆå¸¸è§ï¼Œä¾‹å¦‚æœ¬æœºä¸Šçš„QQå®¢æˆ·ç«¯è¿›ç¨‹éœ€è¦å’Œè…¾è®¯çš„QQæœåŠ¡å™¨ä¸Šçš„è¿›ç¨‹è¿›è¡Œæ•°æ®ä¼ è¾“ï¼Œæµè§ˆå™¨æµè§ˆç½‘é¡µæ—¶ï¼Œæµè§ˆå™¨è¿›ç¨‹éœ€è¦å’Œç½‘é¡µæ‰€åœ¨çš„æœåŠ¡ç«¯è¿›ç¨‹è¿›è¡Œæ•°æ®ä¼ è¾“ï¼Œç­‰ç­‰ã€‚
è¿›ç¨‹é—´é€šä¿¡çš„æ–¹å¼æœ‰å¾ˆå¤šç§ã€‚ä»å¹¿ä¹‰ä¸Šè®²ï¼Œåªè¦è¿›ç¨‹é—´èƒ½å…±äº«æ•°æ®æˆ–ä¼ é€’æ•°æ®å°±ç®—æ˜¯è¿›ç¨‹é—´é€šä¿¡ã€‚ä¸‹é¢åˆ—å‡ºå¸¸è§çš„è¿›ç¨‹é—´é€šä¿¡æ–¹å¼ï¼š
è¿›ç¨‹é—´é€šä¿¡æ–¹å¼ æè¿° æ–‡ä»¶ï¼ˆFileï¼‰ å¤šä¸ªè¿›ç¨‹å¯ä»¥è·å–åˆ°åŒä¸€ä¸ªæ–‡ä»¶çš„æ•°æ® [[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_3-è½¯ä»¶ç³»ç»Ÿ/2_0_2_1_2_3_1-æ“ä½œç³»ç»Ÿ/ç®¡é“ | ç®¡é“]]ï¼ˆpipeï¼‰ å•æ–¹å‘ä¼ è¾“æ•°æ®çš„ç®¡é“ï¼Œåªèƒ½ä¸€æ–¹å†™ï¼Œå¦ä¸€æ–¹è¯» [[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_3-è½¯ä»¶ç³»ç»Ÿ/2_0_2_1_2_3_1-æ“ä½œç³»ç»Ÿ/å¥—æ¥å­—|å¥—æ¥å­—]]ï¼ˆSocketï¼‰ å¤šæœºè¿›ç¨‹é—´é€šä¿¡ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥åœ¨æœ¬æœºè®©ä¸¤ä¸ªè¿›ç¨‹ä½¿ç”¨socketé€šä¿¡ [[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_3-è½¯ä»¶ç³»ç»Ÿ/2_0_2_1_2_3_1-æ“ä½œç³»ç»Ÿ/UnixåŸŸå¥—æ¥å­—|UnixåŸŸå¥—æ¥å­—]]ï¼ˆUnix Domain Socketï¼‰ å•æœºè¿›ç¨‹é—´é€šè¿‡åŸŸå¥—æ¥å­—æ¨¡å¼é€šä¿¡ï¼Œå¯çœ‹ä½œæ˜¯åŒå‘ç®¡é“ [[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_3-è½¯ä»¶ç³»ç»Ÿ/2_0_2_1_2_3_1-æ“ä½œç³»ç»Ÿ/å…±äº«å†…å­˜|å…±äº«å†…å­˜]]ï¼ˆShared Memoryï¼Œshmï¼‰ åœ¨ç‰©ç†å†…å­˜ä¸Šåˆ’åˆ†ä¸€ç‰‡å†…å­˜ï¼Œå¤šä¸ªè¿›ç¨‹å…±äº«è¿™ç‰‡å†…å­˜ [[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_3-è½¯ä»¶ç³»ç»Ÿ/2_0_2_1_2_3_1-æ“ä½œç³»ç»Ÿ/æ–‡ä»¶æ˜ å°„|æ–‡ä»¶æ˜ å°„]]ï¼ˆMemory-maped fileï¼‰ å°†æ–‡ä»¶ä¸­çš„ä¸€æ®µæ•°æ®æ˜ å°„åˆ°ç‰©ç†å†…å­˜ï¼Œå¤šä¸ªè¿›ç¨‹å…±äº«è¿™ç‰‡å†…å­˜ [[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_3-è½¯ä»¶ç³»ç»Ÿ/2_0_2_1_2_3_1-æ“ä½œç³»ç»Ÿ/æ¶ˆæ¯é˜Ÿåˆ—|æ¶ˆæ¯é˜Ÿåˆ—]]ï¼ˆMessage Queueï¼‰ æŸè¿›ç¨‹å°†æ¶ˆæ¯æ”¾å…¥æ¶ˆæ¯é˜Ÿåˆ—ï¼Œå…¶å®ƒè¿›ç¨‹ä»é˜Ÿåˆ—ä¸­æ¥æ”¶æ¶ˆæ¯ [[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_3-è½¯ä»¶ç³»ç»Ÿ/2_0_2_1_2_3_1-æ“ä½œç³»ç»Ÿ/ä¿¡å·|ä¿¡å·]]ï¼ˆSignalï¼‰ é€šè¿‡å‘é€æŸäº›ä¿¡å·é€šçŸ¥å…¶å®ƒè¿›ç¨‹ï¼Œè¿›ç¨‹æ”¶åˆ°ä¿¡å·åšå‡ºä¸åŒçš„å¤„ç† [[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_3-è½¯ä»¶ç³»ç»Ÿ/2_0_2_1_2_3_1-æ“ä½œç³»ç»Ÿ/ä¿¡å·é‡|ä¿¡å·é‡]]ï¼ˆSemaphoreï¼‰ å°±æ˜¯ä¿¡å·ç¯ã€‚åº”ç”¨æ–¹å¼æœ‰å¤šç§ï¼Œå…¶ä½œç”¨æ¦‚æ‹¬èµ·æ¥å°±æ˜¯ï¼Œæ ¹æ®æ˜¯å¦æœ‰ä¿¡å·ç¯æˆ–ä¿¡å·ç¯çš„æ•°é‡å¤šå°‘æ¥å†³å®šæ˜¯å¦é˜»å¡è¿›ç¨‹ [[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_3-è½¯ä»¶ç³»ç»Ÿ/2_0_2_1_2_3_1-æ“ä½œç³»ç»Ÿ/é”|é”]]ï¼ˆLockï¼‰ å¯¹èµ„æºä¸Šé”ï¼Œå¦‚æœèµ„æºå·²è¢«æŸè¿›ç¨‹é”ä½ï¼Œåˆ™å…¶å®ƒè¿›ç¨‹æƒ³è¦ä¿®æ”¹ç”šè‡³è¯»å–è¿™äº›èµ„æºï¼Œéƒ½å°†è¢«é˜»å¡ï¼Œç›´åˆ°é”è¢«æ‰“å¼€ã€‚</description></item><item><title>è¿­ä»£å™¨</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/1-%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7/%E8%BF%AD%E4%BB%A3%E5%99%A8/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/1-%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7/%E8%BF%AD%E4%BB%A3%E5%99%A8/</guid><description>è¿­ä»£å™¨ è¿­ä»£å™¨æ˜¯ä¸€ä¸ªç”¨äºä¿å­˜çŠ¶æ€çš„ç±»ï¼ŒçŠ¶æ€æ˜¯æŒ‡ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡å½“å‰çš„éå†æƒ…å†µï¼Œä¾‹å¦‚å¯è¿­ä»£å¯¹è±¡å…ƒç´ é‡ï¼Œå½“å‰è¿­ä»£æŒ‡é’ˆç­‰ã€‚ è¿­ä»£å™¨ä¸»è¦æ˜¯é€šè¿‡å†…éƒ¨ç±»å®ç°ï¼Œæ¯”å¦‚ArrayListå†…éƒ¨æœ‰ä¸ªIteratorç±»ï¼Œè¿™æ ·iteratorå¯ä»¥é€šè¿‡ArrayList.thisè®¿é—®åˆ°å¤–éƒ¨ç±»çš„å†…å®¹ï¼Œæœ€é‡è¦çš„æ˜¯è®¿é—®åˆ°å¤–éƒ¨ç±»ä¸­å­˜å‚¨çš„å…·ä½“æ•°æ®ã€‚ è¿­ä»£å™¨è®¾è®¡ä¸Šé™ä½äº†ç©ºé—´å¼€é”€ï¼ˆç»´æŠ¤æŒ‡é’ˆä¿¡æ¯è€Œä¸ç”¨å¤åˆ¶åŸæ•°æ®ï¼‰ï¼Œä¿è¯äº†ä¸åŸæ•°æ®çš„ä¸€è‡´æ€§ï¼ˆå¦‚æœæ˜¯å¤åˆ¶åˆ™å¯èƒ½é€ æˆä¸åŸæ•°æ®ä¸ä¸€è‡´ï¼‰ã€‚ iterator()æ–¹æ³•ä¼šè¿”å›ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡å†…éƒ¨çš„è¿­ä»£å™¨å®ä¾‹ã€‚</description></item><item><title>é€†å‘wp-Easy-CrackMe</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_3_0-%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/%E4%BA%8C%E8%BF%9B%E5%88%B6%E5%AE%89%E5%85%A8/%E9%80%86%E5%90%91/writeup/%E9%80%86%E5%90%91writeup-Easy-CrackMe/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_3_0-%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/%E4%BA%8C%E8%BF%9B%E5%88%B6%E5%AE%89%E5%85%A8/%E9%80%86%E5%90%91/writeup/%E9%80%86%E5%90%91writeup-Easy-CrackMe/</guid><description>é€†å‘wp-Easy-CrackMe é¢˜ç›®åœ¨ç½‘ç»œå¯¹åº”ç›®å½•ä¸­: http://gokoucat.ys168.com/
é»‘ç›’æµ‹è¯• windows çª—ä½“ç¨‹åº æ²¡ä»€ä¹ˆè¾“å…¥é™åˆ¶ é”™è¯¯è¿”å›å­—ç¬¦ä¸² Incorrect Password ![[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_3_0-ç½‘ç»œå®‰å…¨/äºŒè¿›åˆ¶å®‰å…¨/é€†å‘/writeup/z-attachments/Pasted image 20220917214007.png]]
åç¼–è¯‘ ç¨‹åºæ˜¯ 32 ä½çš„.
å®šä½å…³é”®å‡½æ•° é€šè¿‡å­—ç¬¦ä¸² Incorrect Password å®šä½å…³é”®å‡½æ•°, F5 åˆ†æ C ä»£ç .
å…³é”®å‡½æ•°åˆ†æ å˜é‡åæ ¹æ®ç”¨é€”é‡å‘½åè¿‡.
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 int __cdecl sub_401080(HWND hDlg) { int result; // eax@5 CHAR c1; // [sp+4h] [bp-64h]@1 char c2; // [sp+5h] [bp-63h]@1 char c3; // [sp+6h] [bp-62h]@2 char c4; // [sp+8h] [bp-60h]@3 __int16 v6; // [sp+65h] [bp-3h]@1 char v7; // [sp+67h] [bp-1h]@1 c1 = 0; memset(&amp;amp;c2, 0, 0x60u); v6 = 0; v7 = 0; GetDlgItemTextA(hDlg, 1000, &amp;amp;c1, 100); if ( c2 == &amp;#39;a&amp;#39; &amp;amp;&amp;amp; !</description></item><item><title>é€†å‘wp-Easy-Keygen</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_3_0-%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/%E4%BA%8C%E8%BF%9B%E5%88%B6%E5%AE%89%E5%85%A8/%E9%80%86%E5%90%91/writeup/%E9%80%86%E5%90%91writeup-Easy-Keygen/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_3_0-%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/%E4%BA%8C%E8%BF%9B%E5%88%B6%E5%AE%89%E5%85%A8/%E9%80%86%E5%90%91/writeup/%E9%80%86%E5%90%91writeup-Easy-Keygen/</guid><description>é€†å‘wp-Easy-Keygen åŸºç¡€çš„å¼‚æˆ–åŠ å¯†é¢˜.
http://gokoucat.ys168.com/
é¢˜ç›®è¦æ±‚ Find the Name when the Serial is 5B134977135E7D13
é»‘ç›’æµ‹è¯• ç®€å•è¿è¡Œä¸€ä¸‹ç¨‹åº, å‘ç°æ˜¯ Windows ä¸‹çš„å‘½ä»¤è¡Œç¨‹åº, è¦æ±‚è¾“å…¥ name å’Œ serial, ç¨‹åºåˆ¤æ–­æ˜¯å¦æ­£ç¡®, é”™è¯¯ç›´æ¥è·³å‡º.
åç¼–è¯‘ ç›´æ¥æ”¾ IDA é‡Œåç¼–è¯‘.
å®šä½å‡½æ•° é€šè¿‡æœç´¢å­—ç¬¦ä¸² Input Name: æˆ–Input Serial:, æŸ¥æ‰¾äº¤å‰åº”ç”¨æ¥å®šä½ä¸»å‡½æ•°.
åˆ†æå‡½æ•° è¿™é‡Œæ²¡æœ‰ä»€ä¹ˆå‘, æ‰¾åˆ°ä¸»å‡½æ•°ç›´æ¥ F5 çœ‹ C ä»£ç :
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 int __cdecl main(int argc, const char **argv, const char **envp) { signed int v3; // ebp@1 signed int i; // esi@1 int result; // eax@6 char v6; // [sp+Ch] [bp-130h]@1 char v7; // [sp+Dh] [bp-12Fh]@1 char v8; // [sp+Eh] [bp-12Eh]@1 char v9; // [sp+10h] [bp-12Ch]@1 char v10; // [sp+11h] [bp-12Bh]@1 __int16 v11; // [sp+71h] [bp-CBh]@1 char v12; // [sp+73h] [bp-C9h]@1 char v13; // [sp+74h] [bp-C8h]@1 char v14; // [sp+75h] [bp-C7h]@1 __int16 v15; // [sp+139h] [bp-3h]@1 char v16; // [sp+13Bh] [bp-1h]@1 v9 = 0; v13 = 0; memset(&amp;amp;v10, 0, 0x60u); v11 = 0; v12 = 0; memset(&amp;amp;v14, 0, 0xC4u); v15 = 0; v16 = 0; v6 = 16; v7 = 32; v8 = 48; sub_4011B9(aInputName); scanf(aS, &amp;amp;v9); v3 = 0; for ( i = 0; v3 &amp;lt; (signed int)strlen(&amp;amp;v9); ++i ) { if ( i &amp;gt;= 3 ) i = 0; sprintf(&amp;amp;v13, aS02x, &amp;amp;v13, *(&amp;amp;v9 + v3++) ^ *(&amp;amp;v6 + i)); } memset(&amp;amp;v9, 0, 0x64u); sub_4011B9(aInputSerial); scanf(aS, &amp;amp;v9); if ( !</description></item><item><title>é€†å‘wp-Easy-Re</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_3_0-%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/%E4%BA%8C%E8%BF%9B%E5%88%B6%E5%AE%89%E5%85%A8/%E9%80%86%E5%90%91/writeup/%E9%80%86%E5%90%91writeup-Easy-Re/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_3_0-%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/%E4%BA%8C%E8%BF%9B%E5%88%B6%E5%AE%89%E5%85%A8/%E9%80%86%E5%90%91/writeup/%E9%80%86%E5%90%91writeup-Easy-Re/</guid><description>é€†å‘wp-Easy-Re bugku é€†å‘ç¬¬äºŒé¢˜.
å®šä½å…³é”®å‡½æ•° é€šè¿‡ ida åç¼–è¯‘, å¾ˆå®¹æ˜“å®šä½å…³é”®å‡½æ•°, æœ¬é¢˜ç»“æ„ååˆ†ç®€å•:
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 int __cdecl main(int argc, const char **argv, const char **envp) { int v3; // eax __int128 v5; // [esp+0h] [ebp-44h] __int64 v6; // [esp+10h] [ebp-34h] int v7; // [esp+18h] [ebp-2Ch] __int16 v8; // [esp+1Ch] [ebp-28h] char v9; // [esp+20h] [ebp-24h] _mm_storeu_si128((__m128i *)&amp;amp;v5, _mm_loadu_si128((const __m128i *)&amp;amp;xmmword_413E34)); // &amp;amp;xmmword_413E34 å³è¢«æ¯”è¾ƒæ•°æ® flag v7 = 0; v6 = qword_413E44; v8 = 0; printf(&amp;#34;æ¬¢è¿æ¥åˆ°DUTCTFå‘¦\n&amp;#34;); printf(&amp;#34;è¿™æ˜¯ä¸€é“å¾ˆå¯çˆ±å¾ˆç®€å•çš„é€†å‘é¢˜å‘¦\n&amp;#34;); printf(&amp;#34;è¾“å…¥flagå§:&amp;#34;); scanf(&amp;#34;%s&amp;#34;, &amp;amp;v9); v3 = strcmp((const char *)&amp;amp;v5, &amp;amp;v9); // å°†è¾“å…¥ä¸å·²æœ‰æ•°æ®è¿›è¡Œæ¯”è¾ƒ, if ( v3 ) v3 = -(v3 &amp;lt; 0) | 1; if ( v3 ) printf(aFlag_0); else printf((const char *)&amp;amp;unk_413E90); system(&amp;#34;pause&amp;#34;); return 0; } è§£æå­—ç¬¦ä¸² å¯¹ &amp;amp;xmmword_413E34 ä½ç½®çš„æ•°æ®è¿›è¡Œåˆ†æ, å‘ç°æ­¤å¤„å°±æ˜¯ flag çš„é€†åºå­˜å‚¨, ç›´æ¥å³é”®æ˜¾ç¤ºä¸º å­—ç¬¦, ç„¶åæ‰‹å·¥åå‘è¾“å…¥å³å¯.</description></item><item><title>é€†å‘wp-Easy-UnpackMe</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_3_0-%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/%E4%BA%8C%E8%BF%9B%E5%88%B6%E5%AE%89%E5%85%A8/%E9%80%86%E5%90%91/writeup/%E9%80%86%E5%90%91writeup-Easy-UnpackMe/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_3_0-%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/%E4%BA%8C%E8%BF%9B%E5%88%B6%E5%AE%89%E5%85%A8/%E9%80%86%E5%90%91/writeup/%E9%80%86%E5%90%91writeup-Easy-UnpackMe/</guid><description>é€†å‘wp-Easy-UnpackMe è„±å£³å…¥é—¨é¢˜, æ‰¾ç¨‹åº EOP (å…¥å£ç‚¹).
é¢˜ç›®åœ¨ç½‘ç»œå¯¹åº”ç›®å½•ä¸­: http://gokoucat.ys168.com/
é¢˜ç›®è¦æ±‚ Find the OEP, ex) 00401000
é»‘ç›’æµ‹è¯• åŒå‡»æ‰“å¼€, æ˜¯ä¸€ä¸ªç©ºç™½çš„ Windows çª—ä½“ç¨‹åº, æ²¡ä»€ä¹ˆç‰¹åˆ«çš„.
OD è°ƒè¯• é€šè¿‡ä½¿ç”¨ OD åŠ¨æ€è°ƒè¯•, å¯»æ‰¾ç¨‹åºçš„ EOP, ä½¿ç”¨çš„æ–¹æ³•æ˜¯å•æ­¥è·Ÿè¸ª.
å•æ­¥è·Ÿè¸ª å‚è€ƒè§†é¢‘
ç¨‹åºè½½å…¥ OD åå³å¼€å§‹å•æ­¥æ­¥è¿‡ (F8) è°ƒè¯•
é‡åˆ°å‘ä¸‹è·³è½¬çš„ä¸€å¾‹æ‰§è¡Œ
é‡åˆ°å‘ä¸Šè·³è½¬çš„ä¸€å¾‹ä¸æ‰§è¡Œ
é€‰ä¸­ä¸‹ä¸€æ¡æŒ‡ä»¤ æŒ‰ F4 æ‰§è¡Œåˆ°é€‰ä¸­ä½ç½® æˆ–è€…åœ¨ä¸‹ä¸€æ¡æŒ‡ä»¤å¤„ä¸‹æ–­ç‚¹, å†ç»§ç»­ç¨‹åº, åˆ°è¾¾æ–­ç‚¹ååˆ é™¤æ–­ç‚¹ (ä¸å¸¸ç”¨) ç›´åˆ°é‡åˆ°åœ°å€è·³è·ƒå¹…åº¦å¾ˆå¤§çš„åœ°å€
æ‰¾åˆ°è¿™æ ·çš„åœ°å€, åŸºæœ¬å°±æ˜¯ç¨‹åºçš„ OEP äº†, æ³¨æ„åœ¨ OD ä¸­, çº¢è‰²çš„çº¿ä»£è¡¨è·³è½¬å·²ç»å®ç°, ç»¿è‰²çš„çº¿ä»£è¡¨è·³è½¬æœªå®ç°.
![[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_3_0-ç½‘ç»œå®‰å…¨/äºŒè¿›åˆ¶å®‰å…¨/é€†å‘/writeup/z-attachments/Pasted image 20220917214517.</description></item><item><title>é€†å‘wp-ebCTF-Teaser-BIN100-Dice</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_3_0-%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/%E4%BA%8C%E8%BF%9B%E5%88%B6%E5%AE%89%E5%85%A8/%E9%80%86%E5%90%91/writeup/%E9%80%86%E5%90%91writeup-ebCTF-Teaser-BIN100-Dice/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_3_0-%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/%E4%BA%8C%E8%BF%9B%E5%88%B6%E5%AE%89%E5%85%A8/%E9%80%86%E5%90%91/writeup/%E9%80%86%E5%90%91writeup-ebCTF-Teaser-BIN100-Dice/</guid><description>é€†å‘wp-ebCTF-Teaser-BIN100-Dice æ­ç”µ CTF å¹³å°é€†å‘ç¬¬ä¸€é¢˜.
http://gokoucat.ys168.com/
å®šä½å…³é”®å‡½æ•° ä½¿ç”¨ IDA å­—ç¬¦ä¸²æœç´¢ å®šä½å›æ˜¾å­—ç¬¦ä¸²è¢«äº¤å‰å¼•ç”¨çš„ä½ç½® å¾—åˆ°å…³é”®å‡½æ•°ä¸­çš„é‡è¦ç‰‡æ®µå¦‚ä¸‹:
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 int __stdcall WinMain(HINSTANCE hInstance, HINSTANCE hPrevInstance, LPSTR lpCmdLine, int nShowCmd) { .</description></item><item><title>é€†å‘wp-keylead</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_3_0-%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/%E4%BA%8C%E8%BF%9B%E5%88%B6%E5%AE%89%E5%85%A8/%E9%80%86%E5%90%91/writeup/%E9%80%86%E5%90%91wp-keylead/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_3_0-%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/%E4%BA%8C%E8%BF%9B%E5%88%B6%E5%AE%89%E5%85%A8/%E9%80%86%E5%90%91/writeup/%E9%80%86%E5%90%91wp-keylead/</guid><description>é€†å‘wp-keylead æ­ç”µ CTF å¹³å°é€†å‘ç¬¬äºŒé¢˜.
é¢˜ç›®åœ¨ç½‘ç»œå¯¹åº”ç›®å½•ä¸­: http://gokoucat.ys168.com/
æ–‡ä»¶åˆ†æ é€šè¿‡åœ¨ lunux ç¯å¢ƒä¸‹, ä½¿ç”¨ file keylead å‘ç°æ˜¯ä¸€ä¸ªå‹ç¼©æ–‡ä»¶, è§£å‹åå¾—åˆ°å¯æ‰§è¡Œæ–‡ä»¶.
1 2 3 file keylead keylead: XZ compressed data å‡½æ•°åˆ†æ é€šè¿‡å­—ç¬¦ä¸²å®šä½çš„æ–¹æ³•, æ‰¾åˆ°ä¸»å‡½æ•°.
ä¸»å‡½æ•° 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 signed __int64 __fastcall main(__int64 a1, char **a2, char **a3) { unsigned int v3; // eax unsigned int i_rand_n1; // ST14_4 signed __int64 result; // rax unsigned int i_rand_n5; // [rsp+4h] [rbp-1Ch] unsigned int i_rand_n4; // [rsp+8h] [rbp-18h] unsigned int i_rand_n3; // [rsp+Ch] [rbp-14h] unsigned int i_rand_n2; // [rsp+10h] [rbp-10h] int start_time; // [rsp+18h] [rbp-8h] puts(&amp;#34;hi all ----------------------&amp;#34;); puts(&amp;#34;Welcome to dice game!</description></item><item><title>é€†å‘wp-Reverse-100</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_3_0-%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/%E4%BA%8C%E8%BF%9B%E5%88%B6%E5%AE%89%E5%85%A8/%E9%80%86%E5%90%91/writeup/%E9%80%86%E5%90%91wp-Reverse-100/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_3_0-%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/%E4%BA%8C%E8%BF%9B%E5%88%B6%E5%AE%89%E5%85%A8/%E9%80%86%E5%90%91/writeup/%E9%80%86%E5%90%91wp-Reverse-100/</guid><description>é€†å‘wp-Reverse-100 æ­ç”µ CTF å¹³å°é€†å‘ç¬¬å››é¢˜.
é¢˜ç›®åœ¨ç½‘ç»œå¯¹åº”ç›®å½•ä¸­: http://gokoucat.ys168.com/
å®šä½å…³é”®å‡½æ•° è€å¥—è·¯, string æŸ¥æ‰¾, ä¸å¤š BB.
è§£æå‡½æ•° è¿™ä¸ªå‡½æ•°æ¯”è¾ƒç®€å•, key å’Œ åˆ¤æ–­æµç¨‹åœ¨ä¸€ä¸ªç®€å•çš„å‡½æ•°ä¸­ç›´æ¥å±•ç¤º:
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 int __cdecl main(int argc, const char **argv, const char **envp) { signed int i; // edi char s_input; // [esp+10h] [ebp-104h] char Dst; // [esp+11h] [ebp-103h] s_input = 0; memset(&amp;amp;Dst, 0, 0xFFu); printf(&amp;#34;please input ns-ctf password: &amp;#34;); scanf_s(&amp;#34;%s&amp;#34;, &amp;amp;s_input); for ( i = 1; strncmp(&amp;#34;nsF0cuS!</description></item><item><title>é€†å‘wp-reverse02</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_3_0-%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/%E4%BA%8C%E8%BF%9B%E5%88%B6%E5%AE%89%E5%85%A8/%E9%80%86%E5%90%91/writeup/%E9%80%86%E5%90%91wp-reverse02/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_3_0-%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/%E4%BA%8C%E8%BF%9B%E5%88%B6%E5%AE%89%E5%85%A8/%E9%80%86%E5%90%91/writeup/%E9%80%86%E5%90%91wp-reverse02/</guid><description>é€†å‘wp-reverse02 æ­ç”µ CTF å¹³å°é€†å‘ç¬¬ä¸‰é¢˜.
é¢˜ç›®åœ¨ç½‘ç»œå¯¹åº”ç›®å½•ä¸­: http://gokoucat.ys168.com/
å®šä½å‡½æ•° ç¨‹åºæ—¶ä¸€ä¸ª win32 çš„çª—å£ç¨‹åº, æŒ‰é’®æ˜¯ç°è‰²çš„.
è€å¥—è·¯, æ ¹æ®å­—ç¬¦ä¸²æ¥å®šä½å‡½æ•°.
è¿™é¢˜å¯ä»¥æ‰¾åˆ°ä¸€ä¸ªå†…å®¹æ˜¯ flag:{NSCTF_md57e0cad17016b0&amp;gt;?45?f7c&amp;gt;0&amp;gt;4a&amp;gt;1c3a0} çš„å­—ç¬¦ä¸², ç›´æ¥æäº¤é”™è¯¯, çœ‹æ¥æ²¡è¿™ä¹ˆç®€å•.
äº¤å‰å¼•ç”¨ å¯¹è¯¥å­—ç¬¦ä¸²çš„äº¤å‰å¼•ç”¨æœ‰ä¸¤å¤„, åˆ†åˆ«åˆ†æå‘ç°å…¶ä¸­ä¸€ä¸ªåº”è¯¥ä¸ºä¸»è¦çš„å‡½æ•°:
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 int __thiscall sub_401070(_BYTE *this) { int v1; // edx int v2; // esi int result; // eax if ( ((unsigned __int8)byte_403028 ^ 7) !</description></item><item><title>é€†å‘wp-WannaLOL2</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_3_0-%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/%E4%BA%8C%E8%BF%9B%E5%88%B6%E5%AE%89%E5%85%A8/%E9%80%86%E5%90%91/writeup/%E9%80%86%E5%90%91wp-WannaLOL2/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_3_0-%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/%E4%BA%8C%E8%BF%9B%E5%88%B6%E5%AE%89%E5%85%A8/%E9%80%86%E5%90%91/writeup/%E9%80%86%E5%90%91wp-WannaLOL2/</guid><description>é€†å‘wp-WannaLOL2 é€†å‘å…¥é—¨é¢˜.
é¢˜ç›®åœ¨ç½‘ç»œå¯¹åº”ç›®å½•ä¸­: http://gokoucat.ys168.com/
é»‘ç›’æµ‹è¯• æ‹¿åˆ°é¢˜ç›®ç¬¬ä¸€æ­¥, å°±æ˜¯è¿è¡Œè½¯ä»¶è¿›è¡Œæµ‹è¯•.
åˆ¤æ–­è½¯ä»¶å¹³å° è§‚å¯Ÿè¾“å…¥é™åˆ¶ è§‚å¯Ÿè¾“å‡ºä¿¡æ¯ æœ¬é¢˜æ˜¯ä¸€é“ Windows å¹³å°ä¸‹çš„çª—ä½“ç¨‹åº, ä»»æ„è¾“å…¥å†…å®¹è¿›è¡Œæµ‹è¯•:
![[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_3_0-ç½‘ç»œå®‰å…¨/äºŒè¿›åˆ¶å®‰å…¨/é€†å‘/writeup/z-attachments/Pasted image 20220917215724.png]]
éšæ„è¾“å…¥å, å‘ç°ç¨‹åºå¯¹è¾“å…¥çš„å†…å®¹å’Œé•¿åº¦æ²¡æœ‰åšé™åˆ¶, è¾“å…¥ä¸é€šè¿‡æ—¶è¿”å›å­—ç¬¦ä¸² error !
è¿”å›é”™çš„çš„å­—ç¬¦ä¸²å°±æ˜¯å®šä½å…³é”®å‡½æ•°çš„ä¸€ä¸ªçªç ´ç‚¹.
åç¼–è¯‘ ä½¿ç”¨ IDA è½¯ä»¶å¯¹ç¨‹åºè¿›è¡Œåç¼–è¯‘.
1 æ— æ³•ç¡®è®¤ç¨‹åºä½æ•°æ—¶, ç»Ÿä¸€å…ˆç”¨ X86 çš„ IDA æ‰“å¼€, è§‚å¯Ÿæ˜¯å¦æŠ¥é”™æ¥ç¡®å®šæ˜¯å¤šå°‘ä½çš„ç¨‹åº. IDA è§†å›¾é…ç½® æ‰“å¼€æœºå™¨ç æ˜¾ç¤º æ‰“å¼€ 16 è¿›åˆ¶è§†å›¾ (Hex-View) æ‰“å¼€å­—ç¬¦ä¸²è§†å›¾ (Strings windows) å®šä½å…³é”®å‡½æ•° é€šè¿‡è¾“å‡ºå­—ç¬¦ä¸² error ! å®šä½ç¨‹åºçš„å…³é”®å‡½æ•°.
æœç´¢å­—ç¬¦ä¸²å®šä½ åœ¨ strings windows ä¸­æŒ‰ ctrl + F æœç´¢å­—ç¬¦ä¸² error ! åŒå‡»ç»“æœä¸­åŒ¹é…çš„å†…å®¹, è·³è½¬åˆ°å¯¹åº”çš„æ•°æ®ä½ç½® å®šä½å­—ç¬¦ä¸²å¼•ç”¨ä½ç½® å…‰æ ‡æ”¾åœ¨å­—ç¬¦ä¸²çš„å˜é‡åå¤„, æŒ‰ x è°ƒå‡ºäº¤å‰åº”ç”¨çª—å£, åŒå‡»æ¡ç›®è·³è½¬åˆ°å¯¹åº”å‡½æ•°</description></item><item><title>é€†å‘wp-æ¸¸æˆè¿‡å…³</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_3_0-%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/%E4%BA%8C%E8%BF%9B%E5%88%B6%E5%AE%89%E5%85%A8/%E9%80%86%E5%90%91/writeup/%E9%80%86%E5%90%91writeup-%E6%B8%B8%E6%88%8F%E8%BF%87%E5%85%B3/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_3_0-%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/%E4%BA%8C%E8%BF%9B%E5%88%B6%E5%AE%89%E5%85%A8/%E9%80%86%E5%90%91/writeup/%E9%80%86%E5%90%91writeup-%E6%B8%B8%E6%88%8F%E8%BF%87%E5%85%B3/</guid><description>é€†å‘wp-æ¸¸æˆè¿‡å…³ bugku é€†å‘ç¬¬ä¸‰é¢˜.
http://gokoucat.ys168.com/
å®šä½å…³é”®å‡½æ•° é€šè¿‡å¯¹å­—ç¬¦ä¸² done!!! the flag is è¿›è¡Œäº¤å‰å¼•ç”¨çš„å®šä½, æ‰¾åˆ°å…³é”®å‡½æ•°çš„ä½ç½®.
1 2 3 4 5 6 7 8 9 10 11 12 ... if ( byte_532E28[0] == 1 &amp;amp;&amp;amp; byte_532E28[1] == 1 &amp;amp;&amp;amp; byte_532E28[2] == 1 &amp;amp;&amp;amp; byte_532E28[3] == 1 &amp;amp;&amp;amp; byte_532E28[4] == 1 &amp;amp;&amp;amp; byte_532E28[5] == 1 &amp;amp;&amp;amp; byte_532E28[6] == 1 &amp;amp;&amp;amp; byte_532E28[7] == 1 ) { sub_457AB4(); //å…³é”®å‡½æ•° } åˆ†æå‡½æ•° å‡½æ•°å†…éƒ¨æ˜¯å¯¹å·²æœ‰çš„æ•°æ®è¿›è¡Œå¤„ç†å¹¶è¾“å‡º</description></item><item><title>é‡å®šä½è¡¨</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux/%E9%87%8D%E5%AE%9A%E4%BD%8D%E8%A1%A8/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux/%E9%87%8D%E5%AE%9A%E4%BD%8D%E8%A1%A8/</guid><description>é‡å®šä½è¡¨ ä¸€å¼ â€œéœ€æ±‚è¡¨â€ï¼šå‘Šè¯‰é“¾æ¥å™¨å“ªäº›æŒ‡ä»¤å³è¯¥æŒ‡ä»¤çš„å“ªäº›éƒ¨åˆ†è¦è°ƒæ•´ã€‚
é‡å®šä½è¡¨ï¼ˆRelocation Tableï¼‰ç”¨äºåœ¨ç¨‹åºåŠ è½½åˆ°å†…å­˜ä¸­æ—¶ï¼Œè¿›è¡Œå†…å­˜åœ°å€çš„ä¿®æ­£ã€‚
å¯¹äºå¯é‡å®šä½çš„ELFæ–‡ä»¶æ¥è¯´ï¼Œå®ƒå¿…é¡»åŒ…å«æœ‰é‡å®šä½è¡¨ï¼Œç”¨æ¥æè¿°å¦‚ä½•ä¿®æ”¹ç›¸åº”çš„æ®µé‡Œçš„å†…å®¹ã€‚
å¯¹äºæ¯ä¸ªè¦é‡å®šä½çš„ELFæ®µéƒ½æœ‰ä¸€ä¸ªå¯¹åº”çš„é‡å®šä½è¡¨ï¼Œè€Œä¸€ä¸ªé‡å®šä½è¡¨å¾€å¾€å°±æ˜¯ELFæ–‡ä»¶ä¸­çš„ä¸€ä¸ªæ®µï¼Œæ‰€ä»¥å…¶å®é‡å®šä½è¡¨ä¹Ÿå¯ä»¥å«é‡å®šä½æ®µã€‚
ç»“æ„ æ¯”å¦‚ä»£ç æ®µâ€œtextâ€å¦‚æœ‰è¦è¢«é‡å®šä½çš„åœ°æ–¹,é‚£ä¹ˆä¼šæœ‰ä¸€ä¸ªç›¸å¯¹åº”å«â€œ, rel.textâ€çš„æ®µä¿å­˜äº†ä»£ç æ®µçš„é‡å®šä½è¡¨;å¦‚æœä»£ç æ®µâ€œdataâ€æœ‰è¦è¢«é‡å®šä½çš„åœ°æ–¹,å°±ä¼šæœ‰ä¸€ä¸ªç›¸å¯¹åº”å«â€œ rel.data&amp;quot;â€çš„æ®µä¿å­˜äº†æ•°æ®æ®µçš„é‡å®šä½è¡¨ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ objdumpæ¥æŸ¥çœ‹ç›®æ ‡æ–‡ä»¶çš„é‡å®šä½è¡¨ã€‚ ![[z-oblib/z2-attachments/Pasted image 20220911164434.png]]
æ¯ä¸ªè¦è¢«é‡å®šä½çš„åœ°æ–¹å«ä¸€ä¸ªé‡å®šå…¥å£( Relocation Entry,æˆ‘ä»¬å¯ä»¥çœ‹åˆ°â€œa.o&amp;quot;é‡Œé¢æœ‰ä¸¤ä¸ªé‡å®šä½å…¥å£ã€‚
é‡å®šä½å…¥å£çš„åç§»(Oset)è¡¨ç¤ºè¯¥å…¥å£åœ¨è¦è¢«é‡å®šä½çš„æ®µä¸­çš„ä½ç½®, RELOCATION RECORDS FOR .textè¡¨ç¤ºè¿™ä¸ªé‡å®šä½è¡¨æ˜¯ä»£ç æ®µçš„é‡å®šä½è¡¨ï¼Œæ‰€ä»¥åç§»è¡¨ç¤ºä»£ç æ®µä¸­é¡»è¦è¢«è°ƒæ•´çš„ä½ç½®ã€‚ å¯¹ç…§åæ±‡ç¼–ç»“æœå¯ä»¥çŸ¥é“ï¼Œè¿™é‡Œçš„0xlcå’Œ0x27åˆ†åˆ«å°±æ˜¯ä»£ç æ®µä¸­â€œmovâ€æŒ‡ä»¤å’Œâ€œcallâ€æŒ‡ä»¤çš„åœ°å€éƒ¨åˆ†ã€‚
å¯¹äº32ä½çš„ Intel x86ç³»åˆ—å¤„ç†å™¨æ¥è¯´,é‡å®šä½è¡¨çš„ç»“æ„ä¹Ÿå¾ˆç®€å•,å®ƒæ˜¯ä¸€ä¸ªEl32 Rel ç»“æ„çš„æ•°ç»„,æ¯ä¸ªæ•°ç»„å…ƒç´ å¯¹åº”ä¸€ä¸ªé‡å®šä½å…¥å£ã€‚Ef32Relçš„å®šä¹‰å¦‚ä¸‹ï¼š
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 typedef uint32_t Elf32_Addr; typedef uint32_t Elf32_Word; typedef struct { Elf32_Addr r_offset; /* Address */ Elf32_Word r_info; /* Relocation type and symbol index */ } Elf32_Rel; typedef uint64_t Elf64_Addr; typedef uint64_t Elf64_Xword; typedef int64_t Elf64_Sxword; typedef struct { Elf64_Addr r_offset; /* Address */ Elf64_Xword r_info; /* Relocation type and symbol index */ Elf64_Sxword r_addend; /* Addend */ } Elf64_Rela; !</description></item><item><title>é‡é‡çº§é”</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E9%87%8D%E9%87%8F%E7%BA%A7%E9%94%81/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E9%87%8D%E9%87%8F%E7%BA%A7%E9%94%81/</guid><description>é‡é‡çº§é” ä»‹ç» é‡é‡çº§é”ä¾èµ–äºæ“ä½œç³»ç»Ÿçš„äº’æ–¥é‡ï¼ˆmutexï¼‰ å®ç°çš„ï¼Œè€Œæ“ä½œç³»ç»Ÿä¸­çº¿ç¨‹é—´çŠ¶æ€çš„è½¬æ¢éœ€è¦ç›¸å¯¹æ¯”è¾ƒé•¿çš„æ—¶é—´ï¼Œæ‰€ä»¥é‡é‡çº§é”æ•ˆç‡å¾ˆä½ï¼Œä½†è¢«é˜»å¡çš„çº¿ç¨‹ä¸ä¼šæ¶ˆè€—CPUã€‚
å‰é¢è¯´åˆ°ï¼Œæ¯ä¸€ä¸ªå¯¹è±¡éƒ½å¯ä»¥å½“åšä¸€ä¸ªé”ï¼Œå½“å¤šä¸ªçº¿ç¨‹åŒæ—¶è¯·æ±‚æŸä¸ªå¯¹è±¡é”æ—¶ï¼Œå¯¹è±¡é”ä¼šè®¾ç½®å‡ ç§çŠ¶æ€ç”¨æ¥åŒºåˆ†è¯·æ±‚çš„çº¿ç¨‹ï¼š
1 2 3 4 5 6 Contention Listï¼šæ‰€æœ‰è¯·æ±‚é”çš„çº¿ç¨‹å°†è¢«é¦–å…ˆæ”¾ç½®åˆ°è¯¥ç«äº‰é˜Ÿåˆ— Entry Listï¼šContention Listä¸­é‚£äº›æœ‰èµ„æ ¼æˆä¸ºå€™é€‰äººçš„çº¿ç¨‹è¢«ç§»åˆ°Entry List Wait Setï¼šé‚£äº›è°ƒç”¨waitæ–¹æ³•è¢«é˜»å¡çš„çº¿ç¨‹è¢«æ”¾ç½®åˆ°Wait Set OnDeckï¼šä»»ä½•æ—¶åˆ»æœ€å¤šåªèƒ½æœ‰ä¸€ä¸ªçº¿ç¨‹æ­£åœ¨ç«äº‰é”ï¼Œè¯¥çº¿ç¨‹ç§°ä¸ºOnDeck Ownerï¼šè·å¾—é”çš„çº¿ç¨‹ç§°ä¸ºOwner !Ownerï¼šé‡Šæ”¾é”çš„çº¿ç¨‹ å½“ä¸€ä¸ªçº¿ç¨‹å°è¯•è·å¾—é”æ—¶ï¼Œå¦‚æœè¯¥é”å·²ç»è¢«å ç”¨ï¼Œåˆ™ä¼šå°†è¯¥çº¿ç¨‹å°è£…æˆä¸€ä¸ªObjectWaiterå¯¹è±¡æ’å…¥åˆ°Contention Listçš„é˜Ÿåˆ—çš„é˜Ÿé¦–ï¼Œç„¶åè°ƒç”¨parkå‡½æ•°æŒ‚èµ·å½“å‰çº¿ç¨‹ã€‚
å½“çº¿ç¨‹é‡Šæ”¾é”æ—¶ï¼Œä¼šä»Contention Listæˆ–EntryListä¸­æŒ‘é€‰ä¸€ä¸ªçº¿ç¨‹å”¤é†’ï¼Œè¢«é€‰ä¸­çš„çº¿ç¨‹å«åšHeir presumptiveå³å‡å®šç»§æ‰¿äººï¼Œå‡å®šç»§æ‰¿äººè¢«å”¤é†’åä¼šå°è¯•è·å¾—é”ï¼Œä½†synchronizedæ˜¯éå…¬å¹³çš„ï¼Œæ‰€ä»¥å‡å®šç»§æ‰¿äººä¸ä¸€å®šèƒ½è·å¾—é”ã€‚è¿™æ˜¯å› ä¸ºå¯¹äºé‡é‡çº§é”ï¼Œçº¿ç¨‹å…ˆè‡ªæ—‹å°è¯•è·å¾—é”ï¼Œè¿™æ ·åšçš„ç›®çš„æ˜¯ä¸ºäº†å‡å°‘æ‰§è¡Œæ“ä½œç³»ç»ŸåŒæ­¥æ“ä½œå¸¦æ¥çš„å¼€é”€ã€‚å¦‚æœè‡ªæ—‹ä¸æˆåŠŸå†è¿›å…¥ç­‰å¾…é˜Ÿåˆ—ã€‚è¿™å¯¹é‚£äº›å·²ç»åœ¨ç­‰å¾…é˜Ÿåˆ—ä¸­çš„çº¿ç¨‹æ¥è¯´ï¼Œç¨å¾®æ˜¾å¾—ä¸å…¬å¹³ï¼Œè¿˜æœ‰ä¸€ä¸ªä¸å…¬å¹³çš„åœ°æ–¹æ˜¯è‡ªæ—‹çº¿ç¨‹å¯èƒ½ä¼šæŠ¢å äº†Readyçº¿ç¨‹çš„é”ã€‚
å¦‚æœçº¿ç¨‹è·å¾—é”åè°ƒç”¨Object.waitæ–¹æ³•ï¼Œåˆ™ä¼šå°†çº¿ç¨‹åŠ å…¥åˆ°WaitSetä¸­ï¼Œå½“è¢«Object.notifyå”¤é†’åï¼Œä¼šå°†çº¿ç¨‹ä»WaitSetç§»åŠ¨åˆ°Contention Listæˆ–EntryListä¸­å»ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå½“è°ƒç”¨ä¸€ä¸ªé”å¯¹è±¡çš„waitæˆ–notifyæ–¹æ³•æ—¶ï¼Œå¦‚å½“å‰é”çš„çŠ¶æ€æ˜¯åå‘é”æˆ–è½»é‡çº§é”åˆ™ä¼šå…ˆè†¨èƒ€æˆé‡é‡çº§é”ã€‚
é‡é‡çº§é”åŠ é”å’Œé‡Šæ”¾é”æœºåˆ¶ é‡é‡çº§é”ä¾èµ–äºæ“ä½œç³»ç»Ÿçš„äº’æ–¥é‡ï¼ˆmutexï¼‰ å®ç°çš„ï¼Œè€Œæ“ä½œç³»ç»Ÿä¸­çº¿ç¨‹é—´çŠ¶æ€çš„è½¬æ¢éœ€è¦ç›¸å¯¹æ¯”è¾ƒé•¿çš„æ—¶é—´ï¼Œæ‰€ä»¥é‡é‡çº§é”æ•ˆç‡å¾ˆä½ï¼Œä½†è¢«é˜»å¡çš„çº¿ç¨‹ä¸ä¼šæ¶ˆè€—CPUã€‚
å‰é¢è¯´åˆ°ï¼Œæ¯ä¸€ä¸ªå¯¹è±¡éƒ½å¯ä»¥å½“åšä¸€ä¸ªé”ï¼Œå½“å¤šä¸ªçº¿ç¨‹åŒæ—¶è¯·æ±‚æŸä¸ªå¯¹è±¡é”æ—¶ï¼Œå¯¹è±¡é”ä¼šè®¾ç½®å‡ ç§çŠ¶æ€ç”¨æ¥åŒºåˆ†è¯·æ±‚çš„çº¿ç¨‹ï¼š
1 2 3 4 5 6 Contention Listï¼šæ‰€æœ‰è¯·æ±‚é”çš„çº¿ç¨‹å°†è¢«é¦–å…ˆæ”¾ç½®åˆ°è¯¥ç«äº‰é˜Ÿåˆ— Entry Listï¼šContention Listä¸­é‚£äº›æœ‰èµ„æ ¼æˆä¸ºå€™é€‰äººçš„çº¿ç¨‹è¢«ç§»åˆ°Entry List Wait Setï¼šé‚£äº›è°ƒç”¨waitæ–¹æ³•è¢«é˜»å¡çš„çº¿ç¨‹è¢«æ”¾ç½®åˆ°Wait Set OnDeckï¼šä»»ä½•æ—¶åˆ»æœ€å¤šåªèƒ½æœ‰ä¸€ä¸ªçº¿ç¨‹æ­£åœ¨ç«äº‰é”ï¼Œè¯¥çº¿ç¨‹ç§°ä¸ºOnDeck Ownerï¼šè·å¾—é”çš„çº¿ç¨‹ç§°ä¸ºOwner !Ownerï¼šé‡Šæ”¾é”çš„çº¿ç¨‹ å½“ä¸€ä¸ªçº¿ç¨‹å°è¯•è·å¾—é”æ—¶ï¼Œå¦‚æœè¯¥é”å·²ç»è¢«å ç”¨ï¼Œåˆ™ä¼šå°†è¯¥çº¿ç¨‹å°è£…æˆä¸€ä¸ªObjectWaiterå¯¹è±¡æ’å…¥åˆ°Contention Listçš„é˜Ÿåˆ—çš„é˜Ÿé¦–ï¼Œç„¶åè°ƒç”¨parkå‡½æ•°æŒ‚èµ·å½“å‰çº¿ç¨‹ã€‚
å½“çº¿ç¨‹é‡Šæ”¾é”æ—¶ï¼Œä¼šä»Contention Listæˆ–EntryListä¸­æŒ‘é€‰ä¸€ä¸ªçº¿ç¨‹å”¤é†’ï¼Œè¢«é€‰ä¸­çš„çº¿ç¨‹å«åšHeir presumptiveå³å‡å®šç»§æ‰¿äººï¼Œå‡å®šç»§æ‰¿äººè¢«å”¤é†’åä¼šå°è¯•è·å¾—é”ï¼Œä½†synchronizedæ˜¯éå…¬å¹³çš„ï¼Œæ‰€ä»¥å‡å®šç»§æ‰¿äººä¸ä¸€å®šèƒ½è·å¾—é”ã€‚è¿™æ˜¯å› ä¸ºå¯¹äºé‡é‡çº§é”ï¼Œçº¿ç¨‹å…ˆè‡ªæ—‹å°è¯•è·å¾—é”ï¼Œè¿™æ ·åšçš„ç›®çš„æ˜¯ä¸ºäº†å‡å°‘æ‰§è¡Œæ“ä½œç³»ç»ŸåŒæ­¥æ“ä½œå¸¦æ¥çš„å¼€é”€ã€‚å¦‚æœè‡ªæ—‹ä¸æˆåŠŸå†è¿›å…¥ç­‰å¾…é˜Ÿåˆ—ã€‚è¿™å¯¹é‚£äº›å·²ç»åœ¨ç­‰å¾…é˜Ÿåˆ—ä¸­çš„çº¿ç¨‹æ¥è¯´ï¼Œç¨å¾®æ˜¾å¾—ä¸å…¬å¹³ï¼Œè¿˜æœ‰ä¸€ä¸ªä¸å…¬å¹³çš„åœ°æ–¹æ˜¯è‡ªæ—‹çº¿ç¨‹å¯èƒ½ä¼šæŠ¢å äº†Readyçº¿ç¨‹çš„é”ã€‚
å¦‚æœçº¿ç¨‹è·å¾—é”åè°ƒç”¨Object.waitæ–¹æ³•ï¼Œåˆ™ä¼šå°†çº¿ç¨‹åŠ å…¥åˆ°WaitSetä¸­ï¼Œå½“è¢«Object.notifyå”¤é†’åï¼Œä¼šå°†çº¿ç¨‹ä»WaitSetç§»åŠ¨åˆ°Contention Listæˆ–EntryListä¸­å»ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå½“è°ƒç”¨ä¸€ä¸ªé”å¯¹è±¡çš„waitæˆ–notifyæ–¹æ³•æ—¶ï¼Œå¦‚å½“å‰é”çš„çŠ¶æ€æ˜¯åå‘é”æˆ–è½»é‡çº§é”åˆ™ä¼šå…ˆè†¨èƒ€æˆé‡é‡çº§é”ã€‚
![[z-oblib/z2-attachments/20200411162031746.png]]</description></item><item><title>é’ˆå¯¹å»¶è¿Ÿç»‘å®šçš„æ”»å‡»</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_3_0-%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/%E4%BA%8C%E8%BF%9B%E5%88%B6%E5%AE%89%E5%85%A8/pwn/%E9%92%88%E5%AF%B9%E5%BB%B6%E8%BF%9F%E7%BB%91%E5%AE%9A%E7%9A%84%E6%94%BB%E5%87%BB/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_3_0-%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/%E4%BA%8C%E8%BF%9B%E5%88%B6%E5%AE%89%E5%85%A8/pwn/%E9%92%88%E5%AF%B9%E5%BB%B6%E8%BF%9F%E7%BB%91%E5%AE%9A%E7%9A%84%E6%94%BB%E5%87%BB/</guid><description>é’ˆå¯¹å»¶è¿Ÿç»‘å®šçš„æ”»å‡» Â 2015 å¹´çš„è®ºæ–‡ â€œHow the ELF Ruined Christmasâ€ ä¸­æå‡ºçš„ã€‚
å¼ºè¿«åŠ¨æ€è£…è½½å™¨è§£æè¯·æ±‚çš„å‡½æ•°ã€‚
![[z-oblib/z2-attachments/Pasted image 20220911020331.png]] ![[z-oblib/z2-attachments/Pasted image 20220911020936.png]]
å›¾aä¸­ï¼Œå› ä¸ºåŠ¨æ€è½¬è½½å™¨æ˜¯ä»Â .dynamicÂ æ®µçš„Â DT_STRTABÂ æ¡ç›®ä¸­è·å¾—Â .dynstrÂ æ®µçš„åœ°å€çš„ï¼Œè€ŒÂ DT_STRTABÂ æ¡ç›®çš„ä½ç½®å·²çŸ¥ï¼Œé»˜è®¤æƒ…å†µä¸‹ä¹Ÿå¯å†™ã€‚æ‰€ä»¥æ”»å‡»è€…èƒ½å¤Ÿæ”¹å†™Â DT_STRTABÂ æ¡ç›®çš„å†…å®¹ï¼Œæ¬ºéª—åŠ¨æ€è£…è½½å™¨ï¼Œè®©å®ƒä»¥ä¸ºÂ .dynstrÂ æ®µåœ¨Â .bssÂ æ®µä¸­ï¼Œå¹¶åœ¨é‚£é‡Œä¼ªé€ ä¸€ä¸ªå‡çš„å­—ç¬¦ä¸²è¡¨ã€‚å½“å®ƒå°è¯•è§£æ printf æ—¶ä¼šä½¿ç”¨ä¸åŒçš„åŸºåœ°å€æ¥å¯»æ‰¾å‡½æ•°åï¼Œæœ€ç»ˆæ‰§è¡Œçš„æ˜¯ execveã€‚è¿™ç§æ–¹å¼éå¸¸ç®€å•ï¼Œä½†ä»…å½“äºŒè¿›åˆ¶ç¨‹åºçš„Â .dynamicÂ æ®µå¯å†™æ—¶æœ‰æ•ˆã€‚ å›¾bä¸­ï¼Œæˆ‘ä»¬å·²ç»çŸ¥é“Â _dl_runtime_resolveÂ çš„ç¬¬äºŒä¸ªå‚æ•°æ˜¯ Elf_Rel æ¡ç›®åœ¨Â .rel.pltÂ æ®µä¸­çš„åç§»ï¼ŒåŠ¨æ€è£…è½½å™¨å°†è¿™ä¸ªå€¼åŠ ä¸ŠÂ .rel.pltÂ çš„åŸºå€æ¥å¾—åˆ°ç›®æ ‡ç»“æ„ä½“çš„ç»å¯¹ä½ç½®ã€‚ç„¶åå½“ä¼ é€’ç»™Â _dl_runtime_resolveÂ çš„å‚æ•°Â reloc_indexÂ è¶…å‡ºäº†Â .rel.pltÂ æ®µï¼Œå¹¶æœ€ç»ˆè½åœ¨Â .bssÂ æ®µä¸­æ—¶ï¼Œæ”»å‡»è€…å¯ä»¥åœ¨è¯¥ä½ç½®ä¼ªé€ äº†ä¸€ä¸ªÂ Elf_RelÂ ç»“æ„ï¼Œå¹¶å¡«å†™Â r_offsetÂ çš„å€¼ä¸ºä¸€ä¸ªå¯å†™çš„å†…å­˜åœ°å€æ¥å°†è§£æåçš„å‡½æ•°åœ°å€å†™åœ¨é‚£é‡Œï¼ŒåŒç†Â r_infoÂ ä¹Ÿä¼šæ˜¯ä¸€ä¸ªå°†åŠ¨æ€è£…è½½å™¨å¯¼å‘åˆ°æ”»å‡»è€…æ§åˆ¶å†…å­˜çš„ä¸‹æ ‡ã€‚è¿™ä¸ªä¸‹æ ‡å°±æŒ‡å‘ä¸€ä¸ªä½äºå®ƒåé¢çš„Â Elf_SymÂ ç»“æ„ï¼Œè€ŒÂ Elf_SymÂ ç»“æ„ä¸­çš„Â st_nameÂ åŒæ ·è¶…å‡ºäº†Â .dynsymÂ æ®µã€‚è¿™æ ·è¿™ä¸ªç¬¦å·å°±ä¼šåŒ…å«ä¸€ä¸ªç›¸å¯¹äºÂ .</description></item><item><title>é”</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E9%94%81/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E9%94%81/</guid><description>é” è®¡ç®—æœºé¢†åŸŸä¸­ï¼Œé”æœºåˆ¶ä½¿ç”¨çš„éå¸¸å¤šã€‚å®ƒä¸»è¦æ˜¯ä¸ºäº†é¿å…å¤šä¸ªè¿›ç¨‹è®¿é—®åŒä¸€èµ„æºæ—¶ï¼Œå¯èƒ½å‡ºç°çš„æ•°æ®ä¸ä¸€è‡´é—®é¢˜ã€‚
ä¾‹å¦‚ï¼Œcatå‘½ä»¤è¾“å‡ºä¸€ä¸ªæ¯”è¾ƒå¤§çš„æ–‡ä»¶å†…å®¹ï¼Œcatå‘½ä»¤çš„ç‰¹æ€§æ˜¯éœ€è¦å…ˆå°†æ‰€æœ‰ç£ç›˜æ–‡ä»¶æ•°æ®è¯»å–åˆ°å†…å­˜åå†è¾“å‡ºï¼Œæ‰€ä»¥catè¾“å‡ºä¸€ä¸ªå¤§æ–‡ä»¶å¯èƒ½éœ€è¦èŠ±è´¹ä¸€äº›æ—¶é—´ã€‚å¦‚æœåœ¨catåœ¨åŠ è½½æ–‡ä»¶æ—¶ï¼Œåœ¨å¦ä¸€ä¸ªç»ˆç«¯ä¸Šå‘è¿™ä¸ªæ–‡ä»¶è¿½åŠ äº†ä¸€è¡Œæ•°æ®ï¼Œé‚£ä¹ˆcatæœ€ç»ˆåŠ è½½çš„æ•°æ®ä¼šåŒ…å«è¿™è¡Œæ–°è¿½åŠ çš„æ•°æ®å—ï¼Ÿ
å†æ›´ç®€å•çš„ä¸€ä¸ªç¤ºä¾‹æ˜¯ï¼Œä¸¤ä¸ªç”¨æˆ·åŒæ—¶ç”¨vimæ‰“å¼€ä¸€ä¸ªæ–‡ä»¶å»ä¿®æ”¹æ•°æ®ï¼Œé‚£ä¹ˆä»¥è°ä¿®æ”¹çš„æ•°æ®ä¸ºå‡†å‘¢ï¼Ÿæ‰€ä»¥ï¼Œvimä¸ºäº†é¿å…è¿™ç§é—®é¢˜ï¼Œæ¯æ¬¡æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶çš„æ—¶å€™ï¼Œéƒ½ä¼šåœ¨æ–‡ä»¶çš„åŒä¸€ä¸ªç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªéšè—çš„.swpä¸´æ—¶æ–‡ä»¶ï¼ˆä¾‹å¦‚vim a.logæ—¶ä¼šç”Ÿæˆä¸€ä¸ª.a.log.swpçš„æ–‡ä»¶ï¼‰ï¼Œå¦‚æœæœ‰å…¶å®ƒç”¨æˆ·ç”¨vimå»æ‰“å¼€åŒä¸€ä¸ªæ–‡ä»¶ï¼Œä¼šæ£€æŸ¥è¿™ä¸ªéšè—æ–‡ä»¶æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœå­˜åœ¨è¯´æ˜æœ‰äººæ­£åœ¨ç¼–è¾‘è¿™ä¸ªæ–‡ä»¶ã€‚
é”çš„å†…å®¹éå¸¸å¤šï¼Œè¿™é‡Œç®€å•ä»‹ç»ä¸‹å®ƒæœ€åŸºæœ¬ä¹Ÿæœ€å®ç”¨çš„åŸºç¡€çŸ¥è¯†ã€‚
å¦‚æœä¸ä½¿ç”¨é”ï¼Œä¹Ÿå°±æ˜¯å…è®¸å¤šä¸ªè¿›ç¨‹åŒæ—¶æ›´æ–°ã€è¯»å–åŒä¸€ä»½æ•°æ®ï¼Œå°†å¯èƒ½å‡ºç°ä»¥ä¸‹é—®é¢˜ï¼š
è„è¯»ï¼šè¯»å–åˆ°è„æ•°æ®ã€‚ä¾‹å¦‚ç”¨æˆ·Aç”¨vimå°†æ–‡ä»¶ä¸­çš„å­—æ¯xä¿®æ”¹ä¸ºäº†yï¼Œç”¨æˆ·Båœ¨vimä¿å­˜ä¹‹å‰é€šè¿‡catè¯»å–ï¼Œå¾—åˆ°çš„è¿™ä¸ªå­—æ¯å°†æ˜¯xï¼Œè¿™ç§ç°è±¡ç§°ä¸ºè„è¯»ã€‚ä½†å…¶å®Aå·²ç»å°†å®ƒä¿®æ”¹ä¸ºäº†yï¼Œåªä¸è¿‡è¯¥ä¿®æ”¹åªå­˜åœ¨äºAçš„vimç¼“å­˜ä¸­ï¼Œè¿˜æ²¡æœ‰ä¿å­˜åˆ°ç£ç›˜æ–‡ä»¶ä¸­ã€‚é€šå¸¸ï¼Œå°†ç¼“å­˜ä¸­ä¿®æ”¹åä½†æ²¡æœ‰ä¿å­˜çš„æ•°æ®ç§°ä¸ºè„æ•°æ®ã€‚ æ›´æ–°ä¸¢å¤±ï¼šæŸç”¨æˆ·çš„æ•°æ®æ›´æ–°æ“ä½œè¢«å…¶å®ƒç”¨æˆ·è¦†ç›–ã€‚ä¾‹å¦‚ï¼Œç”¨æˆ·Aå’Œç”¨æˆ·BåŒæ—¶ä¿®æ”¹åŒä¸€æ–‡ä»¶ä¸­çš„æœ€åä¸€ä¸ªå­—ç¬¦aï¼ŒAå°†aä¿®æ”¹ä¸ºxï¼ŒBå°†aä¿®æ”¹ä¸ºyï¼Œé‚£ä¹ˆAå…ˆä¿å­˜çš„è¯ï¼ŒBçš„ä¿®æ”¹å°†è¦†ç›–Açš„ä¿®æ”¹ï¼Œæœ€ç»ˆä¿å­˜çš„ç»“æœæ˜¯yï¼Œå¦‚æœBå…ˆä¿å­˜çš„è¯ï¼ŒAçš„ä¿®æ”¹å°†è¦†ç›–Bçš„ä¿®æ”¹ï¼Œæœ€ç»ˆç»“æœå¾—åˆ°å­—ç¬¦xã€‚æ‰€ä»¥ï¼ŒåŒæ—¶ä¿®æ”¹æ•°æ®æ—¶ï¼Œæœ‰ä¸€ä¸ªè¿›ç¨‹çš„æ›´æ–°è¢«è¦†ç›–äº†ï¼Œä¹Ÿå°±æ˜¯ä¸¢å¤±äº†ã€‚ é™¤è¿™ä¸¤ä¸ªé—®é¢˜ä¹‹å¤–ï¼Œåœ¨å¤šè¿›ç¨‹åŒæ—¶æ›´æ–°ã€è¯»å–åŒä¸€ä»½æ•°æ®æ—¶ï¼Œè¿˜å¯èƒ½ä¼šå‡ºç°å…¶å®ƒç°è±¡ï¼Œè¿™é‡Œä¸å†å¤šåšæè¿°ã€‚ä¸‹é¢ä»‹ç»ä¸€ä¸‹é”çš„æœºåˆ¶ã€‚
![[z-oblib/z2-attachments/Pasted image 20220803161908.png]]
å½“éœ€è¦è¯»æ•°æ®æ—¶ï¼Œå°†ç”³è¯·è¯»é”ï¼Œå½“éœ€è¦ä¿®æ”¹æ•°æ®æ—¶ï¼Œå°†ç”³è¯·å†™é”ã€‚
ç”³è¯·é”çš„æ—¶å€™ï¼Œéœ€è¦å…ˆæ£€æŸ¥è¯¥èµ„æºä¸Šæ˜¯å¦å·²ç»æœ‰é”ï¼Œå¦‚æœæœ‰é”ï¼Œæ£€æŸ¥å·²å­˜åœ¨çš„é”ä¸å¾…ç”³è¯·çš„é”æ˜¯å¦å¯ä»¥å…¼å®¹å…±å­˜ã€‚
å½“å¤šä¸ªè¿›ç¨‹éƒ½åªæ˜¯è¯»å–åŒä¸€ä»½èµ„æºï¼ˆå³éƒ½ç”³è¯·Sé”ï¼‰ï¼Œå› ä¸ºæ²¡æœ‰ä¿®æ”¹æ•°æ®ï¼Œæ‰€ä»¥å¯ä»¥å…è®¸å®ƒä»¬åŒæ—¶è¯»å–ï¼Œæ‰€ä»¥Sé”ä¸Sé”æ˜¯å¯ä»¥å…±å­˜çš„ã€‚ å¦‚æœæœ‰ä¸€ä¸ªè¿›ç¨‹ä¿®æ”¹æ•°æ®ï¼Œå®ƒå°†ç”³è¯·Xé”ï¼Œè¿™æ—¶æ˜¾ç„¶ä¸èƒ½è®©å…¶å®ƒè¿›ç¨‹è¯»å–æˆ–å†™å…¥æ•°æ®ï¼Œæ‰€ä»¥Xé”ä¸Sé”ã€Xé”å’ŒXé”éƒ½æ˜¯äº’æ–¥çš„ã€‚ å¦‚æœä¸€ä¸ªè¿›ç¨‹æ­£åœ¨è¯»å–æ•°æ®ï¼ˆå³å·²ç”³è¯·Sé”ï¼‰ï¼Œå…¶å®ƒè¿›ç¨‹æƒ³ä¿®æ”¹æ•°æ®ï¼Œä¹Ÿæ˜¯ä¸å…è®¸çš„ï¼Œæ‰€ä»¥Sé”å’ŒXé”æ˜¯äº’æ–¥çš„ã€‚ æ­¤å¤–ï¼Œä½¿ç”¨é”éœ€è¦è€ƒè™‘é”çš„ç²’åº¦ï¼Œå³å¯¹å¤šå°‘èµ„æºé‡ä¸Šé”ã€‚ä¾‹å¦‚ï¼Œå¯¹äºä¸€ä¸ªæ–‡ä»¶æ¥è¯´ï¼Œå¯ä»¥ç›´æ¥å¯¹æ•´ä¸ªæ–‡ä»¶ä¸Šé”ï¼Œä¹Ÿå¯ä»¥åªå¯¹æ–‡ä»¶ä¸­æƒ³è¦è®¿é—®çš„é‚£éƒ¨åˆ†æ•°æ®ä¸Šé”ã€‚å¦‚æœç›´æ¥å¯¹æ•´ä¸ªæ–‡ä»¶ä¸Šé”ï¼Œå…¶å®ƒè¿›ç¨‹ç”³è¯·è¯¥æ–‡ä»¶çš„äº’æ–¥é”å°†æ€»æ˜¯è¢«é˜»å¡ï¼Œè€Œå¦‚æœåªæ˜¯é”å®šè¯¥æ–‡ä»¶ä¸­çš„å‰10Kæ•°æ®ï¼Œé‚£ä¹ˆå…¶å®ƒè¿›ç¨‹å¦‚æœç”³è¯·çš„äº’æ–¥é”ä»ç¬¬20Kå¼€å§‹çš„æ•°æ®ï¼Œå°±ä¸ä¼šæ”¶åˆ°å½±å“ã€‚
æ‰€ä»¥ï¼Œé”çš„ç²’åº¦è¶Šå¤§ï¼Œé˜»æ­¢å…¶å®ƒè¿›ç¨‹çš„å¯èƒ½æ€§å°±è¶Šå¤§ï¼Œå¤šè¿›ç¨‹å¹¶å‘çš„èƒ½åŠ›å°±è¶Šå·®ã€‚é”çš„ç²’åº¦è¶Šå°ï¼Œé˜»æ­¢å…¶å®ƒè¿›ç¨‹çš„å¯èƒ½æ€§å°±è¶Šå°ï¼Œå¹¶å‘çš„èƒ½åŠ›å°±è¶Šå¼ºã€‚
ä½†æ˜¯ï¼Œé”çš„ç²’åº¦å¤ªå°ä¹Ÿä¸ä¸€å®šå¥½ï¼Œå› ä¸ºæ¯ä¸ªé”éƒ½æ˜¯éœ€è¦é¢å¤–ç®¡ç†çš„ï¼Œç²’åº¦è¶Šå°ï¼Œéœ€è¦ç»´æŠ¤çš„é”æ•°é‡è¶Šå¤šã€‚æ¯”å¦‚é¢‘ç¹åˆ›å»ºé”å’Œé¢‘ç¹é‡Šæ”¾é”çš„å¼€é”€å¹¶ä¸ä¸€å®šå°ï¼Œç”šè‡³åœ¨æç«¯çš„æ—¶å€™æ¯”ç»´æŠ¤å•ä¸ªç²—ç²’åº¦çš„é”æ•ˆç‡æ›´ä½ã€‚
åœ¨shellå‘½ä»¤è¡Œä¸‹ï¼Œæä¾›äº†ä¸€ä¸ªflockå‘½ä»¤ï¼Œå®ƒå¯ä»¥é€šè¿‡æŸä¸ªæ–‡ä»¶æ¥å®ç°é”æœºåˆ¶ï¼šè¿è¡ŒæŸä¸ªå‘½ä»¤æ—¶åœ¨æŸä¸ªæ–‡ä»¶ä¸Šç”³è¯·é”ï¼ˆè¯»é”æˆ–å†™é”ï¼‰ï¼Œå¦å¤–ä¸€ä¸ªå‘½ä»¤è¿è¡Œæ—¶ä¹Ÿç”³è¯·è¯¥æ–‡ä»¶ä¸Šçš„é”ï¼ˆè¯»é”æˆ–å†™é”ï¼‰ï¼Œå¦‚æœé”å¯ä»¥å…±å­˜ï¼Œåˆ™ç¬¬äºŒä¸ªå‘½ä»¤å¯ä»¥æ‰§è¡Œï¼Œå¦åˆ™é»˜è®¤é˜»å¡ã€‚
ä¸‹é¢æ˜¯shellå‘½ä»¤è¡Œä¸‹flockå‘½ä»¤çš„ç®€å•ç”¨æ³•ï¼Œæ›´è¯¦ç»†å†…å®¹å¯man flockè‡ªè¡Œæ¢ç´¢ã€‚
1 2 3 4 5 6 7 8 9 # ä»¥ä¸‹ä»£ç åœ¨ç»ˆç«¯1ä¸Šæ‰§è¡Œ # åœ¨/tmp/a.lockä¸Šç”³è¯·å…±äº«é”ï¼ˆ-sï¼‰ï¼Œç”³è¯·æˆåŠŸå°±è¿è¡Œsleep 10å‘½ä»¤ # å› ä¸ºæ­¤æ—¶/tmp/a.lockä¸Šè¿˜æ²¡æœ‰ä»»ä½•é”ï¼Œæ‰€ä»¥ç”³è¯·æˆåŠŸ $ flock -s /tmp/a.lock sleep 10 # ä»¥ä¸‹ä»£ç åœ¨ç»ˆç«¯2ä¸Šæ‰§è¡Œ # åœ¨/tmp/a.lockä¸Šç”³è¯·äº’æ–¥é”ï¼ˆ-xï¼‰ï¼Œç”³è¯·æˆåŠŸå°±è¿è¡Œcat /etc/passwdå‘½ä»¤ # å› ä¸º/tmp/a.lockä¸Šå·²ç»æœ‰å…±äº«é”ï¼Œæ‰€ä»¥é˜»å¡ï¼Œç›´åˆ°10såå…±äº«é”é‡Šæ”¾ $ flock -x /tmp/a.lock cat /etc/passwd</description></item><item><title>é”å­˜å™¨</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_1-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A1%AC%E4%BB%B6/0-%E5%9F%BA%E7%A1%80%E5%85%83%E5%99%A8%E4%BB%B6/%E9%94%81%E5%AD%98%E5%99%A8/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_1-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A1%AC%E4%BB%B6/0-%E5%9F%BA%E7%A1%80%E5%85%83%E5%99%A8%E4%BB%B6/%E9%94%81%E5%AD%98%E5%99%A8/</guid><description>é”å­˜å™¨ æˆ‘ä»¬å°†èƒ½å¤Ÿå­˜å‚¨ä¸€ä¸ªçŠ¶æ€çš„ç”µè·¯å«åšé”å­˜å™¨ã€‚è®¾æƒ³ä¸€ä¸ªç”µè·¯ï¼Œåˆå§‹è¾“å…¥ä¸º0ï¼Œè¾“å‡ºä¸º0ï¼›ç„¶åè¾“å…¥ä¸º1ï¼Œè¾“å‡ºå˜ä¸º1ï¼ˆçŠ¶æ€å‘ç”Ÿäº†å˜åŒ–ï¼‰ã€‚å¯¹äºè¿„ä»Šä¸ºæ­¢æ‰€æœ‰çš„ç”µè·¯ï¼Œæˆ‘ä»¬éƒ½èƒ½ä¿è¯å½“è¾“å…¥å›åˆ°0æ—¶ï¼Œè¾“å‡ºä¹Ÿä¼šåŒæ—¶å½’0ï¼›ä½†è¿™ä¸ªç”µè·¯ä¸åŒï¼Œå®ƒä¿æŒåœ¨äº†1ï¼Œä¹Ÿå°±æ˜¯çŠ¶æ€æ²¡æœ‰å‘ç”Ÿå˜åŒ–ï¼Œè€Œæ˜¯è¢«å­˜å‚¨äº†ä¸‹æ¥ã€‚æ­¤æ—¶ï¼Œè¿™ç§ç”µè·¯ä¾¿å¯ä»¥è¢«å«åšé”å­˜å™¨ã€‚
ä¸ºäº†è®©ç”µè·¯æ‹¥æœ‰è‡ªå·±çš„â€çŠ¶æ€â€œï¼Œå¿…é¡»è¦æœ‰æŸç§â€åé¦ˆâ€œæœºåˆ¶ï¼Œå°†è¾“å‡ºè¾“å…¥å½¢æˆä¸€ä¸ªé—­ç¯ã€‚
åˆ†ç±» [[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_1-è®¡ç®—æœºç¡¬ä»¶/0-åŸºç¡€å…ƒå™¨ä»¶/RSé”å­˜å™¨|RSé”å­˜å™¨]]</description></item><item><title>é”æ¥å£å’Œç±»</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E9%94%81%E6%8E%A5%E5%8F%A3%E5%92%8C%E7%B1%BB/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E9%94%81%E6%8E%A5%E5%8F%A3%E5%92%8C%E7%B1%BB/</guid><description>é”æ¥å£å’Œç±» åˆ†ç±» å¯é‡å…¥é”å’Œéå¯é‡å…¥é” å¯é‡å…¥ï¼š[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_3-è½¯ä»¶ç³»ç»Ÿ/2_0_2_1_2_3_1-æ“ä½œç³»ç»Ÿ/çº¿ç¨‹|çº¿ç¨‹]]èƒ½å¯¹èµ„æºé‡å¤åŠ é”ã€‚
[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/synchronized|synchronized]]å…³é”®å­—å°±æ˜¯ä½¿ç”¨çš„é‡å…¥é”ã€‚ åœ¨ä¸€ä¸ªsynchronizedå®ä¾‹æ–¹æ³•é‡Œé¢è°ƒç”¨å¦ä¸€ä¸ªæœ¬å®ä¾‹çš„synchronizedå®ä¾‹æ–¹æ³•ï¼Œå®ƒå¯ä»¥é‡æ–°è¿›å…¥è¿™ä¸ªé”ï¼Œä¸ä¼šå‡ºç°ä»»ä½•å¼‚å¸¸ã€‚ å¦‚æœæˆ‘ä»¬è‡ªå·±åœ¨ç»§æ‰¿[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/AQS|AQS]]å®ç°åŒæ­¥å™¨çš„æ—¶å€™ï¼Œæ²¡æœ‰è€ƒè™‘åˆ°å æœ‰é”çš„çº¿ç¨‹å†æ¬¡è·å–é”çš„åœºæ™¯ï¼Œå¯èƒ½å°±ä¼šå¯¼è‡´çº¿ç¨‹é˜»å¡ï¼Œé‚£è¿™ä¸ªå°±æ˜¯ä¸€ä¸ªâ€œéå¯é‡å…¥é”â€ã€‚ ReentrantLockå°±æ˜¯å¯é‡å…¥é”ã€‚ å…¬å¹³é”å’Œéå…¬å¹³é” å…¬å¹³ï¼šç°æ¥ååˆ°ï¼ŒFIFOï¼Œå…ˆå¯¹é”è·å–è¯·æ±‚çš„çº¿ç¨‹ä¸€å®šä¼šå…ˆè¢«æ»¡è¶³ï¼Œåå¯¹é”è·å–è¯·æ±‚çš„çº¿ç¨‹åè¢«æ»¡è¶³ã€‚
éå…¬å¹³é”èƒ½æå‡ä¸€å®šçš„æ•ˆç‡ã€‚ä½†æ˜¯éå…¬å¹³é”å¯èƒ½ä¼šå‘ç”Ÿçº¿ç¨‹é¥¥é¥¿ï¼ˆæœ‰ä¸€äº›çº¿ç¨‹é•¿æ—¶é—´å¾—ä¸åˆ°é”ï¼‰çš„æƒ…å†µã€‚ ReentrantLockæ”¯æŒéå…¬å¹³é”å’Œå…¬å¹³é”ä¸¤ç§ã€‚ è¯»å†™é”å’Œæ’å®ƒé” æ’å®ƒï¼šåŒä¸€æ—¶åˆ»åªå…è®¸ä¸€ä¸ªçº¿ç¨‹è®¿é—®ã€‚ è¯»å†™ï¼šåŒä¸€æ—¶åˆ»å…è®¸å¤šä¸ªè¯»çº¿ç¨‹è®¿é—®ã€‚
Javaæä¾›äº†ReentrantReadWriteLockç±»ä½œä¸ºè¯»å†™é”çš„é»˜è®¤å®ç°ï¼Œå†…éƒ¨ç»´æŠ¤äº†ä¸¤ä¸ªé”ï¼šä¸€ä¸ªè¯»é”ï¼Œä¸€ä¸ªå†™é”ã€‚é€šè¿‡åˆ†ç¦»è¯»é”å’Œå†™é”ï¼Œä½¿å¾—åœ¨â€œè¯»å¤šå†™å°‘â€çš„ç¯å¢ƒä¸‹ï¼Œå¤§å¤§åœ°æé«˜äº†æ€§èƒ½ã€‚ å³ä½¿ç”¨è¯»å†™é”ï¼Œåœ¨å†™çº¿ç¨‹è®¿é—®æ—¶ï¼Œæ‰€æœ‰çš„è¯»çº¿ç¨‹å’Œå…¶å®ƒå†™çº¿ç¨‹å‡è¢«é˜»å¡ã€‚ JDKä¸­æœ‰å…³é”çš„ä¸€äº›æ¥å£å’Œç±» æŠ½è±¡ç±»AQS/AQLS/AOS AQSï¼ˆAbstractQueuedSynchronizerï¼‰èµ„æºä¸Šé™æ˜¯Integer.MAX_VALUEï¼ŒAQLSï¼ˆAbstractQueuedLongSynchronizerï¼‰èµ„æºä¸Šé™æ˜¯Long.MAX_VALUEã€‚ ä¸¤è€…éƒ½ç»§æ‰¿è‡ªAOSï¼ˆAbstractOwnableSynchronizerï¼‰å®ƒæ˜¯ç”¨äºè¡¨ç¤ºé”ä¸æŒæœ‰è€…ä¹‹é—´çš„å…³ç³»ï¼ˆç‹¬å æ¨¡å¼ï¼‰ã€‚å¯ä»¥çœ‹ä¸€ä¸‹å®ƒçš„ä¸»è¦æ–¹æ³•ï¼š
1 2 3 4 5 6 7 8 9 10 11 12 // ç‹¬å æ¨¡å¼ï¼Œé”çš„æŒæœ‰è€… private transient Thread exclusiveOwnerThread; // è®¾ç½®é”æŒæœ‰è€… protected final void setExclusiveOwnerThread(Thread t) { exclusiveOwnerThread = t; } // è·å–é”çš„æŒæœ‰çº¿ç¨‹ protected final Thread getExclusiveOwnerThread() { return exclusiveOwnerThread; } æ¥å£Condition/Lock/ReadWriteLock juc.</description></item><item><title>é”æ¶ˆé™¤</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E9%94%81%E6%B6%88%E9%99%A4/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E9%94%81%E6%B6%88%E9%99%A4/</guid><description>é”æ¶ˆé™¤ JITä¼šå¯¹javaå­—èŠ‚ç è¿›è¡Œä¼˜åŒ–ï¼Œé€ƒé€¸åˆ†ææ—¶å‘ç°å¯¹è±¡ä¸å¯èƒ½è¢«å…±äº«ï¼Œå°±ä¼šå–æ¶ˆæ— æ„ä¹‰çš„åŠ é”æ“ä½œã€‚</description></item><item><title>é”çš„ä¼˜ç¼ºç‚¹å¯¹æ¯”</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E9%94%81%E7%9A%84%E4%BC%98%E7%BC%BA%E7%82%B9%E5%AF%B9%E6%AF%94/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E9%94%81%E7%9A%84%E4%BC%98%E7%BC%BA%E7%82%B9%E5%AF%B9%E6%AF%94/</guid><description>é”çš„ä¼˜ç¼ºç‚¹å¯¹æ¯” [[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/åå‘é”|åå‘é”]] [[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/è½»é‡çº§é”|è½»é‡çº§é”]] [[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/é‡é‡çº§é”|é‡é‡çº§é”]]
é” ä¼˜ç‚¹ ç¼ºç‚¹ é€‚ç”¨åœºæ™¯ åå‘é” åŠ é”å’Œè§£é”ä¸éœ€è¦é¢å¤–çš„æ¶ˆè€—ï¼Œå’Œæ‰§è¡ŒéåŒæ­¥æ–¹æ³•æ¯”ä»…å­˜åœ¨çº³ç§’çº§çš„å·®è·ã€‚ å¦‚æœçº¿ç¨‹é—´å­˜åœ¨é”ç«äº‰ï¼Œä¼šå¸¦æ¥é¢å¤–çš„é”æ’¤é”€çš„æ¶ˆè€—ã€‚ é€‚ç”¨äºåªæœ‰ä¸€ä¸ªçº¿ç¨‹è®¿é—®åŒæ­¥å—åœºæ™¯ã€‚ è½»é‡çº§é” ç«äº‰çš„çº¿ç¨‹ä¸ä¼šé˜»å¡ï¼Œæé«˜äº†ç¨‹åºçš„å“åº”é€Ÿåº¦ã€‚ å¦‚æœå§‹ç»ˆå¾—ä¸åˆ°é”ç«äº‰çš„çº¿ç¨‹ä½¿ç”¨è‡ªæ—‹ä¼šæ¶ˆè€—CPUã€‚ è¿½æ±‚å“åº”æ—¶é—´ã€‚åŒæ­¥å—æ‰§è¡Œé€Ÿåº¦éå¸¸å¿«ã€‚ é‡é‡çº§é” çº¿ç¨‹ç«äº‰ä¸ä½¿ç”¨è‡ªæ—‹ï¼Œä¸ä¼šæ¶ˆè€—CPUã€‚ çº¿ç¨‹é˜»å¡ï¼Œå“åº”æ—¶é—´ç¼“æ…¢ã€‚ è¿½æ±‚ååé‡ã€‚åŒæ­¥å—æ‰§è¡Œæ—¶é—´è¾ƒé•¿ã€‚</description></item><item><title>é”çš„å…¶ä»–ä¼˜åŒ–</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E9%94%81%E7%9A%84%E5%85%B6%E4%BB%96%E4%BC%98%E5%8C%96/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E9%94%81%E7%9A%84%E5%85%B6%E4%BB%96%E4%BC%98%E5%8C%96/</guid><description>é”çš„å…¶ä»–ä¼˜åŒ– é€‚åº”æ€§è‡ªæ—‹ï¼ˆAdaptive Spinningï¼‰ï¼šä»[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/è½»é‡çº§é”|è½»é‡çº§é”]]è·å–çš„[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/è½»é‡çº§é”#^8418aa|è¿‡ç¨‹]]ä¸­æˆ‘ä»¬çŸ¥é“ï¼Œå½“[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_3-è½¯ä»¶ç³»ç»Ÿ/2_0_2_1_2_3_1-æ“ä½œç³»ç»Ÿ/çº¿ç¨‹|çº¿ç¨‹]]åœ¨è·å–è½»é‡çº§é”çš„è¿‡ç¨‹ä¸­æ‰§è¡Œ[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/CAS|CAS]]æ“ä½œå¤±è´¥æ—¶ï¼Œæ˜¯è¦é€šè¿‡è‡ªæ—‹æ¥è·å–[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/é‡é‡çº§é”|é‡é‡çº§é”]]çš„ã€‚é—®é¢˜åœ¨äºï¼Œè‡ªæ—‹æ˜¯éœ€è¦æ¶ˆè€—CPUçš„ï¼Œå¦‚æœä¸€ç›´è·å–ä¸åˆ°é”çš„è¯ï¼Œé‚£è¯¥çº¿ç¨‹å°±ä¸€ç›´å¤„åœ¨è‡ªæ—‹çŠ¶æ€ï¼Œç™½ç™½æµªè´¹CPUèµ„æºã€‚è§£å†³è¿™ä¸ªé—®é¢˜æœ€ç®€å•çš„åŠæ³•å°±æ˜¯æŒ‡å®šè‡ªæ—‹çš„æ¬¡æ•°ï¼Œä¾‹å¦‚è®©å…¶å¾ªç¯10æ¬¡ï¼Œå¦‚æœè¿˜æ²¡è·å–åˆ°é”å°±è¿›å…¥é˜»å¡çŠ¶æ€ã€‚ä½†æ˜¯JDKé‡‡ç”¨äº†æ›´èªæ˜çš„æ–¹å¼â€”â€”é€‚åº”æ€§è‡ªæ—‹ï¼Œç®€å•æ¥è¯´å°±æ˜¯çº¿ç¨‹å¦‚æœè‡ªæ—‹æˆåŠŸäº†ï¼Œåˆ™ä¸‹æ¬¡è‡ªæ—‹çš„æ¬¡æ•°ä¼šæ›´å¤šï¼Œå¦‚æœè‡ªæ—‹å¤±è´¥äº†ï¼Œåˆ™è‡ªæ—‹çš„æ¬¡æ•°å°±ä¼šå‡å°‘ã€‚ é”ç²—åŒ–ï¼ˆLock Coarseningï¼‰ï¼šé”ç²—åŒ–çš„æ¦‚å¿µåº”è¯¥æ¯”è¾ƒå¥½ç†è§£ï¼Œå°±æ˜¯å°†å¤šæ¬¡è¿æ¥åœ¨ä¸€èµ·çš„åŠ é”ã€è§£é”æ“ä½œåˆå¹¶ä¸ºä¸€æ¬¡ï¼Œå°†å¤šä¸ªè¿ç»­çš„é”æ‰©å±•æˆä¸€ä¸ªèŒƒå›´æ›´å¤§çš„é”ã€‚ä¸¾ä¸ªä¾‹å­ï¼š 1 2 3 4 5 6 7 8 9 public void lockCoarsening() { int i=0; synchronized (this){ i=i+1; } synchronized (this){ i=i+2; } } ä¸Šé¢çš„ä¸¤ä¸ªåŒæ­¥ä»£ç å—å¯ä»¥å˜æˆä¸€ä¸ª
1 2 3 4 5 6 7 public void lockCoarsening() { int i=0; synchronized (this){ i=i+1; i=i+2; } } é”æ¶ˆé™¤ï¼ˆLock Eliminationï¼‰ï¼šé”æ¶ˆé™¤å³åˆ é™¤ä¸å¿…è¦çš„åŠ é”æ“ä½œçš„ä»£ç ã€‚æ¯”å¦‚ä¸‹é¢çš„ä»£ç ,ä¸‹é¢çš„forå¾ªç¯å®Œå…¨å¯ä»¥ç§»å‡ºæ¥ï¼Œè¿™æ ·å¯ä»¥å‡å°‘åŠ é”ä»£ç çš„æ‰§è¡Œè¿‡ç¨‹ 1 2 3 4 5 6 7 8 9 public void lockElimination() { int i=0; synchronized (this){ for(int c=0; c&amp;lt;1000; c++){ System.</description></item><item><title>é”è†¨èƒ€</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E9%94%81%E8%86%A8%E8%83%80/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E9%94%81%E8%86%A8%E8%83%80/</guid><description>é”è†¨èƒ€ é”ç”±[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/è½»é‡çº§é”|è½»é‡çº§é”]]å‘[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/é‡é‡çº§é”|é‡é‡çº§é”]]å‡çº§çš„è¿‡ç¨‹ã€‚
ç«äº‰è€…å‡çº§é” æ¥ç€[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/è½»é‡çº§é”#è·å–é”|è½»é‡çº§é”ä¸­å‡çº§çš„5.1åˆ†æ”¯]]ç»§ç»­è¯´ï¼š
å¦‚æœåœ¨å°è¯•åŠ è½»é‡çº§é”çš„è¿‡ç¨‹ä¸­ï¼Œ[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/CAS|CAS]] æ“ä½œæ— æ³•æˆåŠŸï¼Œè¿™æ—¶ä¸€ç§æƒ…å†µå°±æ˜¯æœ‰å…¶å®ƒ[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_3-è½¯ä»¶ç³»ç»Ÿ/2_0_2_1_2_3_1-æ“ä½œç³»ç»Ÿ/çº¿ç¨‹|çº¿ç¨‹]]ä¸ºæ­¤å¯¹è±¡åŠ ä¸Šäº†è½»é‡çº§é”ï¼ˆæœ‰ç«äº‰ï¼‰ï¼Œè¿™æ—¶éœ€è¦è¿›è¡Œé”è†¨èƒ€ï¼Œå°†è½»é‡çº§é”å˜ä¸ºé‡é‡çº§é”ã€‚
å½“ Thread-1 è¿›è¡Œè½»é‡çº§åŠ é”æ—¶ï¼ŒThread-0 å·²ç»å¯¹è¯¥å¯¹è±¡åŠ äº†è½»é‡çº§é”ã€‚ ![[z-oblib/z2-attachments/Pasted image 20220527214017.png]] Thread-1 åŠ è½»é‡çº§é”å¤±è´¥ï¼Œè¿›å…¥é”è†¨èƒ€æµç¨‹ï¼š ä¸º Object å¯¹è±¡ç”³è¯· [[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/monitor|Monitor]] é”ï¼Œè®© Object æŒ‡å‘é‡é‡çº§é”åœ°å€ã€‚ è‡ªå·±è¿›å…¥ Monitor çš„ EntryList BLOCKEDã€‚ ![[z-oblib/z2-attachments/Pasted image 20220527214113.png]] åŸè½»é‡çº§é”æŒæœ‰è€…è§£é” å½“ Thread-0 é€€å‡ºåŒæ­¥å—è§£é”æ—¶ï¼Œä½¿ç”¨ cas å°† [[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/1-é«˜çº§ç‰¹æ€§/Mark Word|Mark Word]] çš„å€¼æ¢å¤ç»™å¯¹è±¡å¤´ï¼Œå¤±è´¥ã€‚è¿™æ—¶ä¼šè¿›å…¥é‡é‡çº§è§£é”æµç¨‹ï¼š å³æŒ‰ç…§ Monitor åœ°å€æ‰¾åˆ° Monitor å¯¹è±¡ã€‚ è®¾ç½® Owner ä¸º nullã€‚ å”¤é†’ EntryList ä¸­ BLOCKED çº¿ç¨‹ã€‚</description></item><item><title>é˜»å¡é˜Ÿåˆ—</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E9%98%BB%E5%A1%9E%E9%98%9F%E5%88%97/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E9%98%BB%E5%A1%9E%E9%98%9F%E5%88%97/</guid><description>é˜»å¡é˜Ÿåˆ— ç®€ä»‹ jdkä¸­é˜»å¡é˜Ÿåˆ—BlockingQueueè§£å†³çš„é—®é¢˜å’Œå®ç°çš„åŠŸèƒ½ï¼š
å¤šçº¿ç¨‹åœºæ™¯ä¸‹çš„ç”Ÿäº§è€…-æ¶ˆè´¹è€…æ¨¡å¼ä¸­ï¼Œå¤šä¸ªçº¿ç¨‹æ“ä½œå…±äº«å˜é‡ï¼ˆèµ„æºï¼‰å®¹æ˜“äº§ç”Ÿçº¿ç¨‹å®‰å…¨é—®é¢˜ï¼šé‡å¤æ¶ˆè´¹ã€æ­»é”ã€‚ èµ„æºæ± ç©ºäº†ï¼Œéœ€è¦é˜»å¡æ¶ˆè´¹è€…ï¼Œå”¤é†’ç”Ÿäº§è€…ã€‚ èµ„æºæ± æ»¡äº†ï¼Œéœ€è¦é˜»å¡ç”Ÿäº§è€…ï¼Œå”¤é†’æ¶ˆè´¹è€…ã€‚ BlockingQueueæ˜¯Java util.concurrentåŒ…ä¸‹é‡è¦çš„æ•°æ®ç»“æ„ï¼ŒåŒºåˆ«äºæ™®é€šçš„é˜Ÿåˆ—ï¼ŒBlockingQueueæä¾›äº†çº¿ç¨‹å®‰å…¨çš„é˜Ÿåˆ—è®¿é—®æ–¹å¼ï¼Œå¹¶å‘åŒ…ä¸‹å¾ˆå¤šé«˜çº§åŒæ­¥ç±»çš„å®ç°éƒ½æ˜¯åŸºäºBlockingQueueå®ç°çš„ã€‚å¼€å‘è€…åªç®¡å¾€é‡Œé¢å­˜å–å³å¯ï¼Œä¸ç”¨æ‹…å¿ƒçº¿ç¨‹å®‰å…¨é—®é¢˜ã€‚ BlockingQueueä¸€èˆ¬ç”¨äºç”Ÿäº§è€…-æ¶ˆè´¹è€…æ¨¡å¼ï¼Œç”Ÿäº§è€…æ˜¯å¾€é˜Ÿåˆ—é‡Œæ·»åŠ å…ƒç´ çš„çº¿ç¨‹ï¼Œæ¶ˆè´¹è€…æ˜¯ä»é˜Ÿåˆ—é‡Œæ‹¿å…ƒç´ çš„çº¿ç¨‹ã€‚BlockingQueueå°±æ˜¯å­˜æ”¾å…ƒç´ çš„å®¹å™¨ã€‚
æ“ä½œæ–¹æ³• é˜»å¡é˜Ÿåˆ—æä¾›äº†å››ç»„ä¸åŒçš„æ–¹æ³•ç”¨äºæ’å…¥ã€ç§»é™¤ã€æ£€æŸ¥å…ƒç´ ï¼š
æ–¹æ³•\å¤„ç†æ–¹å¼ æŠ›å‡ºå¼‚å¸¸ è¿”å›ç‰¹æ®Šå€¼ ä¸€ç›´é˜»å¡ è¶…æ—¶é€€å‡º æ’å…¥æ–¹æ³• add(e) offer(e) put(e) offer(e,time,unit) ç§»é™¤æ–¹æ³• remove() poll() take() poll(time,unit) æ£€æŸ¥æ–¹æ³• element() peek() - - æŠ›å‡ºå¼‚å¸¸ï¼šå¦‚æœè¯•å›¾çš„æ“ä½œæ— æ³•ç«‹å³æ‰§è¡Œï¼ŒæŠ›å¼‚å¸¸ã€‚å½“é˜»å¡é˜Ÿåˆ—æ»¡æ—¶å€™ï¼Œå†å¾€é˜Ÿåˆ—é‡Œæ’å…¥å…ƒç´ ï¼Œä¼šæŠ›å‡ºIllegalStateException(â€œQueue fullâ€)å¼‚å¸¸ã€‚å½“é˜Ÿåˆ—ä¸ºç©ºæ—¶ï¼Œä»é˜Ÿåˆ—é‡Œè·å–å…ƒç´ æ—¶ä¼šæŠ›å‡ºNoSuchElementExceptionå¼‚å¸¸ ã€‚ è¿”å›ç‰¹æ®Šå€¼ï¼šå¦‚æœè¯•å›¾çš„æ“ä½œæ— æ³•ç«‹å³æ‰§è¡Œï¼Œè¿”å›ä¸€ä¸ªç‰¹æ®Šå€¼ï¼Œé€šå¸¸æ˜¯true / falseã€‚ ä¸€ç›´é˜»å¡ï¼šå¦‚æœè¯•å›¾çš„æ“ä½œæ— æ³•ç«‹å³æ‰§è¡Œï¼Œåˆ™ä¸€ç›´é˜»å¡æˆ–è€…å“åº”ä¸­æ–­ã€‚ è¶…æ—¶é€€å‡ºï¼šå¦‚æœè¯•å›¾çš„æ“ä½œæ— æ³•ç«‹å³æ‰§è¡Œï¼Œè¯¥æ–¹æ³•è°ƒç”¨å°†ä¼šå‘ç”Ÿé˜»å¡ï¼Œç›´åˆ°èƒ½å¤Ÿæ‰§è¡Œï¼Œä½†ç­‰å¾…æ—¶é—´ä¸ä¼šè¶…è¿‡ç»™å®šå€¼ã€‚è¿”å›ä¸€ä¸ªç‰¹å®šå€¼ä»¥å‘ŠçŸ¥è¯¥æ“ä½œæ˜¯å¦æˆåŠŸï¼Œé€šå¸¸æ˜¯ true / falseã€‚ æ³¨æ„ï¼š
ä¸èƒ½å¾€é˜»å¡é˜Ÿåˆ—ä¸­æ’å…¥null,ä¼šæŠ›å‡ºç©ºæŒ‡é’ˆå¼‚å¸¸ã€‚ å¯ä»¥è®¿é—®é˜»å¡é˜Ÿåˆ—ä¸­çš„ä»»æ„å…ƒç´ ï¼Œè°ƒç”¨remove(o)å¯ä»¥å°†é˜Ÿåˆ—ä¹‹ä¸­çš„ç‰¹å®šå¯¹è±¡ç§»é™¤ï¼Œä½†å¹¶ä¸é«˜æ•ˆï¼Œå°½é‡é¿å…ä½¿ç”¨ã€‚ å®ç°ç±» ArrayBlockingQueue ç”±æ•°ç»„ç»“æ„ç»„æˆçš„æœ‰ç•Œé˜»å¡é˜Ÿåˆ—ã€‚å†…éƒ¨ç»“æ„æ˜¯æ•°ç»„ï¼Œæ•…å…·æœ‰æ•°ç»„çš„ç‰¹æ€§ã€‚
1 2 3 public ArrayBlockingQueue(int capacity, boolean fair){ //.</description></item><item><title>é™æ€ä»£ç†</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/1-%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7/%E9%9D%99%E6%80%81%E4%BB%A3%E7%90%86/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/1-%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7/%E9%9D%99%E6%80%81%E4%BB%A3%E7%90%86/</guid><description>é™æ€ä»£ç† æ¦‚è¿° ä»£ç†ç±»å®ç°ç›®æ ‡æ¥å£ ä»£ç†ç±»åœ¨å†…éƒ¨å®ä¾‹åŒ–ä¸€ä¸ªè¢«ä»£ç†ç±»çš„å¯¹è±¡ ä»£ç†ç±»é‡å†™ç›®æ ‡æ–¹æ³•ï¼ŒåŠ å…¥ä¿®æ”¹çš„é€»è¾‘ï¼Œå¹¶å¯ä»¥è°ƒç”¨è¢«ä»£ç†ç±»çš„å¯¹è±¡çš„æ–¹æ³• æ¡ˆä¾‹ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 public class StaticProxySample { interface Greet { void sayHello(String name); } static class GreetImpl implements Greet { @Override public void sayHello(String name) { System.out.println(&amp;#34;Hello &amp;#34; + name); } } static class GreetProxyImpl implements Greet { private Greet greet = new GreetImpl(); @Override public void sayHello(String name) { this.</description></item><item><title>é™æ€é‡å®šä½</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux/%E9%9D%99%E6%80%81%E9%87%8D%E5%AE%9A%E4%BD%8D/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux/%E9%9D%99%E6%80%81%E9%87%8D%E5%AE%9A%E4%BD%8D/</guid><description>é™æ€é‡å®šä½ 1 2 3 4 5 6 7 8 9 10 11 12 13 //mainA.c int globalvar=0x123; fun test(){ } //mainB.c extern test(); extern int globalvar; fun testFunB(){ test(); printf(&amp;#34;I am %d\r\n&amp;#34;,globalvar) } æˆ‘ä»¬ç¨‹åºæœ‰ä¸¤ä¸ªæºä»£ç ï¼Œæˆ‘ä»¬çŸ¥é“æˆ‘ç¼–è¯‘çš„æ—¶å€™æˆ‘ä»¬é¦–å…ˆå…ˆå°†ç¨‹åºç¼–è¯‘æˆç›®æ ‡æ–‡ä»¶ã€‚ ä¹Ÿå°±æ˜¯mainB.o mainA.oï¼Œåœ¨ç›®æ ‡æ–‡ä»¶ä¸­mainB.oä¸çŸ¥é“testå‡½æ•°å’Œglobalvarå˜é‡çš„åœ°å€ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦åœ¨é“¾æ¥æ—¶ä¿®æ­£mainB.oå‡½æ•°è°ƒç”¨åœ°å€ã€‚
åœ¨ç¼–è¯‘æˆç›®æ ‡æ–‡ä»¶æ—¶ï¼Œç¼–è¯‘å™¨ä¼šæŠŠæ–‡ä»¶ä¸­æ‰€æœ‰çš„å‡½æ•°ä¸å˜é‡åœ°å€æ”¾å…¥ä¸€ä¸ª[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_3-è½¯ä»¶ç³»ç»Ÿ/2_0_2_1_2_3_1-æ“ä½œç³»ç»Ÿ/linux/ç¬¦å·è¡¨|ç¬¦å·è¡¨]]ä¸­ã€‚ åœ¨é“¾æ¥æ—¶æŠŠæ‰€æœ‰ç›®æ ‡æ–‡ä»¶çš„ç¬¦å·è¡¨åˆæˆä¸€ä¸ªï¼Œç„¶ååˆ©ç”¨[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_3-è½¯ä»¶ç³»ç»Ÿ/2_0_2_1_2_3_1-æ“ä½œç³»ç»Ÿ/linux/é‡å®šä½è¡¨|é‡å®šä½è¡¨]]å’Œç¬¦å·è¡¨å®Œæˆå‡½æ•°è°ƒç”¨åœ°å€ä¿®æ­£ã€‚
æˆ‘ä»¬çœ‹é“¾æ¥å‰ç¤ºæ„å›¾ï¼š ![[z-oblib/z2-attachments/Pasted image 20220911031654.png]] é“¾æ¥åï¼š ![[z-oblib/z2-attachments/Pasted image 20220911031703.png]]</description></item><item><title>é¡ºåºä¸€è‡´æ€§æ¨¡å‹</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E9%A1%BA%E5%BA%8F%E4%B8%80%E8%87%B4%E6%80%A7%E6%A8%A1%E5%9E%8B/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E9%A1%BA%E5%BA%8F%E4%B8%80%E8%87%B4%E6%80%A7%E6%A8%A1%E5%9E%8B/</guid><description>é¡ºåºä¸€è‡´æ€§æ¨¡å‹ é¡ºåºä¸€è‡´æ€§å†…å­˜æ¨¡å‹æ˜¯ä¸€ä¸ªç†æƒ³åŒ–çš„ç†è®ºå‚è€ƒæ¨¡å‹ï¼Œå®ƒä¸ºç¨‹åºå‘˜æä¾›äº†æå¼ºçš„å†…å­˜å¯è§æ€§ä¿è¯ã€‚
é¡ºåºä¸€è‡´æ€§æ¨¡å‹æœ‰ä¸¤å¤§ç‰¹æ€§ï¼š
ä¸€ä¸ª[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_3-è½¯ä»¶ç³»ç»Ÿ/2_0_2_1_2_3_1-æ“ä½œç³»ç»Ÿ/çº¿ç¨‹|çº¿ç¨‹]]ä¸­çš„æ‰€æœ‰æ“ä½œå¿…é¡»æŒ‰ç…§ç¨‹åºçš„é¡ºåºï¼ˆå³Javaä»£ç çš„é¡ºåºï¼‰æ¥æ‰§è¡Œã€‚
ä¸ç®¡ç¨‹åºæ˜¯å¦[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_3-è½¯ä»¶ç³»ç»Ÿ/2_0_2_1_2_3_1-æ“ä½œç³»ç»Ÿ/åŒæ­¥|åŒæ­¥]]ï¼Œæ‰€æœ‰çº¿ç¨‹éƒ½åªèƒ½çœ‹åˆ°ä¸€ä¸ªå•ä¸€çš„æ“ä½œæ‰§è¡Œé¡ºåºã€‚å³åœ¨é¡ºåºä¸€è‡´æ€§æ¨¡å‹ä¸­ï¼Œæ¯ä¸ªæ“ä½œå¿…é¡»æ˜¯åŸå­æ€§çš„ï¼Œä¸”ç«‹åˆ»å¯¹æ‰€æœ‰çº¿ç¨‹å¯è§ã€‚
ä¸ºäº†ç†è§£è¿™ä¸¤ä¸ªç‰¹æ€§ï¼Œæˆ‘ä»¬ä¸¾ä¸ªä¾‹å­ï¼Œå‡è®¾æœ‰ä¸¤ä¸ªçº¿ç¨‹Aå’ŒBå¹¶å‘æ‰§è¡Œï¼Œçº¿ç¨‹Aæœ‰3ä¸ªæ“ä½œï¼Œä»–ä»¬åœ¨ç¨‹åºä¸­çš„é¡ºåºæ˜¯A1-&amp;gt;A2-&amp;gt;A3ï¼Œçº¿ç¨‹Bä¹Ÿæœ‰3ä¸ªæ“ä½œï¼ŒB1-&amp;gt;B2-&amp;gt;B3ã€‚
å‡è®¾æ­£ç¡®ä½¿ç”¨äº†åŒæ­¥ï¼ŒAçº¿ç¨‹çš„3ä¸ªæ“ä½œæ‰§è¡Œåé‡Šæ”¾é”ï¼ŒBçº¿ç¨‹è·å–åŒä¸€ä¸ªé”ã€‚é‚£ä¹ˆåœ¨é¡ºåºä¸€è‡´æ€§æ¨¡å‹ä¸­çš„æ‰§è¡Œæ•ˆæœå¦‚ä¸‹æ‰€ç¤ºï¼š
![[z-oblib/z2-attachments/æ­£ç¡®åŒæ­¥.png]]
æ“ä½œçš„æ‰§è¡Œæ•´ä½“ä¸Šæœ‰åºï¼Œå¹¶ä¸”ä¸¤ä¸ªçº¿ç¨‹éƒ½åªèƒ½çœ‹åˆ°è¿™ä¸ªæ‰§è¡Œé¡ºåºã€‚
å‡è®¾æ²¡æœ‰ä½¿ç”¨åŒæ­¥ï¼Œé‚£ä¹ˆåœ¨é¡ºåºä¸€è‡´æ€§æ¨¡å‹ä¸­çš„æ‰§è¡Œæ•ˆæœå¦‚ä¸‹æ‰€ç¤ºï¼š
![[z-oblib/z2-attachments/æ²¡æœ‰æ­£ç¡®åŒæ­¥.png]]
æ“ä½œçš„æ‰§è¡Œæ•´ä½“ä¸Šæ— åºï¼Œä½†æ˜¯ä¸¤ä¸ªçº¿ç¨‹éƒ½åªèƒ½çœ‹åˆ°è¿™ä¸ªæ‰§è¡Œé¡ºåºã€‚ä¹‹æ‰€ä»¥å¯ä»¥å¾—åˆ°è¿™ä¸ªä¿è¯ï¼Œæ˜¯å› ä¸ºé¡ºåºä¸€è‡´æ€§æ¨¡å‹ä¸­çš„æ¯ä¸ªæ“ä½œå¿…é¡»ç«‹å³å¯¹ä»»æ„çº¿ç¨‹å¯è§ã€‚
ä½†æ˜¯[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/1-é«˜çº§ç‰¹æ€§/JMM|JMM]]æ²¡æœ‰è¿™æ ·çš„ä¿è¯ï¼š æ¯”å¦‚ï¼Œåœ¨å½“å‰çº¿ç¨‹æŠŠå†™è¿‡çš„æ•°æ®ç¼“å­˜åœ¨æœ¬åœ°å†…å­˜ä¸­ï¼Œåœ¨æ²¡æœ‰åˆ·æ–°åˆ°ä¸»å†…å­˜ä¹‹å‰ï¼Œè¿™ä¸ªå†™æ“ä½œä»…å¯¹å½“å‰çº¿ç¨‹å¯è§ï¼›ä»å…¶ä»–çº¿ç¨‹çš„è§’åº¦æ¥è§‚å¯Ÿï¼Œè¿™ä¸ªå†™æ“ä½œæ ¹æœ¬æ²¡æœ‰è¢«å½“å‰çº¿ç¨‹æ‰€æ‰§è¡Œã€‚åªæœ‰å½“å‰çº¿ç¨‹æŠŠæœ¬åœ°å†…å­˜ä¸­å†™è¿‡çš„æ•°æ®åˆ·æ–°åˆ°ä¸»å†…å­˜ä¹‹åï¼Œè¿™ä¸ªå†™æ“ä½œæ‰å¯¹å…¶ä»–çº¿ç¨‹å¯è§ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå½“å‰çº¿ç¨‹å’Œå…¶ä»–çº¿ç¨‹çœ‹åˆ°çš„æ‰§è¡Œé¡ºåºæ˜¯ä¸ä¸€æ ·çš„ã€‚</description></item><item><title>é¡ºåºæ§åˆ¶</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E9%A1%BA%E5%BA%8F%E6%8E%A7%E5%88%B6/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E9%A1%BA%E5%BA%8F%E6%8E%A7%E5%88%B6/</guid><description>é¡ºåºæ§åˆ¶ çº¿ç¨‹ä¹‹é—´æŒ‰è§„å®šçš„å…ˆåé¡ºåºæ‰§è¡Œã€‚
äº¤æ›¿è¾“å‡º çº¿ç¨‹ 1 è¾“å‡º a 5 æ¬¡ï¼Œçº¿ç¨‹ 2 è¾“å‡º b 5 æ¬¡ï¼Œçº¿ç¨‹ 3 è¾“å‡º c 5 æ¬¡ã€‚ç°åœ¨è¦æ±‚è¾“å‡º abcabcabcabcabc æ€ä¹ˆå®ç°ï¼š
wait&amp;amp;notify [[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/wait&amp;amp;notify|wait&amp;amp;notify]]
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 class SyncWaitNotify { private int flag; private int loopNumber; public SyncWaitNotify(int flag, int loopNumber) { this.flag = flag; this.</description></item><item><title>é¥¥é¥¿</title><link>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E9%A5%A5%E9%A5%BF/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://harbor.mffseal.top/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E9%A5%A5%E9%A5%BF/</guid><description>é¥¥é¥¿ ä¸€ä¸ªçº¿ç¨‹ç”±äºä¼˜å…ˆçº§å¤ªä½ï¼Œå§‹ç»ˆå¾—ä¸åˆ° CPU è°ƒåº¦æ‰§è¡Œï¼Œä¹Ÿä¸èƒ½å¤Ÿç»“æŸã€‚</description></item></channel></rss>