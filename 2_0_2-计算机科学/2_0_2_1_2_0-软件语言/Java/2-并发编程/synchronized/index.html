<!doctype html><html lang=cn><head><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8920808282451934" crossorigin=anonymous></script><div id=cursor-chat-layer><input type=text id=cursor-chat-box></div><script src=https://unpkg.com/cursor-chat></script>
<link rel=stylesheet type=text/css href=https://unpkg.com/cursor-chat/dist/style.css><meta charset=utf-8><meta name=description content="synchronized ç®€ä»‹ ä¿—ç§°å¯¹è±¡é”ï¼Œé‡‡ç”¨äº’æ–¥çš„æ–¹å¼è®©åŒä¸€æ—¶åˆ»åªæœ‰ä¸€ä¸ª[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_3-è½¯ä»¶ç³»ç»Ÿ/2_0_2_1_2_3_1-æ“ä½œç³»ç»Ÿ/çº¿ç¨‹|çº¿ç¨‹]]èƒ½æŒæœ‰å¯¹è±¡é”ã€‚å…¶å®ƒçº¿ç¨‹å†æƒ³è·å–è¿™ä¸ªå¯¹è±¡é”æ—¶å°±ä¼šé˜»å¡ä½ã€‚è¿™æ ·å°±èƒ½ä¿è¯æ‹¥æœ‰é”çš„çº¿ç¨‹å¯ä»¥å®‰å…¨çš„æ‰§è¡Œ[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_3-è½¯ä»¶ç³»ç»Ÿ/2_0_2_1_2_3_1-æ“ä½œç³»ç»Ÿ/ä¸´ç•ŒåŒº|ä¸´ç•ŒåŒº]]å†…çš„ä»£ç ï¼Œä¸ç”¨æ‹…å¿ƒçº¿ç¨‹[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/ä¸Šä¸‹æ–‡åˆ‡æ¢|ä¸Šä¸‹æ–‡åˆ‡æ¢]]ã€‚
ç‰¹ç‚¹  synchronizedä¸å¯ä¸­æ–­ï¼ˆä¸å¯æ”¾å¼ƒäº‰æŠ¢é”ï¼‰ï¼š  ä¸å¯ä¸­æ–­çš„æ„æ€æ˜¯ç­‰å¾…è·å–é”çš„æ—¶å€™ä¸å¯ä¸­æ–­ï¼Œæ‹¿åˆ°é”ä¹‹åå¯ä¸­æ–­ï¼Œæ²¡è·å–åˆ°é”çš„æƒ…å†µä¸‹ï¼Œä¸­æ–­æ“ä½œä¸€ç›´ä¸ä¼šç”Ÿæ•ˆã€‚   synchronizedè§„å®šï¼šçº¿ç¨‹åœ¨åŠ é”æ—¶ï¼Œ å…ˆæ¸…ç©ºå·¥ä½œå†…å­˜â†’åœ¨ä¸»å†…å­˜ä¸­æ‹·è´æœ€æ–°å˜é‡çš„å‰¯æœ¬åˆ°å·¥ä½œå†…å­˜ â†’æ‰§è¡Œå®Œä»£ç â†’å°†æ›´æ”¹åçš„å…±äº«å˜é‡çš„å€¼åˆ·æ–°åˆ°ä¸»å†…å­˜ä¸­â†’é‡Šæ”¾äº’æ–¥é”ã€‚ä¿è¯äº†[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/2-å¹¶å‘ç¼–ç¨‹/å¯è§æ€§|å†…å­˜å¯è§æ€§]]ã€‚ synchronizedä»£ç å—ä¸­çš„ä»£ç è¶Šå¤šï¼Œä¸Šé”æ—¶é—´è¶Šé•¿ï¼Œå°½é‡å‡å°‘é”çš„ç²’åº¦ã€‚ synchronizedå¯ä»¥ä¿è¯åŸå­æ€§ã€å¯è§æ€§ï¼Œå¹¶ä¸”å¯¹å¤–éƒ¨å±•ç°æœ‰åºæ€§ï¼Œå³å†…éƒ¨çš„é‡æ’åºä¸ä¼šå½±å“å¤–éƒ¨ï¼ˆè€Œä¸æ˜¯ä¸ä¼šå‘ç”Ÿé‡æ’åºï¼‰ï¼ˆå› ä¸ºåŒä¸€æ—¶åˆ»è¿›å…¥synchronizedä»£ç å—çš„åªæœ‰ä¸€ä¸ªçº¿ç¨‹ï¼Œå•çº¿ç¨‹ä¸‹é‡æ’åºæ— å½±å“ï¼‰ã€‚  è¦æƒ³ä¿è¯æœ‰åºæ€§ï¼Œå°±è¦æŠŠä¸œè¥¿å…¨éƒ¨äº¤ç»™synchronizedç®¡ç†ï¼Œè€Œä¸èƒ½æš´éœ²ä¸€éƒ¨åˆ†åœ¨å¤–é¢ï¼Œè¿™ä¹Ÿæ˜¯[[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_1-è½¯ä»¶æ–¹æ³•å­¦/è®¾è®¡æ¨¡å¼/å•ä¾‹æ¨¡å¼#åŒé‡æ ¡éªŒé”|åŒé‡æ£€æŸ¥é”]]å®ç°æ—¶è¦åŠ [[2_0_2-è®¡ç®—æœºç§‘å­¦/2_0_2_1_2_0-è½¯ä»¶è¯­è¨€/Java/1-é«˜çº§ç‰¹æ€§/volatile|volatile]]ã€‚    è¯­æ³• 1 2 3 4  synchronized(å¯¹è±¡) { // ä¸´ç•ŒåŒº }   æµç¨‹ æ¯”å–» !"><title>synchronized</title><meta name=viewport content="width=device-width,initial-scale=1"><link rel="shortcut icon" type=image/png href=https://harbor.mffseal.top//icon.png><link href=https://harbor.mffseal.top/styles.73cf69c3fd63eaf27dde453f5aa109f7.min.css rel=stylesheet><link href=https://harbor.mffseal.top/styles/_light_syntax.86a48a52faebeaaf42158b72922b1c90.min.css rel=stylesheet id=theme-link><script src=https://harbor.mffseal.top/js/darkmode.9841b88d44c115f7419d485ee72d23a2.min.js></script>
<script src=https://harbor.mffseal.top/js/util.9825137f5e7825e8553c68ce39ac9e44.min.js></script>
<link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css integrity=sha384-R4558gYOUz8mP9YWpZJjofhk+zx0AS11p36HnD2ZKj/6JR5z27gSSULCNHIRReVs crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js integrity=sha384-z1fJDqw8ZApjGO3/unPWUPsIymfsJmyrDVWC8Tv/a1HeOtGmkwNd/7xUS0Xcnvsx crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/contrib/auto-render.min.js integrity=sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.2/dist/contrib/copy-tex.min.js integrity=sha384-ww/583aHhxWkz5DEVn6OKtNiIaLi2iBRNZXfJRiY1Ai7tnJ9UXpEsyvOITVpTl4A crossorigin=anonymous></script>
<script src=https://unpkg.com/@floating-ui/core@0.7.3></script>
<script src=https://unpkg.com/@floating-ui/dom@0.5.4></script>
<script src=https://harbor.mffseal.top/js/popover.53ad9a087e3feeaaa12b63bfd02d923b.min.js></script>
<script src=https://harbor.mffseal.top/js/code-title.b35124ad8db0ba37162b886afb711cbc.min.js></script>
<script src=https://harbor.mffseal.top/js/clipboard.c20857734e53a3fb733b7443879efa61.min.js></script>
<script src=https://harbor.mffseal.top/js/callouts.7723cac461d613d118ee8bb8216b9838.min.js></script>
<script>const BASE_URL="https://harbor.mffseal.top/",fetchData=Promise.all([fetch("https://harbor.mffseal.top/indices/linkIndex.c00523a8346d5159159acf7b9ecc842d.min.json").then(e=>e.json()).then(e=>({index:e.index,links:e.links})),fetch("https://harbor.mffseal.top/indices/contentIndex.c682b8e0465c9ace9c1ccf90faf4a16f.min.json").then(e=>e.json())]).then(([{index:e,links:t},n])=>({index:e,links:t,content:n})),render=()=>{const e=new URL(BASE_URL),t=e.pathname,n=window.location.pathname,s=t==n;addCopyButtons(),addTitleToCodeBlocks(),addCollapsibleCallouts(),initPopover("https://harbor.mffseal.top",!0,!0);const o=document.getElementById("footer");if(o){const e=document.getElementById("graph-container");if(!e)return requestAnimationFrame(render);e.textContent="";const t=s&&!0;drawGraph("https://harbor.mffseal.top",t,[{"/moc":"#4388cc"}],t?{centerForce:1,depth:-1,enableDrag:!0,enableLegend:!1,enableZoom:!0,fontSize:.5,linkDistance:1,opacityScale:3,repelForce:1,scale:1.4}:{centerForce:1,depth:1,enableDrag:!0,enableLegend:!1,enableZoom:!0,fontSize:.6,linkDistance:1,opacityScale:3,repelForce:2,scale:1.2})}},init=(e=document)=>{addCopyButtons(),addTitleToCodeBlocks(),renderMathInElement(e.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}],macros:{'â€™':"'"},throwOnError:!1})}</script><script type=module>
    import { attachSPARouting } from "https:\/\/harbor.mffseal.top\/js\/router.9d4974281069e9ebb189f642ae1e3ca2.min.js"
    attachSPARouting(init, render)
  </script></head><script async src="https://www.googletagmanager.com/gtag/js?id=G-NV58SYWRZD"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-NV58SYWRZD",{anonymize_ip:!1})}</script><body><div id=search-container><div id=search-space><input autocomplete=off id=search-bar name=search type=text aria-label=æœç´¢ placeholder=æœä¸€æœ...><div id=results-container></div></div></div><script src=https://cdn.jsdelivr.net/npm/flexsearch@0.7.21/dist/flexsearch.bundle.js integrity="sha256-i3A0NZGkhsKjVMzFxv3ksk0DZh3aXqu0l49Bbh0MdjE=" crossorigin=anonymous defer></script>
<script defer src=https://harbor.mffseal.top/js/full-text-search.24827f874defbbc6d529926cbfcfb493.min.js></script><div class=singlePage><header><h1 id=page-title><a href=https://harbor.mffseal.top/>ğŸ¦­ æ¸¯æ¹¾</a></h1><div class=spacer></div><div id=search-icon><p>æœç´¢</p><svg tabindex="0" aria-labelledby="title desc" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.9 19.7"><title id="title">æœç´¢å›¾æ ‡</title><desc id="desc">æ‰“å¼€æœç´¢å›¾æ ‡</desc><g class="search-path" fill="none"><path stroke-linecap="square" d="M18.5 18.3l-5.4-5.4"/><circle cx="8" cy="8" r="7"/></g></svg></div><div class=darkmode><input class=toggle id=darkmode-toggle type=checkbox tabindex=-1>
<label id=toggle-label-light for=darkmode-toggle tabindex=-1><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="dayIcon" viewBox="0 0 35 35" style="enable-background:new 0 0 35 35"><title>äº®è‰²</title><path d="M6 17.5C6 16.672 5.328 16 4.5 16h-3C.672 16 0 16.672.0 17.5S.672 19 1.5 19h3C5.328 19 6 18.328 6 17.5zM7.5 26c-.414.0-.789.168-1.061.439l-2 2C4.168 28.711 4 29.086 4 29.5 4 30.328 4.671 31 5.5 31c.414.0.789-.168 1.06-.44l2-2C8.832 28.289 9 27.914 9 27.5 9 26.672 8.329 26 7.5 26zm10-20C18.329 6 19 5.328 19 4.5v-3C19 .672 18.329.0 17.5.0S16 .672 16 1.5v3C16 5.328 16.671 6 17.5 6zm10 3c.414.0.789-.168 1.06-.439l2-2C30.832 6.289 31 5.914 31 5.5 31 4.672 30.329 4 29.5 4c-.414.0-.789.168-1.061.44l-2 2C26.168 6.711 26 7.086 26 7.5 26 8.328 26.671 9 27.5 9zM6.439 8.561C6.711 8.832 7.086 9 7.5 9 8.328 9 9 8.328 9 7.5c0-.414-.168-.789-.439-1.061l-2-2C6.289 4.168 5.914 4 5.5 4 4.672 4 4 4.672 4 5.5c0 .414.168.789.439 1.06l2 2.001zM33.5 16h-3c-.828.0-1.5.672-1.5 1.5s.672 1.5 1.5 1.5h3c.828.0 1.5-.672 1.5-1.5S34.328 16 33.5 16zM28.561 26.439C28.289 26.168 27.914 26 27.5 26c-.828.0-1.5.672-1.5 1.5.0.414.168.789.439 1.06l2 2C28.711 30.832 29.086 31 29.5 31c.828.0 1.5-.672 1.5-1.5.0-.414-.168-.789-.439-1.061l-2-2zM17.5 29c-.829.0-1.5.672-1.5 1.5v3c0 .828.671 1.5 1.5 1.5s1.5-.672 1.5-1.5v-3C19 29.672 18.329 29 17.5 29zm0-22C11.71 7 7 11.71 7 17.5S11.71 28 17.5 28 28 23.29 28 17.5 23.29 7 17.5 7zm0 18c-4.136.0-7.5-3.364-7.5-7.5s3.364-7.5 7.5-7.5 7.5 3.364 7.5 7.5S21.636 25 17.5 25z"/></svg></label><label id=toggle-label-dark for=darkmode-toggle tabindex=-1><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="nightIcon" viewBox="0 0 100 100" style="enable-background='new 0 0 100 100'"><title>æš—è‰²</title><path d="M96.76 66.458c-.853-.852-2.15-1.064-3.23-.534-6.063 2.991-12.858 4.571-19.655 4.571C62.022 70.495 50.88 65.88 42.5 57.5 29.043 44.043 25.658 23.536 34.076 6.47c.532-1.08.318-2.379-.534-3.23-.851-.852-2.15-1.064-3.23-.534-4.918 2.427-9.375 5.619-13.246 9.491-9.447 9.447-14.65 22.008-14.65 35.369.0 13.36 5.203 25.921 14.65 35.368s22.008 14.65 35.368 14.65c13.361.0 25.921-5.203 35.369-14.65 3.872-3.871 7.064-8.328 9.491-13.246C97.826 68.608 97.611 67.309 96.76 66.458z"/></svg></label></div></header><article><h1>synchronized</h1><p class=meta>æœ€åæ›´æ–°
May 31, 2022
<a href=https://github.com/mffseal/2_0_2-%e8%ae%a1%e7%ae%97%e6%9c%ba%e7%a7%91%e5%ad%a6/2_0_2_1_2_0-%e8%bd%af%e4%bb%b6%e8%af%ad%e8%a8%80/Java/2-%e5%b9%b6%e5%8f%91%e7%bc%96%e7%a8%8b/synchronized.md rel=noopener>ç¼–è¾‘æº</a></p><ul class=tags><li><a href=https://harbor.mffseal.top/tags/atom/>Atom</a></li></ul><div class=toc-wrapper><div class=mainTOC id=mainTOC><aside><header><h3>synchronized</h3></header><nav id=TableOfContents><ol><li><a href=#ç®€ä»‹>ç®€ä»‹</a></li><li><a href=#ç‰¹ç‚¹>ç‰¹ç‚¹</a></li><li><a href=#è¯­æ³•>è¯­æ³•</a></li><li><a href=#æµç¨‹>æµç¨‹</a><ol><li><a href=#æ¯”å–»>æ¯”å–»</a></li><li><a href=#æ€»ç»“>æ€»ç»“</a></li></ol></li><li><a href=#ä½¿ç”¨åœºæ™¯>ä½¿ç”¨åœºæ™¯</a><ol><li><a href=#æˆå‘˜æ–¹æ³•>æˆå‘˜æ–¹æ³•</a></li><li><a href=#é™æ€æ–¹æ³•>é™æ€æ–¹æ³•</a></li><li><a href=#å®ä¾‹æ–¹æ³•ä»£ç å—>å®ä¾‹æ–¹æ³•ä»£ç å—</a></li><li><a href=#é™æ€æ–¹æ³•ä»£ç å—>é™æ€æ–¹æ³•ä»£ç å—</a></li></ol></li><li><a href=#åº•å±‚å®ç°>åº•å±‚å®ç°</a><ol><li><a href=#ä»£ç å—çº§>ä»£ç å—çº§</a></li><li><a href=#æ–¹æ³•çº§>æ–¹æ³•çº§</a></li></ol></li><li><a href=#synchronizedçš„ä¸è¶³ä¹‹å¤„>synchronizedçš„ä¸è¶³ä¹‹å¤„</a></li></ol></nav></aside><a href=# id=toc-toggle></a></div></div><a href=#synchronized><h1 id=synchronized><span class=hanchor arialabel=Anchor># </span>synchronized</h1></a><a href=#ç®€ä»‹><h2 id=ç®€ä»‹><span class=hanchor arialabel=Anchor># </span>ç®€ä»‹</h2></a><p>ä¿—ç§°<strong>å¯¹è±¡é”</strong>ï¼Œé‡‡ç”¨äº’æ–¥çš„æ–¹å¼è®©åŒä¸€æ—¶åˆ»åªæœ‰ä¸€ä¸ª<a href=/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E7%BA%BF%E7%A8%8B rel=noopener class=internal-link data-src=/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E7%BA%BF%E7%A8%8B>çº¿ç¨‹</a>èƒ½æŒæœ‰å¯¹è±¡é”ã€‚å…¶å®ƒçº¿ç¨‹å†æƒ³è·å–è¿™ä¸ªå¯¹è±¡é”æ—¶å°±ä¼š<strong>é˜»å¡</strong>ä½ã€‚è¿™æ ·å°±èƒ½ä¿è¯æ‹¥æœ‰é”çš„çº¿ç¨‹å¯ä»¥å®‰å…¨çš„æ‰§è¡Œ<a href=/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E4%B8%B4%E7%95%8C%E5%8C%BA rel=noopener class=internal-link data-src=/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_3-%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/2_0_2_1_2_3_1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E4%B8%B4%E7%95%8C%E5%8C%BA>ä¸´ç•ŒåŒº</a>å†…çš„ä»£ç ï¼Œä¸ç”¨æ‹…å¿ƒçº¿ç¨‹<a href=/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E4%B8%8A%E4%B8%8B%E6%96%87%E5%88%87%E6%8D%A2 rel=noopener class=internal-link data-src=/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E4%B8%8A%E4%B8%8B%E6%96%87%E5%88%87%E6%8D%A2>ä¸Šä¸‹æ–‡åˆ‡æ¢</a>ã€‚</p><a href=#ç‰¹ç‚¹><h2 id=ç‰¹ç‚¹><span class=hanchor arialabel=Anchor># </span>ç‰¹ç‚¹</h2></a><ul><li>synchronized<strong>ä¸å¯ä¸­æ–­</strong>ï¼ˆä¸å¯æ”¾å¼ƒäº‰æŠ¢é”ï¼‰ï¼š<ul><li>ä¸å¯ä¸­æ–­çš„æ„æ€æ˜¯ç­‰å¾…è·å–é”çš„æ—¶å€™ä¸å¯ä¸­æ–­ï¼Œæ‹¿åˆ°é”ä¹‹åå¯ä¸­æ–­ï¼Œæ²¡è·å–åˆ°é”çš„æƒ…å†µä¸‹ï¼Œä¸­æ–­æ“ä½œä¸€ç›´ä¸ä¼šç”Ÿæ•ˆã€‚</li></ul></li><li>synchronizedè§„å®šï¼šçº¿ç¨‹åœ¨åŠ é”æ—¶ï¼Œ å…ˆæ¸…ç©ºå·¥ä½œå†…å­˜â†’åœ¨ä¸»å†…å­˜ä¸­æ‹·è´æœ€æ–°å˜é‡çš„å‰¯æœ¬åˆ°å·¥ä½œå†…å­˜ â†’æ‰§è¡Œå®Œä»£ç â†’å°†æ›´æ”¹åçš„å…±äº«å˜é‡çš„å€¼åˆ·æ–°åˆ°ä¸»å†…å­˜ä¸­â†’é‡Šæ”¾äº’æ–¥é”ã€‚ä¿è¯äº†<a href=/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E5%8F%AF%E8%A7%81%E6%80%A7 rel=noopener class=internal-link data-src=/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E5%8F%AF%E8%A7%81%E6%80%A7>å†…å­˜å¯è§æ€§</a>ã€‚</li><li>synchronizedä»£ç å—ä¸­çš„ä»£ç è¶Šå¤šï¼Œä¸Šé”æ—¶é—´è¶Šé•¿ï¼Œå°½é‡å‡å°‘é”çš„ç²’åº¦ã€‚</li><li>synchronizedå¯ä»¥ä¿è¯åŸå­æ€§ã€å¯è§æ€§ï¼Œå¹¶ä¸”å¯¹å¤–éƒ¨å±•ç°æœ‰åºæ€§ï¼Œå³å†…éƒ¨çš„é‡æ’åºä¸ä¼šå½±å“å¤–éƒ¨ï¼ˆè€Œä¸æ˜¯ä¸ä¼šå‘ç”Ÿé‡æ’åºï¼‰ï¼ˆå› ä¸ºåŒä¸€æ—¶åˆ»è¿›å…¥synchronizedä»£ç å—çš„åªæœ‰ä¸€ä¸ªçº¿ç¨‹ï¼Œå•çº¿ç¨‹ä¸‹é‡æ’åºæ— å½±å“ï¼‰ã€‚<ul><li>è¦æƒ³ä¿è¯æœ‰åºæ€§ï¼Œå°±è¦æŠŠä¸œè¥¿å…¨éƒ¨äº¤ç»™synchronizedç®¡ç†ï¼Œè€Œä¸èƒ½æš´éœ²ä¸€éƒ¨åˆ†åœ¨å¤–é¢ï¼Œè¿™ä¹Ÿæ˜¯<a href=/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_1-%E8%BD%AF%E4%BB%B6%E6%96%B9%E6%B3%95%E5%AD%A6/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F#%e5%8f%8c%e9%87%8d%e6%a0%a1%e9%aa%8c%e9%94%81 rel=noopener class=internal-link data-src=/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_1-%E8%BD%AF%E4%BB%B6%E6%96%B9%E6%B3%95%E5%AD%A6/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F>åŒé‡æ£€æŸ¥é”</a>å®ç°æ—¶è¦åŠ <a href=/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/1-%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7/volatile rel=noopener class=internal-link data-src=/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/1-%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7/volatile>volatile</a>ã€‚</li></ul></li></ul><a href=#è¯­æ³•><h2 id=è¯­æ³•><span class=hanchor arialabel=Anchor># </span>è¯­æ³•</h2></a><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-0-1><a style=outline:none;text-decoration:none;color:inherit href=#hl-0-1>1</a>
</span><span class=lnt id=hl-0-2><a style=outline:none;text-decoration:none;color:inherit href=#hl-0-2>2</a>
</span><span class=lnt id=hl-0-3><a style=outline:none;text-decoration:none;color:inherit href=#hl-0-3>3</a>
</span><span class=lnt id=hl-0-4><a style=outline:none;text-decoration:none;color:inherit href=#hl-0-4>4</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>synchronized</span><span class=o>(</span><span class=n>å¯¹è±¡</span><span class=o>)</span>
</span></span><span class=line><span class=cl><span class=o>{</span>
</span></span><span class=line><span class=cl>	<span class=c1>// ä¸´ç•ŒåŒº
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><a href=#æµç¨‹><h2 id=æµç¨‹><span class=hanchor arialabel=Anchor># </span>æµç¨‹</h2></a><a href=#æ¯”å–»><h3 id=æ¯”å–»><span class=hanchor arialabel=Anchor># </span>æ¯”å–»</h3></a><p><img src="/z-oblib/z2-attachments/Pasted image 20220526224204.png" width=auto></p><ol><li><code>synchronized(å¯¹è±¡)</code>ä¸­çš„å¯¹è±¡ï¼Œå¯ä»¥æƒ³è±¡ä¸ºä¸€ä¸ªæˆ¿é—´ï¼ˆroomï¼‰ï¼Œæœ‰å”¯ä¸€å…¥å£ï¼ˆé—¨ï¼‰æˆ¿é—´åªèƒ½ä¸€æ¬¡è¿›å…¥ä¸€äººè¿›è¡Œè®¡ç®—ï¼Œçº¿ç¨‹ t1ï¼Œt2 æƒ³è±¡æˆä¸¤ä¸ªäººã€‚</li><li>å½“çº¿ç¨‹ t1 æ‰§è¡Œåˆ° <code>synchronized(room)</code>æ—¶å°±å¥½æ¯” t1 è¿›å…¥äº†è¿™ä¸ªæˆ¿é—´ï¼Œå¹¶é”ä½äº†é—¨æ‹¿èµ°äº†é’¥åŒ™ï¼Œåœ¨é—¨å†…æ‰§è¡Œ <code>count++</code> ä»£ç ã€‚</li><li>è¿™æ—¶å€™å¦‚æœ t2 ä¹Ÿè¿è¡Œåˆ°äº† <code>synchronized(room)</code> æ—¶ï¼Œå®ƒå‘ç°é—¨è¢«é”ä½äº†ï¼Œåªèƒ½åœ¨é—¨å¤–ç­‰å¾…ï¼Œå‘ç”Ÿäº†ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œé˜»å¡ä½äº†ã€‚</li><li>è¿™ä¸­é—´å³ä½¿ t1 çš„ cpu æ—¶é—´ç‰‡ä¸å¹¸ç”¨å®Œï¼Œè¢«è¸¢å‡ºäº†é—¨å¤–ï¼ˆä¸è¦é”™è¯¯ç†è§£ä¸ºé”ä½äº†å¯¹è±¡å°±èƒ½ä¸€ç›´æ‰§è¡Œä¸‹å»å“¦ï¼‰ï¼Œè¿™æ—¶é—¨è¿˜æ˜¯é”ä½çš„ï¼Œ<strong>t1 ä»æ‹¿ç€é’¥åŒ™</strong>ï¼Œt2 çº¿ç¨‹è¿˜åœ¨é˜»å¡çŠ¶æ€è¿›ä¸æ¥ï¼Œåªæœ‰ä¸‹æ¬¡è½®åˆ° t1 è‡ªå·±å†æ¬¡è·å¾—æ—¶é—´ç‰‡æ—¶æ‰èƒ½å¼€é—¨è¿›å…¥ã€‚</li><li>å½“ t1 æ‰§è¡Œå®Œ <code>synchronized{}</code> å—å†…çš„ä»£ç ï¼Œè¿™æ—¶å€™æ‰ä¼šä» obj æˆ¿é—´å‡ºæ¥å¹¶è§£å¼€é—¨ä¸Šçš„é”ï¼Œå”¤é†’ t2 çº¿ç¨‹æŠŠé’¥åŒ™ç»™ä»–ã€‚t2 çº¿ç¨‹è¿™æ—¶æ‰å¯ä»¥è¿›å…¥ obj æˆ¿é—´ï¼Œé”ä½äº†é—¨æ‹¿ä¸Šé’¥åŒ™ï¼Œæ‰§è¡Œå®ƒçš„ <code>count--</code> ä»£ç ã€‚</li></ol><p><img src="/z-oblib/z2-attachments/Pasted image 20220527095647.png" width=auto></p><a href=#æ€»ç»“><h3 id=æ€»ç»“><span class=hanchor arialabel=Anchor># </span>æ€»ç»“</h3></a><p>synchronized å®é™…æ˜¯ç”¨å¯¹è±¡é”ä¿è¯äº†ä¸´ç•ŒåŒºå†…ä»£ç çš„åŸå­æ€§ï¼Œä¸´ç•ŒåŒºå†…çš„ä»£ç å¯¹å¤–æ˜¯ä¸å¯åˆ†å‰²çš„ï¼Œä¸ä¼šè¢«çº¿ç¨‹åˆ‡æ¢æ‰€æ‰“æ–­ã€‚</p><a href=#ä½¿ç”¨åœºæ™¯><h2 id=ä½¿ç”¨åœºæ™¯><span class=hanchor arialabel=Anchor># </span>ä½¿ç”¨åœºæ™¯</h2></a><p><code>synchronized</code>å…³é”®å­—å¯ä»¥ç”¨åˆ°4ä¸ªç§åœºæ™¯:</p><ol><li>Instance methods</li><li>Static methods</li><li>Code blocks inside instance methods</li><li>Code blocks inside static methods</li></ol><a href=#æˆå‘˜æ–¹æ³•><h3 id=æˆå‘˜æ–¹æ³•><span class=hanchor arialabel=Anchor># </span>æˆå‘˜æ–¹æ³•</h3></a><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-1-1><a style=outline:none;text-decoration:none;color:inherit href=#hl-1-1>1</a>
</span><span class=lnt id=hl-1-2><a style=outline:none;text-decoration:none;color:inherit href=#hl-1-2>2</a>
</span><span class=lnt id=hl-1-3><a style=outline:none;text-decoration:none;color:inherit href=#hl-1-3>3</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>public</span> <span class=kd>synchronized</span> <span class=kt>void</span> <span class=nf>add</span><span class=o>(</span><span class=kt>int</span> <span class=n>value</span><span class=o>){</span>
</span></span><span class=line><span class=cl>      <span class=k>this</span><span class=o>.</span><span class=na>count</span> <span class=o>+=</span> <span class=n>value</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><p>ç­‰ä»·äºé”åœ¨æ‰€å±å¯¹è±¡ä¸Šï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-2-1><a style=outline:none;text-decoration:none;color:inherit href=#hl-2-1>1</a>
</span><span class=lnt id=hl-2-2><a style=outline:none;text-decoration:none;color:inherit href=#hl-2-2>2</a>
</span><span class=lnt id=hl-2-3><a style=outline:none;text-decoration:none;color:inherit href=#hl-2-3>3</a>
</span><span class=lnt id=hl-2-4><a style=outline:none;text-decoration:none;color:inherit href=#hl-2-4>4</a>
</span><span class=lnt id=hl-2-5><a style=outline:none;text-decoration:none;color:inherit href=#hl-2-5>5</a>
</span><span class=lnt id=hl-2-6><a style=outline:none;text-decoration:none;color:inherit href=#hl-2-6>6</a>
</span><span class=lnt id=hl-2-7><a style=outline:none;text-decoration:none;color:inherit href=#hl-2-7>7</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>class</span> <span class=nc>Test</span><span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>void</span> <span class=nf>test</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=kd>synchronized</span><span class=o>(</span><span class=k>this</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><a href=#é™æ€æ–¹æ³•><h3 id=é™æ€æ–¹æ³•><span class=hanchor arialabel=Anchor># </span>é™æ€æ–¹æ³•</h3></a><ul><li>åŒæ­¥é™æ€æ–¹æ³•å±äºç±»å¯¹è±¡ã€‚åœ¨VMä¸­åªæœ‰ä¸€ä¸ªç±»å¯¹è±¡ï¼Œå› æ­¤ä¸ç®¡æœ‰å‡ ä¸ªå¯¹è±¡ï¼Œåªèƒ½æœ‰ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œé™æ€åŒæ­¥æ–¹æ³•ã€‚</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-3-1><a style=outline:none;text-decoration:none;color:inherit href=#hl-3-1>1</a>
</span><span class=lnt id=hl-3-2><a style=outline:none;text-decoration:none;color:inherit href=#hl-3-2>2</a>
</span><span class=lnt id=hl-3-3><a style=outline:none;text-decoration:none;color:inherit href=#hl-3-3>3</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>public</span> <span class=kd>static</span> <span class=kd>synchronized</span> <span class=kt>void</span> <span class=nf>add</span><span class=o>(</span><span class=kt>int</span> <span class=n>value</span><span class=o>){</span>
</span></span><span class=line><span class=cl>      <span class=n>count</span> <span class=o>+=</span> <span class=n>value</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><p>ç­‰ä»·äºé”åœ¨ç±»å¯¹è±¡ä¸Šï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-4-1><a style=outline:none;text-decoration:none;color:inherit href=#hl-4-1>1</a>
</span><span class=lnt id=hl-4-2><a style=outline:none;text-decoration:none;color:inherit href=#hl-4-2>2</a>
</span><span class=lnt id=hl-4-3><a style=outline:none;text-decoration:none;color:inherit href=#hl-4-3>3</a>
</span><span class=lnt id=hl-4-4><a style=outline:none;text-decoration:none;color:inherit href=#hl-4-4>4</a>
</span><span class=lnt id=hl-4-5><a style=outline:none;text-decoration:none;color:inherit href=#hl-4-5>5</a>
</span><span class=lnt id=hl-4-6><a style=outline:none;text-decoration:none;color:inherit href=#hl-4-6>6</a>
</span><span class=lnt id=hl-4-7><a style=outline:none;text-decoration:none;color:inherit href=#hl-4-7>7</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>class</span> <span class=nc>Test</span><span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kd>static</span> <span class=kt>void</span> <span class=nf>test</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=kd>synchronized</span><span class=o>(</span><span class=n>Test</span><span class=o>.</span><span class=na>class</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><a href=#å®ä¾‹æ–¹æ³•ä»£ç å—><h3 id=å®ä¾‹æ–¹æ³•ä»£ç å—><span class=hanchor arialabel=Anchor># </span>å®ä¾‹æ–¹æ³•ä»£ç å—</h3></a><ul><li>ä¸éœ€è¦åŒæ­¥æ•´ä¸ªæ–¹æ³•ï¼Œåªéœ€è¦åŒæ­¥æ–¹æ³•é‡Œé¢çš„ä¸€éƒ¨åˆ†ï¼Œå¯ä»¥å€ŸåŠ©åŒæ­¥å—æ¥å®Œæˆå·¥ä½œã€‚</li><li>æ‹¬å·ä¸­çš„å¯¹è±¡æ˜¯åŒæ­¥ä»£ç è°ƒç”¨çš„å®ä¾‹ï¼Œæœ¬ä¾‹ä¸­æ˜¯<code>this</code>ã€‚è¿™ä¸ªå¯¹è±¡ç§°ä¸ºç›‘è§†å¯¹è±¡ã€‚</li><li>åœ¨è¯¥å¯¹è±¡ä¸Šæœ¬æ–¹æ³•è¢«å£°æ˜ä¸ºåŒæ­¥çš„ã€‚</li></ul><p><strong>ä»£ç å—å¿…é¡»è¦ä¼ é€’ä¸€ä¸ªå¯¹è±¡ä½œä¸ºé”çš„è½½ä½“ï¼Œå¯ä»¥æ˜¯ç‹¬ç«‹åˆ›å»ºçš„å¯¹è±¡æˆ–è€…æ˜¯ä»£ç å—æ‰€åœ¨å®ä¾‹æœ¬èº«ï¼ˆthisæŒ‡é’ˆï¼‰ã€‚</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-5-1><a style=outline:none;text-decoration:none;color:inherit href=#hl-5-1>1</a>
</span><span class=lnt id=hl-5-2><a style=outline:none;text-decoration:none;color:inherit href=#hl-5-2>2</a>
</span><span class=lnt id=hl-5-3><a style=outline:none;text-decoration:none;color:inherit href=#hl-5-3>3</a>
</span><span class=lnt id=hl-5-4><a style=outline:none;text-decoration:none;color:inherit href=#hl-5-4>4</a>
</span><span class=lnt id=hl-5-5><a style=outline:none;text-decoration:none;color:inherit href=#hl-5-5>5</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>public</span> <span class=kt>void</span> <span class=nf>add</span><span class=o>(</span><span class=kt>int</span> <span class=n>value</span><span class=o>){</span>
</span></span><span class=line><span class=cl>	<span class=kd>synchronized</span><span class=o>(</span><span class=k>this</span><span class=o>){</span>
</span></span><span class=line><span class=cl>	   <span class=k>this</span><span class=o>.</span><span class=na>count</span> <span class=o>+=</span> <span class=n>value</span><span class=o>;</span>   
</span></span><span class=line><span class=cl>	<span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><p>ä¸‹é¢ä¸¤ä¸ªæ–¹æ³•çš„ä»£ç ï¼Œæ•ˆæœæ˜¯ä¸€æ ·çš„ï¼š</p><ul><li>åªèƒ½æœ‰ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œ(é’ˆå¯¹åŒä¸€ä¸ªå¯¹è±¡)</li><li>ç¬¬äºŒä¸ªæ–¹æ³•æ˜¯ä¸åŒçš„çº¿ç¨‹æ‰§è¡Œçš„æ—¶å€™ä¼šåœ¨åŒæ­¥å—é‡Œé¢å‘ç”Ÿç­‰å¾…(é’ˆå¯¹åŒä¸€å¯¹è±¡)</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-6-1><a style=outline:none;text-decoration:none;color:inherit href=#hl-6-1> 1</a>
</span><span class=lnt id=hl-6-2><a style=outline:none;text-decoration:none;color:inherit href=#hl-6-2> 2</a>
</span><span class=lnt id=hl-6-3><a style=outline:none;text-decoration:none;color:inherit href=#hl-6-3> 3</a>
</span><span class=lnt id=hl-6-4><a style=outline:none;text-decoration:none;color:inherit href=#hl-6-4> 4</a>
</span><span class=lnt id=hl-6-5><a style=outline:none;text-decoration:none;color:inherit href=#hl-6-5> 5</a>
</span><span class=lnt id=hl-6-6><a style=outline:none;text-decoration:none;color:inherit href=#hl-6-6> 6</a>
</span><span class=lnt id=hl-6-7><a style=outline:none;text-decoration:none;color:inherit href=#hl-6-7> 7</a>
</span><span class=lnt id=hl-6-8><a style=outline:none;text-decoration:none;color:inherit href=#hl-6-8> 8</a>
</span><span class=lnt id=hl-6-9><a style=outline:none;text-decoration:none;color:inherit href=#hl-6-9> 9</a>
</span><span class=lnt id=hl-6-10><a style=outline:none;text-decoration:none;color:inherit href=#hl-6-10>10</a>
</span><span class=lnt id=hl-6-11><a style=outline:none;text-decoration:none;color:inherit href=#hl-6-11>11</a>
</span><span class=lnt id=hl-6-12><a style=outline:none;text-decoration:none;color:inherit href=#hl-6-12>12</a>
</span><span class=lnt id=hl-6-13><a style=outline:none;text-decoration:none;color:inherit href=#hl-6-13>13</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>public</span> <span class=kd>class</span> <span class=nc>MyClass</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kd>synchronized</span> <span class=kt>void</span> <span class=nf>log1</span><span class=o>(</span><span class=n>String</span> <span class=n>msg1</span><span class=o>,</span> <span class=n>String</span> <span class=n>msg2</span><span class=o>){</span>
</span></span><span class=line><span class=cl>        <span class=n>log</span><span class=o>.</span><span class=na>writeln</span><span class=o>(</span><span class=n>msg1</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=n>log</span><span class=o>.</span><span class=na>writeln</span><span class=o>(</span><span class=n>msg2</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>void</span> <span class=nf>log2</span><span class=o>(</span><span class=n>String</span> <span class=n>msg1</span><span class=o>,</span> <span class=n>String</span> <span class=n>msg2</span><span class=o>){</span>
</span></span><span class=line><span class=cl>        <span class=kd>synchronized</span><span class=o>(</span><span class=k>this</span><span class=o>){</span>
</span></span><span class=line><span class=cl>            <span class=n>log</span><span class=o>.</span><span class=na>writeln</span><span class=o>(</span><span class=n>msg1</span><span class=o>);</span>
</span></span><span class=line><span class=cl>            <span class=n>log</span><span class=o>.</span><span class=na>writeln</span><span class=o>(</span><span class=n>msg2</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><a href=#é™æ€æ–¹æ³•ä»£ç å—><h3 id=é™æ€æ–¹æ³•ä»£ç å—><span class=hanchor arialabel=Anchor># </span>é™æ€æ–¹æ³•ä»£ç å—</h3></a><p>ä¸‹é¢ä¸¤ä¸ªé™æ€æ–¹æ³•æ˜¯åœ¨ç±»å¯¹è±¡ä¸Šçš„:</p><ul><li>ä¸€ä¸ªçº¿ç¨‹åªèƒ½åœ¨åŒä¸€æ—¶é—´æ‰§è¡Œä¸Šé¢çš„ä»»ä½•ä¸€ä¸ªæ–¹æ³•ã€‚</li><li>å¯¹äºç¬¬äºŒä¸ªæ–¹æ³•ï¼šåªèƒ½æœ‰ä¸€ä¸ªçº¿ç¨‹åœ¨ä»£ç å—é‡Œé¢æ‰§è¡Œã€‚</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-7-1><a style=outline:none;text-decoration:none;color:inherit href=#hl-7-1> 1</a>
</span><span class=lnt id=hl-7-2><a style=outline:none;text-decoration:none;color:inherit href=#hl-7-2> 2</a>
</span><span class=lnt id=hl-7-3><a style=outline:none;text-decoration:none;color:inherit href=#hl-7-3> 3</a>
</span><span class=lnt id=hl-7-4><a style=outline:none;text-decoration:none;color:inherit href=#hl-7-4> 4</a>
</span><span class=lnt id=hl-7-5><a style=outline:none;text-decoration:none;color:inherit href=#hl-7-5> 5</a>
</span><span class=lnt id=hl-7-6><a style=outline:none;text-decoration:none;color:inherit href=#hl-7-6> 6</a>
</span><span class=lnt id=hl-7-7><a style=outline:none;text-decoration:none;color:inherit href=#hl-7-7> 7</a>
</span><span class=lnt id=hl-7-8><a style=outline:none;text-decoration:none;color:inherit href=#hl-7-8> 8</a>
</span><span class=lnt id=hl-7-9><a style=outline:none;text-decoration:none;color:inherit href=#hl-7-9> 9</a>
</span><span class=lnt id=hl-7-10><a style=outline:none;text-decoration:none;color:inherit href=#hl-7-10>10</a>
</span><span class=lnt id=hl-7-11><a style=outline:none;text-decoration:none;color:inherit href=#hl-7-11>11</a>
</span><span class=lnt id=hl-7-12><a style=outline:none;text-decoration:none;color:inherit href=#hl-7-12>12</a>
</span><span class=lnt id=hl-7-13><a style=outline:none;text-decoration:none;color:inherit href=#hl-7-13>13</a>
</span><span class=lnt id=hl-7-14><a style=outline:none;text-decoration:none;color:inherit href=#hl-7-14>14</a>
</span><span class=lnt id=hl-7-15><a style=outline:none;text-decoration:none;color:inherit href=#hl-7-15>15</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl>  <span class=kd>public</span> <span class=kd>class</span> <span class=nc>MyClass</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kd>static</span> <span class=kd>synchronized</span> <span class=kt>void</span> <span class=nf>log1</span><span class=o>(</span><span class=n>String</span> <span class=n>msg1</span><span class=o>,</span> <span class=n>String</span> <span class=n>msg2</span><span class=o>){</span>
</span></span><span class=line><span class=cl>       <span class=n>log</span><span class=o>.</span><span class=na>writeln</span><span class=o>(</span><span class=n>msg1</span><span class=o>);</span>
</span></span><span class=line><span class=cl>       <span class=n>log</span><span class=o>.</span><span class=na>writeln</span><span class=o>(</span><span class=n>msg2</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kd>static</span> <span class=kt>void</span> <span class=nf>log2</span><span class=o>(</span><span class=n>String</span> <span class=n>msg1</span><span class=o>,</span> <span class=n>String</span> <span class=n>msg2</span><span class=o>){</span>
</span></span><span class=line><span class=cl>       <span class=kd>synchronized</span><span class=o>(</span><span class=n>MyClass</span><span class=o>.</span><span class=na>class</span><span class=o>){</span>
</span></span><span class=line><span class=cl>          <span class=n>log</span><span class=o>.</span><span class=na>writeln</span><span class=o>(</span><span class=n>msg1</span><span class=o>);</span>
</span></span><span class=line><span class=cl>          <span class=n>log</span><span class=o>.</span><span class=na>writeln</span><span class=o>(</span><span class=n>msg2</span><span class=o>);</span>  
</span></span><span class=line><span class=cl>       <span class=o>}</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><a href=#åº•å±‚å®ç°><h2 id=åº•å±‚å®ç°><span class=hanchor arialabel=Anchor># </span>åº•å±‚å®ç°</h2></a><blockquote><p><a href=https://github.com/farmerjohngit/myblog/issues/12 rel=noopener>https://github.com/farmerjohngit/myblog/issues/12</a></p></blockquote><a href=#ä»£ç å—çº§><h3 id=ä»£ç å—çº§><span class=hanchor arialabel=Anchor># </span>ä»£ç å—çº§</h3></a><p>åŒæ­¥ä»£ç å—çš„åŠ é”ã€è§£é”æ˜¯é€šè¿‡ Javac ç¼–è¯‘å™¨å®ç°çš„ï¼Œåº•å±‚æ˜¯å€ŸåŠ©<code>monitorenter</code>å’Œ<code>monitorerexit</code>ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-8-1><a style=outline:none;text-decoration:none;color:inherit href=#hl-8-1>1</a>
</span><span class=lnt id=hl-8-2><a style=outline:none;text-decoration:none;color:inherit href=#hl-8-2>2</a>
</span><span class=lnt id=hl-8-3><a style=outline:none;text-decoration:none;color:inherit href=#hl-8-3>3</a>
</span><span class=lnt id=hl-8-4><a style=outline:none;text-decoration:none;color:inherit href=#hl-8-4>4</a>
</span><span class=lnt id=hl-8-5><a style=outline:none;text-decoration:none;color:inherit href=#hl-8-5>5</a>
</span><span class=lnt id=hl-8-6><a style=outline:none;text-decoration:none;color:inherit href=#hl-8-6>6</a>
</span><span class=lnt id=hl-8-7><a style=outline:none;text-decoration:none;color:inherit href=#hl-8-7>7</a>
</span><span class=lnt id=hl-8-8><a style=outline:none;text-decoration:none;color:inherit href=#hl-8-8>8</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>static</span> <span class=kd>final</span> <span class=n>Object</span> <span class=n>lock</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Object</span><span class=o>();</span>
</span></span><span class=line><span class=cl><span class=kd>static</span> <span class=kt>int</span> <span class=n>counter</span> <span class=o>=</span> <span class=n>0</span><span class=o>;</span>
</span></span><span class=line><span class=cl> 
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=kd>static</span> <span class=kt>void</span> <span class=nf>main</span><span class=o>(</span><span class=n>String</span><span class=o>[]</span> <span class=n>args</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>synchronized</span> <span class=o>(</span><span class=n>lock</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>counter</span><span class=o>++;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-9-1><a style=outline:none;text-decoration:none;color:inherit href=#hl-9-1> 1</a>
</span><span class=lnt id=hl-9-2><a style=outline:none;text-decoration:none;color:inherit href=#hl-9-2> 2</a>
</span><span class=lnt id=hl-9-3><a style=outline:none;text-decoration:none;color:inherit href=#hl-9-3> 3</a>
</span><span class=lnt id=hl-9-4><a style=outline:none;text-decoration:none;color:inherit href=#hl-9-4> 4</a>
</span><span class=lnt id=hl-9-5><a style=outline:none;text-decoration:none;color:inherit href=#hl-9-5> 5</a>
</span><span class=lnt id=hl-9-6><a style=outline:none;text-decoration:none;color:inherit href=#hl-9-6> 6</a>
</span><span class=lnt id=hl-9-7><a style=outline:none;text-decoration:none;color:inherit href=#hl-9-7> 7</a>
</span><span class=lnt id=hl-9-8><a style=outline:none;text-decoration:none;color:inherit href=#hl-9-8> 8</a>
</span><span class=lnt id=hl-9-9><a style=outline:none;text-decoration:none;color:inherit href=#hl-9-9> 9</a>
</span><span class=lnt id=hl-9-10><a style=outline:none;text-decoration:none;color:inherit href=#hl-9-10>10</a>
</span><span class=lnt id=hl-9-11><a style=outline:none;text-decoration:none;color:inherit href=#hl-9-11>11</a>
</span><span class=lnt id=hl-9-12><a style=outline:none;text-decoration:none;color:inherit href=#hl-9-12>12</a>
</span><span class=lnt id=hl-9-13><a style=outline:none;text-decoration:none;color:inherit href=#hl-9-13>13</a>
</span><span class=lnt id=hl-9-14><a style=outline:none;text-decoration:none;color:inherit href=#hl-9-14>14</a>
</span><span class=lnt id=hl-9-15><a style=outline:none;text-decoration:none;color:inherit href=#hl-9-15>15</a>
</span><span class=lnt id=hl-9-16><a style=outline:none;text-decoration:none;color:inherit href=#hl-9-16>16</a>
</span><span class=lnt id=hl-9-17><a style=outline:none;text-decoration:none;color:inherit href=#hl-9-17>17</a>
</span><span class=lnt id=hl-9-18><a style=outline:none;text-decoration:none;color:inherit href=#hl-9-18>18</a>
</span><span class=lnt id=hl-9-19><a style=outline:none;text-decoration:none;color:inherit href=#hl-9-19>19</a>
</span><span class=lnt id=hl-9-20><a style=outline:none;text-decoration:none;color:inherit href=#hl-9-20>20</a>
</span><span class=lnt id=hl-9-21><a style=outline:none;text-decoration:none;color:inherit href=#hl-9-21>21</a>
</span><span class=lnt id=hl-9-22><a style=outline:none;text-decoration:none;color:inherit href=#hl-9-22>22</a>
</span><span class=lnt id=hl-9-23><a style=outline:none;text-decoration:none;color:inherit href=#hl-9-23>23</a>
</span><span class=lnt id=hl-9-24><a style=outline:none;text-decoration:none;color:inherit href=#hl-9-24>24</a>
</span><span class=lnt id=hl-9-25><a style=outline:none;text-decoration:none;color:inherit href=#hl-9-25>25</a>
</span><span class=lnt id=hl-9-26><a style=outline:none;text-decoration:none;color:inherit href=#hl-9-26>26</a>
</span><span class=lnt id=hl-9-27><a style=outline:none;text-decoration:none;color:inherit href=#hl-9-27>27</a>
</span><span class=lnt id=hl-9-28><a style=outline:none;text-decoration:none;color:inherit href=#hl-9-28>28</a>
</span><span class=lnt id=hl-9-29><a style=outline:none;text-decoration:none;color:inherit href=#hl-9-29>29</a>
</span><span class=lnt id=hl-9-30><a style=outline:none;text-decoration:none;color:inherit href=#hl-9-30>30</a>
</span><span class=lnt id=hl-9-31><a style=outline:none;text-decoration:none;color:inherit href=#hl-9-31>31</a>
</span><span class=lnt id=hl-9-32><a style=outline:none;text-decoration:none;color:inherit href=#hl-9-32>32</a>
</span><span class=lnt id=hl-9-33><a style=outline:none;text-decoration:none;color:inherit href=#hl-9-33>33</a>
</span><span class=lnt id=hl-9-34><a style=outline:none;text-decoration:none;color:inherit href=#hl-9-34>34</a>
</span><span class=lnt id=hl-9-35><a style=outline:none;text-decoration:none;color:inherit href=#hl-9-35>35</a>
</span><span class=lnt id=hl-9-36><a style=outline:none;text-decoration:none;color:inherit href=#hl-9-36>36</a>
</span><span class=lnt id=hl-9-37><a style=outline:none;text-decoration:none;color:inherit href=#hl-9-37>37</a>
</span><span class=lnt id=hl-9-38><a style=outline:none;text-decoration:none;color:inherit href=#hl-9-38>38</a>
</span><span class=lnt id=hl-9-39><a style=outline:none;text-decoration:none;color:inherit href=#hl-9-39>39</a>
</span><span class=lnt id=hl-9-40><a style=outline:none;text-decoration:none;color:inherit href=#hl-9-40>40</a>
</span><span class=lnt id=hl-9-41><a style=outline:none;text-decoration:none;color:inherit href=#hl-9-41>41</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>public</span> <span class=kd>static</span> <span class=kt>void</span> <span class=nf>main</span><span class=o>(</span><span class=n>java</span><span class=o>.</span><span class=na>lang</span><span class=o>.</span><span class=na>String</span><span class=o>[]);</span>
</span></span><span class=line><span class=cl>    <span class=n>descriptor</span><span class=o>:</span> <span class=o>([</span><span class=n>Ljava</span><span class=o>/</span><span class=n>lang</span><span class=o>/</span><span class=n>String</span><span class=o>;)</span><span class=n>V</span>
</span></span><span class=line><span class=cl>    <span class=n>flags</span><span class=o>:</span> <span class=n>ACC_PUBLIC</span><span class=o>,</span> <span class=n>ACC_STATIC</span>
</span></span><span class=line><span class=cl>	<span class=n>Code</span><span class=o>:</span>
</span></span><span class=line><span class=cl>      <span class=n>stack</span><span class=o>=</span><span class=n>2</span><span class=o>,</span> <span class=n>locals</span><span class=o>=</span><span class=n>3</span><span class=o>,</span> <span class=n>args_size</span><span class=o>=</span><span class=n>1</span>
</span></span><span class=line><span class=cl>         <span class=n>0</span><span class=o>:</span> <span class=n>getstatic</span>     <span class=err>#</span><span class=n>2</span>                  <span class=c1>// &lt;- lockå¼•ç”¨ ï¼ˆsynchronizedå¼€å§‹ï¼‰
</span></span></span><span class=line><span class=cl><span class=c1></span>         <span class=n>3</span><span class=o>:</span> <span class=n>dup</span>
</span></span><span class=line><span class=cl>         <span class=n>4</span><span class=o>:</span> <span class=n>astore_1</span>                          <span class=c1>// lockå¼•ç”¨ -&gt; slot 1
</span></span></span><span class=line><span class=cl><span class=c1></span>         <span class=n>5</span><span class=o>:</span> <span class=n>monitorenter</span>                      <span class=c1>// å°† lockå¯¹è±¡ MarkWord ç½®ä¸º Monitor æŒ‡é’ˆ
</span></span></span><span class=line><span class=cl><span class=c1></span>         <span class=n>6</span><span class=o>:</span> <span class=n>getstatic</span>     <span class=err>#</span><span class=n>3</span>                  <span class=c1>// &lt;- i
</span></span></span><span class=line><span class=cl><span class=c1></span>         <span class=n>9</span><span class=o>:</span> <span class=n>iconst_1</span>                          <span class=c1>// å‡†å¤‡å¸¸æ•° 1
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=n>10</span><span class=o>:</span> <span class=n>iadd</span>                              <span class=c1>// +1
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=n>11</span><span class=o>:</span> <span class=n>putstatic</span>     <span class=err>#</span><span class=n>3</span>                  <span class=c1>// -&gt; i
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=n>14</span><span class=o>:</span> <span class=n>aload_1</span>                           <span class=c1>// &lt;- lockå¼•ç”¨
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=n>15</span><span class=o>:</span> <span class=n>monitorexit</span>                       <span class=c1>// å°† lockå¯¹è±¡ MarkWord é‡ç½®, å”¤é†’ EntryList
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=n>16</span><span class=o>:</span> <span class=k>goto</span>          <span class=n>24</span>
</span></span><span class=line><span class=cl>        <span class=n>19</span><span class=o>:</span> <span class=n>astore_2</span>                          <span class=c1>// e -&gt; slot 2 
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=n>20</span><span class=o>:</span> <span class=n>aload_1</span>                           <span class=c1>// &lt;- lockå¼•ç”¨
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=n>21</span><span class=o>:</span> <span class=n>monitorexit</span>                       <span class=c1>// å°† lockå¯¹è±¡ MarkWord é‡ç½®, å”¤é†’ EntryList
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=n>22</span><span class=o>:</span> <span class=n>aload_2</span>                           <span class=c1>// &lt;- slot 2 (e)
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=n>23</span><span class=o>:</span> <span class=n>athrow</span>                            <span class=c1>// throw e
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=n>24</span><span class=o>:</span> <span class=k>return</span>
</span></span><span class=line><span class=cl>      <span class=n>Exception</span> <span class=n>table</span><span class=o>:</span>
</span></span><span class=line><span class=cl>         <span class=n>from</span>    <span class=n>to</span>  <span class=n>target</span> <span class=n>type</span>
</span></span><span class=line><span class=cl>             <span class=n>6</span>    <span class=n>16</span>    <span class=n>19</span>   <span class=n>any</span>
</span></span><span class=line><span class=cl>            <span class=n>19</span>    <span class=n>22</span>    <span class=n>19</span>   <span class=n>any</span>
</span></span><span class=line><span class=cl>      <span class=n>LineNumberTable</span><span class=o>:</span>
</span></span><span class=line><span class=cl>        <span class=n>line</span> <span class=n>8</span><span class=o>:</span> <span class=n>0</span>
</span></span><span class=line><span class=cl>        <span class=n>line</span> <span class=n>9</span><span class=o>:</span> <span class=n>6</span>
</span></span><span class=line><span class=cl>        <span class=n>line</span> <span class=n>10</span><span class=o>:</span> <span class=n>14</span>
</span></span><span class=line><span class=cl>        <span class=n>line</span> <span class=n>11</span><span class=o>:</span> <span class=n>24</span>
</span></span><span class=line><span class=cl>      <span class=n>LocalVariableTable</span><span class=o>:</span>
</span></span><span class=line><span class=cl>        <span class=n>Start</span>  <span class=n>Length</span>  <span class=n>Slot</span>  <span class=n>Name</span>   <span class=n>Signature</span>
</span></span><span class=line><span class=cl>            <span class=n>0</span>      <span class=n>25</span>     <span class=n>0</span>  <span class=n>args</span>   <span class=o>[</span><span class=n>Ljava</span><span class=o>/</span><span class=n>lang</span><span class=o>/</span><span class=n>String</span><span class=o>;</span>
</span></span><span class=line><span class=cl>      <span class=n>StackMapTable</span><span class=o>:</span> <span class=n>number_of_entries</span> <span class=o>=</span> <span class=n>2</span>
</span></span><span class=line><span class=cl>        <span class=n>frame_type</span> <span class=o>=</span> <span class=n>255</span> <span class=cm>/* full_frame */</span>
</span></span><span class=line><span class=cl>          <span class=n>offset_delta</span> <span class=o>=</span> <span class=n>19</span>
</span></span><span class=line><span class=cl>          <span class=n>locals</span> <span class=o>=</span> <span class=o>[</span> <span class=kd>class</span> <span class=err>&#34;[</span><span class=nc>Ljava</span><span class=o>/</span><span class=n>lang</span><span class=o>/</span><span class=n>String</span><span class=o>;</span><span class=err>&#34;</span><span class=o>,</span> <span class=kd>class</span> <span class=nc>java</span><span class=o>/</span><span class=n>lang</span><span class=o>/</span><span class=n>Object</span> <span class=o>]</span>
</span></span><span class=line><span class=cl>          <span class=n>stack</span> <span class=o>=</span> <span class=o>[</span> <span class=kd>class</span> <span class=nc>java</span><span class=o>/</span><span class=n>lang</span><span class=o>/</span><span class=n>Throwable</span> <span class=o>]</span>
</span></span><span class=line><span class=cl>        <span class=n>frame_type</span> <span class=o>=</span> <span class=n>250</span> <span class=cm>/* chop */</span>
</span></span><span class=line><span class=cl>          <span class=n>offset_delta</span> <span class=o>=</span> <span class=n>4</span>
</span></span></code></pre></td></tr></table></div></div><p>ä»å­—èŠ‚ç ä¸­å¯çŸ¥åŒæ­¥è¯­å¥å—çš„å®ç°ä½¿ç”¨çš„æ˜¯<code>monitorenter</code>å’Œ<code>monitorexit</code>æŒ‡ä»¤ï¼Œå…¶ä¸­<code>monitorenter</code>æŒ‡ä»¤æŒ‡å‘åŒæ­¥ä»£ç å—çš„å¼€å§‹ä½ç½®ï¼Œ<code>monitorexit</code>æŒ‡ä»¤åˆ™æŒ‡æ˜åŒæ­¥ä»£ç å—çš„ç»“æŸä½ç½®ï¼Œå½“æ‰§è¡Œ<code>monitorenter</code>æŒ‡ä»¤æ—¶ï¼Œå½“å‰çº¿ç¨‹å°†è¯•å›¾è·å–<a href=/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/1-%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7/Mark-Word rel=noopener class=internal-link data-src=/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/1-%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7/Mark-Word>mark word</a>é‡Œé¢å­˜å‚¨çš„<a href=/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/monitor rel=noopener class=internal-link data-src=/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/monitor>monitor</a>ï¼Œå½“ <code>monitor</code>çš„è¿›å…¥è®¡æ•°å™¨ä¸º 0ï¼Œé‚£çº¿ç¨‹å¯ä»¥æˆåŠŸå–å¾—<code>monitor</code>ï¼Œå¹¶å°†è®¡æ•°å™¨å€¼è®¾ç½®ä¸º1ï¼Œå–é”æˆåŠŸã€‚</p><p><code>monitorenter</code>æŒ‡ä»¤ä¼šå°†Mark Wordç½®ä¸ºMonitoræŒ‡é’ˆï¼Œå†ä¹‹å‰ä¼šä¿å­˜å¯¹è±¡çš„hash codeç­‰ä¿¡æ¯ã€‚</p><p>å¦‚æœå½“å‰çº¿ç¨‹å·²ç»æ‹¥æœ‰ <code>monitor</code> çš„æŒæœ‰æƒï¼Œé‚£å®ƒå¯ä»¥é‡å…¥è¿™ä¸ª <code>monitor</code> ï¼Œé‡å…¥æ—¶è®¡æ•°å™¨çš„å€¼ä¹Ÿä¼šåŠ  1ã€‚å€˜è‹¥å…¶ä»–çº¿ç¨‹å·²ç»æ‹¥æœ‰<code>monitor</code>çš„æ‰€æœ‰æƒï¼Œé‚£å½“å‰çº¿ç¨‹å°†è¢«é˜»å¡ï¼Œç›´åˆ°æ­£åœ¨æ‰§è¡Œçº¿ç¨‹æ‰§è¡Œå®Œæ¯•ï¼Œå³<code>monitorexit</code>æŒ‡ä»¤è¢«æ‰§è¡Œï¼Œæ‰§è¡Œçº¿ç¨‹å°†é‡Šæ”¾ <code>monitor</code>å¹¶è®¾ç½®è®¡æ•°å™¨å€¼ä¸º0 ï¼Œå…¶ä»–çº¿ç¨‹å°†æœ‰æœºä¼šæŒæœ‰ <code>monitor</code> ã€‚</p><p><code>monitorexit</code>æŒ‡ä»¤ä¼šä»å¤åˆ¶çš„å¤‡ä»½ä¸­æ¢å¤å¯¹è±¡çš„hash codeç­‰ä¿¡æ¯ã€‚</p><p>å€¼å¾—æ³¨æ„çš„æ˜¯ç¼–è¯‘å™¨å°†ä¼šç¡®ä¿æ— è®ºæ–¹æ³•é€šè¿‡ä½•ç§æ–¹å¼å®Œæˆï¼Œæ–¹æ³•ä¸­è°ƒç”¨è¿‡çš„æ¯æ¡ <code>monitorenter</code> æŒ‡ä»¤éƒ½æœ‰æ‰§è¡Œå…¶å¯¹åº” <code>monitorexit</code> æŒ‡ä»¤ï¼Œè€Œæ— è®ºè¿™ä¸ªæ–¹æ³•æ˜¯æ­£å¸¸ç»“æŸè¿˜æ˜¯å¼‚å¸¸ç»“æŸã€‚ä¸ºäº†ä¿è¯åœ¨æ–¹æ³•å¼‚å¸¸å®Œæˆæ—¶ <code>monitorenter</code> å’Œ <code>monitorexit</code> æŒ‡ä»¤ä¾ç„¶å¯ä»¥æ­£ç¡®é…å¯¹æ‰§è¡Œï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨äº§ç”Ÿä¸€ä¸ªå¼‚å¸¸å¤„ç†å™¨ï¼Œè¿™ä¸ªå¼‚å¸¸å¤„ç†å™¨å£°æ˜å¯å¤„ç†æ‰€æœ‰çš„å¼‚å¸¸ï¼Œå®ƒçš„ç›®çš„å°±æ˜¯ç”¨æ¥æ‰§è¡Œ <code>monitorexit</code> æŒ‡ä»¤ã€‚ä»ä¸Šé¢çš„å­—èŠ‚ç ä¸­ä¹Ÿå¯ä»¥çœ‹å‡ºæœ‰ä¸¤ä¸ª<code>monitorexit</code>æŒ‡ä»¤ï¼Œå®ƒå°±æ˜¯å¼‚å¸¸ç»“æŸæ—¶è¢«æ‰§è¡Œçš„é‡Šæ”¾<code>monitor</code> çš„æŒ‡ä»¤ã€‚</p><p>å¼‚å¸¸å¤„ç†ä¼šæ ¹æ®Exception tableï¼š
åœ¨6-16è¡Œ/19-22è¡Œå‘ç”Ÿå¼‚å¸¸ï¼Œéƒ½ä¼šè·³è½¬åˆ°19è¡Œï¼Œ19è¡Œå°±æ˜¯é‡Šæ”¾é”çš„åœ°æ–¹ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-10-1><a style=outline:none;text-decoration:none;color:inherit href=#hl-10-1>1</a>
</span><span class=lnt id=hl-10-2><a style=outline:none;text-decoration:none;color:inherit href=#hl-10-2>2</a>
</span><span class=lnt id=hl-10-3><a style=outline:none;text-decoration:none;color:inherit href=#hl-10-3>3</a>
</span><span class=lnt id=hl-10-4><a style=outline:none;text-decoration:none;color:inherit href=#hl-10-4>4</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>Exception</span> <span class=n>table</span><span class=o>:</span>
</span></span><span class=line><span class=cl> <span class=n>from</span>    <span class=n>to</span>  <span class=n>target</span> <span class=n>type</span>
</span></span><span class=line><span class=cl>	 <span class=n>6</span>    <span class=n>16</span>    <span class=n>19</span>   <span class=n>any</span>
</span></span><span class=line><span class=cl>	<span class=n>19</span>    <span class=n>22</span>    <span class=n>19</span>   <span class=n>any</span>
</span></span></code></pre></td></tr></table></div></div><a href=#æ–¹æ³•çº§><h3 id=æ–¹æ³•çº§><span class=hanchor arialabel=Anchor># </span>æ–¹æ³•çº§</h3></a><p>åŒæ­¥æ–¹æ³•çš„åŠ é”ã€è§£é”æ˜¯é€šè¿‡ Javac ç¼–è¯‘å™¨å®ç°çš„ï¼Œåº•å±‚æ˜¯å€ŸåŠ©<code>ACC_SYNCHRONIZED</code>è®¿é—®æ ‡è¯†ç¬¦æ¥å®ç°çš„ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-11-1><a style=outline:none;text-decoration:none;color:inherit href=#hl-11-1>1</a>
</span><span class=lnt id=hl-11-2><a style=outline:none;text-decoration:none;color:inherit href=#hl-11-2>2</a>
</span><span class=lnt id=hl-11-3><a style=outline:none;text-decoration:none;color:inherit href=#hl-11-3>3</a>
</span><span class=lnt id=hl-11-4><a style=outline:none;text-decoration:none;color:inherit href=#hl-11-4>4</a>
</span><span class=lnt id=hl-11-5><a style=outline:none;text-decoration:none;color:inherit href=#hl-11-5>5</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>public</span> <span class=kd>class</span> <span class=nc>Hello</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kd>synchronized</span> <span class=kt>void</span> <span class=nf>test</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;test&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>æ–¹æ³•çº§çš„åŒæ­¥æ˜¯éšå¼</strong>ï¼Œå³æ— éœ€é€šè¿‡å­—èŠ‚ç æŒ‡ä»¤æ¥æ§åˆ¶çš„ï¼Œå®ƒå®ç°åœ¨æ–¹æ³•è°ƒç”¨å’Œè¿”å›æ“ä½œä¹‹ä¸­ã€‚JVMå¯ä»¥ä»æ–¹æ³•å¸¸é‡æ± ä¸­çš„æ–¹æ³•è¡¨ç»“æ„(method_info Structure) ä¸­çš„ <code>ACC_SYNCHRONIZED</code> è®¿é—®æ ‡å¿—åŒºåˆ†ä¸€ä¸ªæ–¹æ³•æ˜¯å¦åŒæ­¥æ–¹æ³•ã€‚å½“æ–¹æ³•è°ƒç”¨æ—¶ï¼Œè°ƒç”¨æŒ‡ä»¤å°†ä¼šæ£€æŸ¥æ–¹æ³•çš„ <code>ACC_SYNCHRONIZED</code>è®¿é—®æ ‡å¿—æ˜¯å¦è¢«è®¾ç½®ï¼Œå¦‚æœè®¾ç½®äº†ï¼Œæ‰§è¡Œçº¿ç¨‹å°†å…ˆæŒæœ‰<code>monitor</code>ï¼Œç„¶åå†æ‰§è¡Œæ–¹æ³•ï¼Œæœ€ååœ¨æ–¹æ³•å®Œæˆ(æ— è®ºæ˜¯æ­£å¸¸å®Œæˆè¿˜æ˜¯éæ­£å¸¸å®Œæˆ)æ—¶é‡Šæ”¾<code>monitor</code>ã€‚åœ¨æ–¹æ³•æ‰§è¡ŒæœŸé—´ï¼Œæ‰§è¡Œçº¿ç¨‹æŒæœ‰äº†<code>monitor</code>ï¼Œå…¶ä»–ä»»ä½•çº¿ç¨‹éƒ½æ— æ³•å†è·å¾—åŒä¸€ä¸ª<code>monitor</code>ã€‚å¦‚æœä¸€ä¸ªåŒæ­¥æ–¹æ³•æ‰§è¡ŒæœŸé—´æŠ›å‡ºäº†å¼‚å¸¸ï¼Œå¹¶ä¸”åœ¨æ–¹æ³•å†…éƒ¨æ— æ³•å¤„ç†æ­¤å¼‚å¸¸ï¼Œé‚£è¿™ä¸ªåŒæ­¥æ–¹æ³•æ‰€æŒæœ‰çš„<code>monitor</code>å°†åœ¨å¼‚å¸¸æŠ›åˆ°åŒæ­¥æ–¹æ³•ä¹‹å¤–æ—¶è‡ªåŠ¨é‡Šæ”¾ã€‚</p><p>ä¸‹é¢æˆ‘ä»¬çœ‹çœ‹å­—èŠ‚ç å±‚é¢å¦‚ä½•å®ç°ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-12-1><a style=outline:none;text-decoration:none;color:inherit href=#hl-12-1> 1</a>
</span><span class=lnt id=hl-12-2><a style=outline:none;text-decoration:none;color:inherit href=#hl-12-2> 2</a>
</span><span class=lnt id=hl-12-3><a style=outline:none;text-decoration:none;color:inherit href=#hl-12-3> 3</a>
</span><span class=lnt id=hl-12-4><a style=outline:none;text-decoration:none;color:inherit href=#hl-12-4> 4</a>
</span><span class=lnt id=hl-12-5><a style=outline:none;text-decoration:none;color:inherit href=#hl-12-5> 5</a>
</span><span class=lnt id=hl-12-6><a style=outline:none;text-decoration:none;color:inherit href=#hl-12-6> 6</a>
</span><span class=lnt id=hl-12-7><a style=outline:none;text-decoration:none;color:inherit href=#hl-12-7> 7</a>
</span><span class=lnt id=hl-12-8><a style=outline:none;text-decoration:none;color:inherit href=#hl-12-8> 8</a>
</span><span class=lnt id=hl-12-9><a style=outline:none;text-decoration:none;color:inherit href=#hl-12-9> 9</a>
</span><span class=lnt id=hl-12-10><a style=outline:none;text-decoration:none;color:inherit href=#hl-12-10>10</a>
</span><span class=lnt id=hl-12-11><a style=outline:none;text-decoration:none;color:inherit href=#hl-12-11>11</a>
</span><span class=lnt id=hl-12-12><a style=outline:none;text-decoration:none;color:inherit href=#hl-12-12>12</a>
</span><span class=lnt id=hl-12-13><a style=outline:none;text-decoration:none;color:inherit href=#hl-12-13>13</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>public</span> <span class=kd>class</span> <span class=nc>Hello</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=nf>Hello</span><span class=o>();</span>
</span></span><span class=line><span class=cl>    <span class=n>Code</span><span class=o>:</span>
</span></span><span class=line><span class=cl>       <span class=n>0</span><span class=o>:</span> <span class=n>aload_0</span>
</span></span><span class=line><span class=cl>       <span class=n>1</span><span class=o>:</span> <span class=n>invokespecial</span> <span class=err>#</span><span class=n>1</span>                  <span class=c1>// Method java/lang/Object.&#34;&lt;init&gt;&#34;:()V
</span></span></span><span class=line><span class=cl><span class=c1></span>       <span class=n>4</span><span class=o>:</span> <span class=k>return</span>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=kd>synchronized</span> <span class=kt>void</span> <span class=nf>test</span><span class=o>();</span>
</span></span><span class=line><span class=cl>    <span class=n>Code</span><span class=o>:</span>
</span></span><span class=line><span class=cl>       <span class=n>0</span><span class=o>:</span> <span class=n>getstatic</span>     <span class=err>#</span><span class=n>2</span>                  <span class=c1>// Field java/lang/System.out:Ljava/io/PrintStream;
</span></span></span><span class=line><span class=cl><span class=c1></span>       <span class=n>3</span><span class=o>:</span> <span class=n>ldc</span>           <span class=err>#</span><span class=n>3</span>                  <span class=c1>// String test
</span></span></span><span class=line><span class=cl><span class=c1></span>       <span class=n>5</span><span class=o>:</span> <span class=n>invokevirtual</span> <span class=err>#</span><span class=n>4</span>                  <span class=c1>// Method java/io/PrintStream.println:(Ljava/lang/String;)V
</span></span></span><span class=line><span class=cl><span class=c1></span>       <span class=n>8</span><span class=o>:</span> <span class=k>return</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><a href=#synchronizedçš„ä¸è¶³ä¹‹å¤„><h2 id=synchronizedçš„ä¸è¶³ä¹‹å¤„><span class=hanchor arialabel=Anchor># </span>synchronizedçš„ä¸è¶³ä¹‹å¤„</h2></a><p>synchronizedæ˜¯ç”¨æ“ä½œç³»ç»Ÿæä¾›çš„monitorå®ç°çš„ï¼Œæ‰€ä»¥å¼€é”€æ¯”è¾ƒå¤§ï¼Œä¹Ÿä¸æ˜¯å¾ˆçµæ´»ï¼š</p><ul><li>å¦‚æœä¸´ç•ŒåŒºæ˜¯åªè¯»æ“ä½œï¼Œå…¶å®å¯ä»¥å¤šçº¿ç¨‹ä¸€èµ·æ‰§è¡Œï¼Œä½†ä½¿ç”¨synchronizedçš„è¯ï¼Œ<strong>åŒä¸€æ—¶é—´åªèƒ½æœ‰ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œ</strong>ã€‚</li><li>synchronizedæ— æ³•çŸ¥é“çº¿ç¨‹æœ‰æ²¡æœ‰æˆåŠŸè·å–åˆ°é”ã€‚</li><li>ä½¿ç”¨synchronizedï¼Œå¦‚æœä¸´ç•ŒåŒºå› ä¸ºIOæˆ–è€…<a href=/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/sleep rel=noopener class=internal-link data-src=/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/sleep>sleep</a>æ–¹æ³•ç­‰åŸå› é˜»å¡äº†ï¼Œè€Œå½“å‰çº¿ç¨‹åˆæ²¡æœ‰é‡Šæ”¾é”ï¼Œå°±ä¼šå¯¼è‡´<strong>æ‰€æœ‰çº¿ç¨‹ç­‰å¾…</strong>ã€‚</li></ul><blockquote><p>é’ˆå¯¹æ€§èƒ½é—®é¢˜ï¼Œjava6å¼€å§‹æœ‰äº†<a href=/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E8%BD%BB%E9%87%8F%E7%BA%A7%E9%94%81 rel=noopener class=internal-link data-src=/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E8%BD%BB%E9%87%8F%E7%BA%A7%E9%94%81>è½»é‡çº§é”</a>å’Œ<a href=/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E5%81%8F%E5%90%91%E9%94%81 rel=noopener class=internal-link data-src=/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E5%81%8F%E5%90%91%E9%94%81>åå‘é”</a>ã€‚
é’ˆå¯¹åŠŸèƒ½æ€§é—®é¢˜ï¼Œåœ¨locksåŒ…ä¸‹çš„é”è§£å†³äº†ã€‚</p></blockquote></article><hr><div class=page-end id=footer><div class=backlinks-container><h3>åå‘é“¾æ¥</h3><ul class=backlinks><li><a href=/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E5%8F%AF%E8%A7%81%E6%80%A7/ data-ctx=synchronized data-src=/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E5%8F%AF%E8%A7%81%E6%80%A7 class=internal-link>å¯è§æ€§</a></li><li><a href=/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E7%AE%A1%E7%A8%8B%E6%80%BB%E7%BB%93/ data-ctx=synchronized data-src=/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E7%AE%A1%E7%A8%8B%E6%80%BB%E7%BB%93 class=internal-link>ç®¡ç¨‹æ€»ç»“</a></li><li><a href=/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E8%BD%BB%E9%87%8F%E7%BA%A7%E9%94%81/ data-ctx=synchronized data-src=/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E8%BD%BB%E9%87%8F%E7%BA%A7%E9%94%81 class=internal-link>è½»é‡çº§é”</a></li><li><a href=/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E9%94%81%E6%8E%A5%E5%8F%A3%E5%92%8C%E7%B1%BB/ data-ctx=synchronized data-src=/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E9%94%81%E6%8E%A5%E5%8F%A3%E5%92%8C%E7%B1%BB class=internal-link>é”æ¥å£å’Œç±»</a></li><li><a href=/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/AQS/ data-ctx=synchronized data-src=/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/AQS class=internal-link>AQS</a></li><li><a href=/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/CAS%E4%B8%8Evolatile/ data-ctx=synchronized data-src=/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/CAS%E4%B8%8Evolatile class=internal-link>CASä¸volatile</a></li><li><a href=/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/ConcurrentHashMap/ data-ctx=synchronized data-src=/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/ConcurrentHashMap class=internal-link>ConcurrentHashMap</a></li><li><a href=/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/ReentrantLock/ data-ctx=synchronized data-src=/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/ReentrantLock class=internal-link>ReentrantLock</a></li><li><a href=/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/java%E7%BA%BF%E7%A8%8B%E7%8A%B6%E6%80%81/ data-ctx=synchronized data-src=/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/java%E7%BA%BF%E7%A8%8B%E7%8A%B6%E6%80%81 class=internal-link>javaçº¿ç¨‹çŠ¶æ€</a></li><li><a href=/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/java%E9%81%BF%E5%85%8D%E4%B8%B4%E7%95%8C%E5%8C%BA%E7%AB%9E%E6%80%81%E6%9D%A1%E4%BB%B6/ data-ctx=synchronized data-src=/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/java%E9%81%BF%E5%85%8D%E4%B8%B4%E7%95%8C%E5%8C%BA%E7%AB%9E%E6%80%81%E6%9D%A1%E4%BB%B6 class=internal-link>javaé¿å…ä¸´ç•ŒåŒºç«æ€æ¡ä»¶</a></li><li><a href=/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/join/ data-ctx=åŒæ­¥æ–¹æ³• data-src=/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/join class=internal-link>join</a></li><li><a href=/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/monitor/ data-ctx=synchronized data-src=/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_0-%E8%BD%AF%E4%BB%B6%E8%AF%AD%E8%A8%80/Java/2-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/monitor class=internal-link>monitor</a></li><li><a href=/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_1-%E8%BD%AF%E4%BB%B6%E6%96%B9%E6%B3%95%E5%AD%A6/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/ data-ctx=synchronized data-src=/2_0_2-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2_0_2_1_2_1-%E8%BD%AF%E4%BB%B6%E6%96%B9%E6%B3%95%E5%AD%A6/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F class=internal-link>å•ä¾‹æ¨¡å¼</a></li></ul></div><div><script src=https://cdn.jsdelivr.net/npm/d3@6.7.0/dist/d3.min.js integrity="sha256-+7jaYCp29O1JusNWHaYtgUn6EhuP0VaFuswhNV06MyI=" crossorigin=anonymous></script><h3>æ¹¾åŒºåœ°å›¾</h3><div id=graph-container></div><style>:root{--g-node:var(--secondary);--g-node-active:var(--primary);--g-node-inactive:var(--visited);--g-link:var(--outlinegray);--g-link-active:#5a7282}</style><script src=https://harbor.mffseal.top/js/graph.abd4bc2af3869a96524d7d23b76152c7.js></script></div></div><div id=contact_buttons><footer><p>ç”± mffseal ä½¿ç”¨ <a href=https://github.com/jackyzha0/quartz>Quartz</a> å¼€å‘, Â© 2022</p><ul><li><a href=https://harbor.mffseal.top/>æ¸¯å£</a></li><li><a href=https://github.com/mffseal>Github</a></li></ul></footer></div></div></body></html>