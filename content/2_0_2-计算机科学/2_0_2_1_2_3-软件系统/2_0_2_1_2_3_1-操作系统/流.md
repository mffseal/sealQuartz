---
title: 流
created: 2022-08-02 23:39:17
updated: 2022-08-02 23:43:24
tags: 
- #atom
---
# 流

> [2、文件指针与文件描述符 - 孤情剑客 - 博客园 (cnblogs.com)](https://www.cnblogs.com/The-explosion/articles/12246297.html)

在C语言中引入了流(stream)的概念。它**将数据的输入输出看做是数据的流入和流出**，这样不管是磁盘文件或者是物理设备（打印机，显示器，键盘等）都可以看做一种流的源和目的地，视他们为同一种东西，而不管其具体的物理结构，即对他们的操作，就是数据的流入和流出。这种把数据的输入输出作为操作对象，抽象化为一种流，而不管它的具体结构的方法有利于编程，而设计流的输出操作的函数可用于各种对象，与具体的实体无关，即具有通用性。

标准I/O库的所有操作都是围绕流来进行的，在标准I/O中流用FILE *来描述。

标准I/O的核心对象就是流。当用标准I/O打开一个文件时，就会创建一个FILE结构体描述该文件（或者理解为创建一个FILE结构体和实际打开的文件关联起来）。我们把这个FILE结构体形象的称为流。标准I/O函数都基于流进行各种操作。

C语言将每个文件简单地作为顺序字节流(如下图)。

![[z-oblib/z2-attachments/Pasted image 20220802234132.png]]

每个文件用文件结束符结束，或者在特定字节数的地方结束，这个特定的字节数可以存储在系统维护的管理数据结构中。
当打开文件时，就建立了和文件的关系。在开始执行程序的时候，将自动打开3个文件和相关的流：标准输入流、标准输出流和标准错误。**流提供了文件和程序的通信通道**。例如，标准输入流使得程序可以从键盘读取数据，而标准输出流使得程序可以在屏幕上输出数据。

打开一个文件将返回指向FILE结构(在stdio.h中定义)的指针，它包含用于处理文件的信息，也就是说，这个结构包含[[2_0_2-计算机科学/2_0_2_1_2_3-软件系统/2_0_2_1_2_3_1-操作系统/文件描述符|文件描述符]]。标准输入、标准输出和标准错误是用[[2_0_2-计算机科学/2_0_2_1_2_3-软件系统/2_0_2_1_2_3_1-操作系统/文件指针|文件指针]]stdin、stdout和stderr来处理的。