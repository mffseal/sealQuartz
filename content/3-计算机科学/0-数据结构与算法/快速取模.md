---
title: 快速取模
created: 2022-06-13 19:16:12
updated: 2022-06-13 19:24:37
tags: 
- atom
---
# 快速取模

使用位运算代替取模：
前提：b为2^n
$a \% b == a \& (b - 1)$

## 原理

$X \% 2^n = X \& (2^n - 1)$

假设 n 为 3，则 2^3 = 8，表示成 2 进制就是 1000。2^3 - 1 = 7 ，即 0111。

此时 $X \& (2^3 - 1)$ 就相当于取 X 的 2 进制的最后三位数。