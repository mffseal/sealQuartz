---
title: 证书验证
created: 2022-09-28 02:15:49
updated: 2022-09-28 02:50:30
tags: 
- atom
---

# 证书验证

## 准备阶段

- 实体A：需要有A的公钥、A的私钥、A证书、CA证书
- 实体B：需要有B的公钥、B的私钥、B证书、CA证书

> A证书内容：【A公钥 + CA私钥签名[Hash（A的公钥 + 个人信息）]】
> B证书内容：【B公钥 + CA私钥签名[Hash（B的公钥 + 个人信息）]】
> CA证书内容：【CA公钥 + CA私钥签名[Hash（CA的公钥 + 个人信息）]】

互相交换交换证书后，实体A有了B证书，实体B有了A证书。

## 验证证书合法性

举例：A验证B证书是否合法：

> B证书内容：【B公钥 + CA私钥签名[Hash（B的公钥 + 个人信息）]】
> CA证书内容：【CA公钥 + CA私钥签名[Hash（CA的公钥 + 个人信息）]】

1. 用CA公解密B证书——得到HASH值12345。
2. 使用B证书提供的个人信息，公钥，签名算法也做HASH值得到12345 。
3. 如果两次hash值相同，即验证了B证书的合法。
