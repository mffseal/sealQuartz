---
title: 证书申请
created: 2022-09-28 02:51:42
updated: 2022-09-28 02:54:12
tags: 
- atom
---

# 证书申请

## 前置条件

1. 同步时间：时间是PIK系统的重中之重，必须先确保参加[[2_0_0-数学/2_0_0_2-密码学/PKI|PKI]]系统的设备和主机的时间同步。才能开始PKI的部署。当设备的时间慢与证书有效期的开始时间或者设备时间大于证书有效期的结束时间那么证书都是无效的。 忌讳：设备时间比证书服务器的时间慢。
2. 部署证书服务器。证书服务器是整个PKI系统的核心。可以选择微软的证书服务器。
3. 客户端产生密钥对。每一个实体在申请证书之前，需要预先产生RSA的秘钥对。
4. 验证证书服务器的合法性。每一个实体需要获取证书服务器的根证书，里面包含证书服务器的公钥。获取了根证书后，可以通过fingerprint离先验证证书服务器。
5. 申请个人证书。每一个实体发送自己的个人信息和公钥到PKI。（在线和离线方式）
6. [[2_0_0-数学/2_0_0_2-密码学/RA|RA]]审核并签名证书。管理员对每一个证书请求进行审核，并对个人信息和公钥内容进行数字签名，签名后的文件即为[[2_0_0-数学/2_0_0_2-密码学/数字证书|数字证书]]。
7. [[2_0_0-数学/2_0_0_2-密码学/CA|CA]]颁发数字证书给设备。证书服务器把签名的[[2_0_0-数学/2_0_0_2-密码学/证书颁发|证书颁发]]给实体。
8. 设备相互交换证书。

## 证书申请方式

- SCEP（Simple Certificate Enrollment Protocol）for VPN devices。
- File-based（PKCS#10）
- Web-based(browser-to-CA)
